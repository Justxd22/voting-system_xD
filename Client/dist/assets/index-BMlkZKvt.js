(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var gc={exports:{}},xo={},yc={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function Hg(){if(Cd)return _e;Cd=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function z(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,Z={};function K(V,b,ae){this.props=V,this.context=b,this.refs=Z,this.updater=ae||q}K.prototype.isReactComponent={},K.prototype.setState=function(V,b){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,b,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function De(){}De.prototype=K.prototype;function Re(V,b,ae){this.props=V,this.context=b,this.refs=Z,this.updater=ae||q}var ve=Re.prototype=new De;ve.constructor=Re,te(ve,K.prototype),ve.isPureReactComponent=!0;var we=Array.isArray,Xe=Object.prototype.hasOwnProperty,Pe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(V,b,ae){var ge,ye={},Te=null,Le=null;if(b!=null)for(ge in b.ref!==void 0&&(Le=b.ref),b.key!==void 0&&(Te=""+b.key),b)Xe.call(b,ge)&&!P.hasOwnProperty(ge)&&(ye[ge]=b[ge]);var Me=arguments.length-2;if(Me===1)ye.children=ae;else if(1<Me){for(var ze=Array(Me),dt=0;dt<Me;dt++)ze[dt]=arguments[dt+2];ye.children=ze}if(V&&V.defaultProps)for(ge in Me=V.defaultProps,Me)ye[ge]===void 0&&(ye[ge]=Me[ge]);return{$$typeof:s,type:V,key:Te,ref:Le,props:ye,_owner:Pe.current}}function I(V,b){return{$$typeof:s,type:V.type,key:b,ref:V.ref,props:V.props,_owner:V._owner}}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function x(V){var b={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return b[ae]})}var N=/\/+/g;function S(V,b){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):b.toString(36)}function Je(V,b,ae,ge,ye){var Te=typeof V;(Te==="undefined"||Te==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Te){case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case s:case t:Le=!0}}if(Le)return Le=V,ye=ye(Le),V=ge===""?"."+S(Le,0):ge,we(ye)?(ae="",V!=null&&(ae=V.replace(N,"$&/")+"/"),Je(ye,b,ae,"",function(dt){return dt})):ye!=null&&(R(ye)&&(ye=I(ye,ae+(!ye.key||Le&&Le.key===ye.key?"":(""+ye.key).replace(N,"$&/")+"/")+V)),b.push(ye)),1;if(Le=0,ge=ge===""?".":ge+":",we(V))for(var Me=0;Me<V.length;Me++){Te=V[Me];var ze=ge+S(Te,Me);Le+=Je(Te,b,ae,ze,ye)}else if(ze=z(V),typeof ze=="function")for(V=ze.call(V),Me=0;!(Te=V.next()).done;)Te=Te.value,ze=ge+S(Te,Me++),Le+=Je(Te,b,ae,ze,ye);else if(Te==="object")throw b=String(V),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Le}function kt(V,b,ae){if(V==null)return V;var ge=[],ye=0;return Je(V,ge,"","",function(Te){return b.call(ae,Te,ye++)}),ge}function At(V){if(V._status===-1){var b=V._result;b=b(),b.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=b)}if(V._status===1)return V._result.default;throw V._result}var Fe={current:null},G={transition:null},le={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:G,ReactCurrentOwner:Pe};function J(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:kt,forEach:function(V,b,ae){kt(V,function(){b.apply(this,arguments)},ae)},count:function(V){var b=0;return kt(V,function(){b++}),b},toArray:function(V){return kt(V,function(b){return b})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},_e.Component=K,_e.Fragment=r,_e.Profiler=l,_e.PureComponent=Re,_e.StrictMode=o,_e.Suspense=_,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,_e.act=J,_e.cloneElement=function(V,b,ae){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ge=te({},V.props),ye=V.key,Te=V.ref,Le=V._owner;if(b!=null){if(b.ref!==void 0&&(Te=b.ref,Le=Pe.current),b.key!==void 0&&(ye=""+b.key),V.type&&V.type.defaultProps)var Me=V.type.defaultProps;for(ze in b)Xe.call(b,ze)&&!P.hasOwnProperty(ze)&&(ge[ze]=b[ze]===void 0&&Me!==void 0?Me[ze]:b[ze])}var ze=arguments.length-2;if(ze===1)ge.children=ae;else if(1<ze){Me=Array(ze);for(var dt=0;dt<ze;dt++)Me[dt]=arguments[dt+2];ge.children=Me}return{$$typeof:s,type:V.type,key:ye,ref:Te,props:ge,_owner:Le}},_e.createContext=function(V){return V={$$typeof:p,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},_e.createElement=T,_e.createFactory=function(V){var b=T.bind(null,V);return b.type=V,b},_e.createRef=function(){return{current:null}},_e.forwardRef=function(V){return{$$typeof:g,render:V}},_e.isValidElement=R,_e.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:At}},_e.memo=function(V,b){return{$$typeof:w,type:V,compare:b===void 0?null:b}},_e.startTransition=function(V){var b=G.transition;G.transition={};try{V()}finally{G.transition=b}},_e.unstable_act=J,_e.useCallback=function(V,b){return Fe.current.useCallback(V,b)},_e.useContext=function(V){return Fe.current.useContext(V)},_e.useDebugValue=function(){},_e.useDeferredValue=function(V){return Fe.current.useDeferredValue(V)},_e.useEffect=function(V,b){return Fe.current.useEffect(V,b)},_e.useId=function(){return Fe.current.useId()},_e.useImperativeHandle=function(V,b,ae){return Fe.current.useImperativeHandle(V,b,ae)},_e.useInsertionEffect=function(V,b){return Fe.current.useInsertionEffect(V,b)},_e.useLayoutEffect=function(V,b){return Fe.current.useLayoutEffect(V,b)},_e.useMemo=function(V,b){return Fe.current.useMemo(V,b)},_e.useReducer=function(V,b,ae){return Fe.current.useReducer(V,b,ae)},_e.useRef=function(V){return Fe.current.useRef(V)},_e.useState=function(V){return Fe.current.useState(V)},_e.useSyncExternalStore=function(V,b,ae){return Fe.current.useSyncExternalStore(V,b,ae)},_e.useTransition=function(){return Fe.current.useTransition()},_e.version="18.3.1",_e}var Rd;function Jc(){return Rd||(Rd=1,yc.exports=Hg()),yc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function qg(){if(Pd)return xo;Pd=1;var s=Jc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,_,w){var A,O={},z=null,q=null;w!==void 0&&(z=""+w),_.key!==void 0&&(z=""+_.key),_.ref!==void 0&&(q=_.ref);for(A in _)o.call(_,A)&&!c.hasOwnProperty(A)&&(O[A]=_[A]);if(g&&g.defaultProps)for(A in _=g.defaultProps,_)O[A]===void 0&&(O[A]=_[A]);return{$$typeof:t,type:g,key:z,ref:q,props:O,_owner:l.current}}return xo.Fragment=r,xo.jsx=p,xo.jsxs=p,xo}var xd;function Qg(){return xd||(xd=1,gc.exports=qg()),gc.exports}var re=Qg(),gl=Jc(),ul={},_c={exports:{}},Qt={},vc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function Kg(){return Vd||(Vd=1,function(s){function t(G,le){var J=G.length;G.push(le);e:for(;0<J;){var V=J-1>>>1,b=G[V];if(0<l(b,le))G[V]=le,G[J]=b,J=V;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var le=G[0],J=G.pop();if(J!==le){G[0]=J;e:for(var V=0,b=G.length,ae=b>>>1;V<ae;){var ge=2*(V+1)-1,ye=G[ge],Te=ge+1,Le=G[Te];if(0>l(ye,J))Te<b&&0>l(Le,ye)?(G[V]=Le,G[Te]=J,V=Te):(G[V]=ye,G[ge]=J,V=ge);else if(Te<b&&0>l(Le,J))G[V]=Le,G[Te]=J,V=Te;else break e}}return le}function l(G,le){var J=G.sortIndex-le.sortIndex;return J!==0?J:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var _=[],w=[],A=1,O=null,z=3,q=!1,te=!1,Z=!1,K=typeof setTimeout=="function"?setTimeout:null,De=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(G){for(var le=r(w);le!==null;){if(le.callback===null)o(w);else if(le.startTime<=G)o(w),le.sortIndex=le.expirationTime,t(_,le);else break;le=r(w)}}function we(G){if(Z=!1,ve(G),!te)if(r(_)!==null)te=!0,At(Xe);else{var le=r(w);le!==null&&Fe(we,le.startTime-G)}}function Xe(G,le){te=!1,Z&&(Z=!1,De(T),T=-1),q=!0;var J=z;try{for(ve(le),O=r(_);O!==null&&(!(O.expirationTime>le)||G&&!x());){var V=O.callback;if(typeof V=="function"){O.callback=null,z=O.priorityLevel;var b=V(O.expirationTime<=le);le=s.unstable_now(),typeof b=="function"?O.callback=b:O===r(_)&&o(_),ve(le)}else o(_);O=r(_)}if(O!==null)var ae=!0;else{var ge=r(w);ge!==null&&Fe(we,ge.startTime-le),ae=!1}return ae}finally{O=null,z=J,q=!1}}var Pe=!1,P=null,T=-1,I=5,R=-1;function x(){return!(s.unstable_now()-R<I)}function N(){if(P!==null){var G=s.unstable_now();R=G;var le=!0;try{le=P(!0,G)}finally{le?S():(Pe=!1,P=null)}}else Pe=!1}var S;if(typeof Re=="function")S=function(){Re(N)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,kt=Je.port2;Je.port1.onmessage=N,S=function(){kt.postMessage(null)}}else S=function(){K(N,0)};function At(G){P=G,Pe||(Pe=!0,S())}function Fe(G,le){T=K(function(){G(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){te||q||(te=!0,At(Xe))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_getFirstCallbackNode=function(){return r(_)},s.unstable_next=function(G){switch(z){case 1:case 2:case 3:var le=3;break;default:le=z}var J=z;z=le;try{return G()}finally{z=J}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=z;z=G;try{return le()}finally{z=J}},s.unstable_scheduleCallback=function(G,le,J){var V=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?V+J:V):J=V,G){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=J+b,G={id:A++,callback:le,priorityLevel:G,startTime:J,expirationTime:b,sortIndex:-1},J>V?(G.sortIndex=J,t(w,G),r(_)===null&&G===r(w)&&(Z?(De(T),T=-1):Z=!0,Fe(we,J-V))):(G.sortIndex=b,t(_,G),te||q||(te=!0,At(Xe))),G},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(G){var le=z;return function(){var J=z;z=le;try{return G.apply(this,arguments)}finally{z=J}}}}(wc)),wc}var Nd;function Wg(){return Nd||(Nd=1,vc.exports=Kg()),vc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function Gg(){if(Dd)return Qt;Dd=1;var s=Jc(),t=Wg();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},O={};function z(e){return _.call(O,e)?!0:_.call(A,e)?!1:w.test(e)?O[e]=!0:(A[e]=!0,!1)}function q(e,n,i,u){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function te(e,n,i,u){if(n===null||typeof n>"u"||q(e,n,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Z(e,n,i,u,h,d,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=y}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new Z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new Z(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new Z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new Z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new Z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new Z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new Z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new Z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new Z(e,5,!1,e.toLowerCase(),null,!1,!1)});var De=/[\-:]([a-z])/g;function Re(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(De,Re);K[n]=new Z(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(De,Re);K[n]=new Z(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(De,Re);K[n]=new Z(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new Z(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new Z(e,1,!1,e.toLowerCase(),null,!0,!0)});function ve(e,n,i,u){var h=K.hasOwnProperty(n)?K[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(te(n,i,h,u)&&(i=null),u||h===null?z(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,u=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?e.setAttributeNS(u,n,i):e.setAttribute(n,i))))}var we=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),G=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,V;function b(e){if(V===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||""}return`
`+V+e}var ae=!1;function ge(e,n){if(!e||ae)return"";ae=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var u=F}Reflect.construct(e,[],n)}else{try{n.call()}catch(F){u=F}e.call(n.prototype)}else{try{throw Error()}catch(F){u=F}e()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),d=u.stack.split(`
`),y=h.length-1,E=d.length-1;1<=y&&0<=E&&h[y]!==d[E];)E--;for(;1<=y&&0<=E;y--,E--)if(h[y]!==d[E]){if(y!==1||E!==1)do if(y--,E--,0>E||h[y]!==d[E]){var k=`
`+h[y].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=y&&0<=E);break}}}finally{ae=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?b(e):""}function ye(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function Te(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case Pe:return"Portal";case I:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case N:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kt:return n=e.displayName||null,n!==null?n:Te(e.type)||"Memo";case At:n=e._payload,e=e._init;try{return Te(e(n))}catch{}}return null}function Le(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ze(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dt(e){var n=ze(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $n(e){e._valueTracker||(e._valueTracker=dt(e))}function Ii(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return e&&(u=ze(e)?e.checked?"true":"false":e.value),e=u,e!==i?(n.setValue(e),!0):!1}function ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $r(e,n){var i=n.checked;return J({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ki(e,n){var i=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;i=Me(n.value!=null?n.value:i),e._wrapperState={initialChecked:u,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ms(e,n){n=n.checked,n!=null&&ve(e,"checked",n,!1)}function Os(e,n){Ms(e,n);var i=Me(n.value),u=n.type;if(i!=null)u==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ai(e,n.type,i):n.hasOwnProperty("defaultValue")&&Ai(e,n.type,Me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Wo(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ai(e,n,i){(n!=="number"||ur(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Hn=Array.isArray;function qn(e,n,i,u){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&u&&(e[i].defaultSelected=!0)}else{for(i=""+Me(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Fs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ci(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(r(92));if(Hn(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Me(i)}}function Ri(e,n){var i=Me(n.value),u=Me(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),u!=null&&(e.defaultValue=""+u)}function js(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function ot(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?ot(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qn,zs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,u,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,u,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Qn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function cr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qr=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){qr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Hr[n]=Hr[e]})});function bs(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+n).trim():n+"px"}function Us(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=bs(i,n[i],u);i==="float"&&(i="cssFloat"),u?e.setProperty(i,h):e[i]=h}}var Bs=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $s(e,n){if(n){if(Bs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Hs(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function Pi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,nn=null,Rn=null;function Vi(e){if(e=mo(e)){if(typeof xi!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Ia(n),xi(e.stateNode,e.type,n))}}function Pn(e){nn?Rn?Rn.push(e):Rn=[e]:nn=e}function qs(){if(nn){var e=nn,n=Rn;if(Rn=nn=null,Vi(e),n)for(e=0;e<n.length;e++)Vi(n[e])}}function Kr(e,n){return e(n)}function Qs(){}var Kn=!1;function Ks(e,n,i){if(Kn)return e(n,i);Kn=!0;try{return Kr(e,n,i)}finally{Kn=!1,(nn!==null||Rn!==null)&&(Qs(),qs())}}function Ze(e,n){var i=e.stateNode;if(i===null)return null;var u=Ia(i);if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var Ni=!1;if(g)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Ni=!1}function Wr(e,n,i,u,h,d,y,E,k){var F=Array.prototype.slice.call(arguments,3);try{n.apply(i,F)}catch($){this.onError($)}}var Gr=!1,Di=null,pn=!1,Ws=null,Hl={onError:function(e){Gr=!0,Di=e}};function Li(e,n,i,u,h,d,y,E,k){Gr=!1,Di=null,Wr.apply(Hl,arguments)}function Go(e,n,i,u,h,d,y,E,k){if(Li.apply(this,arguments),Gr){if(Gr){var F=Di;Gr=!1,Di=null}else throw Error(r(198));pn||(pn=!0,Ws=F)}}function mn(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Yr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function gn(e){if(mn(e)!==e)throw Error(r(188))}function Yo(e){var n=e.alternate;if(!n){if(n=mn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,u=n;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return gn(h),e;if(d===u)return gn(h),n;d=d.sibling}throw Error(r(188))}if(i.return!==u.return)i=h,u=d;else{for(var y=!1,E=h.child;E;){if(E===i){y=!0,i=h,u=d;break}if(E===u){y=!0,u=h,i=d;break}E=E.sibling}if(!y){for(E=d.child;E;){if(E===i){y=!0,i=d,u=h;break}if(E===u){y=!0,u=d,i=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==u)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function Gs(e){return e=Yo(e),e!==null?Mi(e):null}function Mi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Mi(e);if(n!==null)return n;e=e.sibling}return null}var Oi=t.unstable_scheduleCallback,Ys=t.unstable_cancelCallback,Xo=t.unstable_shouldYield,ql=t.unstable_requestPaint,be=t.unstable_now,Jo=t.unstable_getCurrentPriorityLevel,Xr=t.unstable_ImmediatePriority,hr=t.unstable_UserBlockingPriority,rn=t.unstable_NormalPriority,Xs=t.unstable_LowPriority,Zo=t.unstable_IdlePriority,Jr=null,Gt=null;function ea(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Jr,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:na,Js=Math.log,ta=Math.LN2;function na(e){return e>>>=0,e===0?32:31-(Js(e)/ta|0)|0}var Fi=64,ji=4194304;function fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zr(e,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,h=e.suspendedLanes,d=e.pingedLanes,y=i&268435455;if(y!==0){var E=y&~h;E!==0?u=fr(E):(d&=y,d!==0&&(u=fr(d)))}else y=i&~h,y!==0?u=fr(y):d!==0&&(u=fr(d));if(u===0)return 0;if(n!==0&&n!==u&&!(n&h)&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if(u&4&&(u|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)i=31-Lt(n),h=1<<i,u|=e[i],n&=~h;return u}function Ql(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wn(e,n){for(var i=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var y=31-Lt(d),E=1<<y,k=h[y];k===-1?(!(E&i)||E&u)&&(h[y]=Ql(E,n)):k<=n&&(e.expiredLanes|=E),d&=~E}}function Yt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ei(){var e=Fi;return Fi<<=1,!(Fi&4194240)&&(Fi=64),e}function dr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function pr(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Lt(n),e[n]=i}function je(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Lt(i),d=1<<h;n[h]=0,u[h]=-1,e[h]=-1,i&=~d}}function mr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var u=31-Lt(i),h=1<<u;h&n|e[u]&n&&(e[u]|=n),i&=~h}}var Ee=0;function gr(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ra,zi,ia,sa,oa,Zs=!1,xn=[],vt=null,yn=null,_n=null,yr=new Map,sn=new Map,Vn=[],Kl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aa(e,n){switch(e){case"focusin":case"focusout":vt=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":yr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sn.delete(n.pointerId)}}function zt(e,n,i,u,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=mo(n),n!==null&&zi(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Wl(e,n,i,u,h){switch(n){case"focusin":return vt=zt(vt,e,n,i,u,h),!0;case"dragenter":return yn=zt(yn,e,n,i,u,h),!0;case"mouseover":return _n=zt(_n,e,n,i,u,h),!0;case"pointerover":var d=h.pointerId;return yr.set(d,zt(yr.get(d)||null,e,n,i,u,h)),!0;case"gotpointercapture":return d=h.pointerId,sn.set(d,zt(sn.get(d)||null,e,n,i,u,h)),!0}return!1}function la(e){var n=si(e.target);if(n!==null){var i=mn(n);if(i!==null){if(n=i.tag,n===13){if(n=Yr(i),n!==null){e.blockedOn=n,oa(e.priority,function(){ia(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=bi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);Qr=u,i.target.dispatchEvent(u),Qr=null}else return n=mo(i),n!==null&&zi(n),e.blockedOn=i,!1;n.shift()}return!0}function ti(e,n,i){Gn(e)&&i.delete(n)}function ua(){Zs=!1,vt!==null&&Gn(vt)&&(vt=null),yn!==null&&Gn(yn)&&(yn=null),_n!==null&&Gn(_n)&&(_n=null),yr.forEach(ti),sn.forEach(ti)}function vn(e,n){e.blockedOn===n&&(e.blockedOn=null,Zs||(Zs=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ua)))}function wn(e){function n(h){return vn(h,e)}if(0<xn.length){vn(xn[0],e);for(var i=1;i<xn.length;i++){var u=xn[i];u.blockedOn===e&&(u.blockedOn=null)}}for(vt!==null&&vn(vt,e),yn!==null&&vn(yn,e),_n!==null&&vn(_n,e),yr.forEach(n),sn.forEach(n),i=0;i<Vn.length;i++)u=Vn[i],u.blockedOn===e&&(u.blockedOn=null);for(;0<Vn.length&&(i=Vn[0],i.blockedOn===null);)la(i),i.blockedOn===null&&Vn.shift()}var Yn=we.ReactCurrentBatchConfig,_r=!0;function He(e,n,i,u){var h=Ee,d=Yn.transition;Yn.transition=null;try{Ee=1,eo(e,n,i,u)}finally{Ee=h,Yn.transition=d}}function Gl(e,n,i,u){var h=Ee,d=Yn.transition;Yn.transition=null;try{Ee=4,eo(e,n,i,u)}finally{Ee=h,Yn.transition=d}}function eo(e,n,i,u){if(_r){var h=bi(e,n,i,u);if(h===null)ou(e,n,u,ni,i),aa(e,u);else if(Wl(h,e,n,i,u))u.stopPropagation();else if(aa(e,u),n&4&&-1<Kl.indexOf(e)){for(;h!==null;){var d=mo(h);if(d!==null&&ra(d),d=bi(e,n,i,u),d===null&&ou(e,n,u,ni,i),d===h)break;h=d}h!==null&&u.stopPropagation()}else ou(e,n,u,null,i)}}var ni=null;function bi(e,n,i,u){if(ni=null,e=Pi(u),e=si(e),e!==null)if(n=mn(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Yr(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ni=e,null}function to(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jo()){case Xr:return 1;case hr:return 4;case rn:case Xs:return 16;case Zo:return 536870912;default:return 16}default:return 16}}var Xt=null,Ui=null,bt=null;function no(){if(bt)return bt;var e,n=Ui,i=n.length,u,h="value"in Xt?Xt.value:Xt.textContent,d=h.length;for(e=0;e<i&&n[e]===h[e];e++);var y=i-e;for(u=1;u<=y&&n[i-u]===h[d-u];u++);return bt=h.slice(e,1<u?1-u:void 0)}function Bi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Nn(){return!0}function ro(){return!1}function wt(e){function n(i,u,h,d,y){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Nn:ro,this.isPropagationStopped=ro,this}return J(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),n}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=wt(En),Dn=J({},En,{view:0,detail:0}),Yl=wt(Dn),Hi,Xn,vr,ri=J({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(Hi=e.screenX-vr.screenX,Xn=e.screenY-vr.screenY):Xn=Hi=0,vr=e),Hi)},movementY:function(e){return"movementY"in e?e.movementY:Xn}}),qi=wt(ri),io=J({},ri,{dataTransfer:0}),ca=wt(io),Qi=J({},Dn,{relatedTarget:0}),Ki=wt(Qi),ha=J({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),Jn=wt(ha),fa=J({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),da=wt(fa),pa=J({},En,{data:0}),so=wt(pa),Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ma={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ga(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ma[e])?!!n[e]:!1}function Ln(){return ga}var a=J({},Dn,{key:function(e){if(e.key){var n=Wi[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return e.type==="keypress"?Bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f=wt(a),m=J({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=wt(m),D=J({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln}),j=wt(D),W=J({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=wt(W),lt=J({},ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Se=wt(lt),pt=[9,13,27,32],rt=g&&"CompositionEvent"in window,on=null;g&&"documentMode"in document&&(on=document.documentMode);var Jt=g&&"TextEvent"in window&&!on,ii=g&&(!rt||on&&8<on&&11>=on),Gi=" ",wh=!1;function Eh(e,n){switch(e){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Th(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yi=!1;function Bm(e,n){switch(e){case"compositionend":return Th(n);case"keypress":return n.which!==32?null:(wh=!0,Gi);case"textInput":return e=n.data,e===Gi&&wh?null:e;default:return null}}function $m(e,n){if(Yi)return e==="compositionend"||!rt&&Eh(e,n)?(e=no(),bt=Ui=Xt=null,Yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ii&&n.locale!=="ko"?null:n.data;default:return null}}var Hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Hm[e.type]:n==="textarea"}function Ih(e,n,i,u){Pn(u),n=Ea(n,"onChange"),0<n.length&&(i=new $i("onChange","change",null,i,u),e.push({event:i,listeners:n}))}var oo=null,ao=null;function qm(e){Bh(e,0)}function ya(e){var n=ts(e);if(Ii(n))return e}function Qm(e,n){if(e==="change")return n}var kh=!1;if(g){var Xl;if(g){var Jl="oninput"in document;if(!Jl){var Ah=document.createElement("div");Ah.setAttribute("oninput","return;"),Jl=typeof Ah.oninput=="function"}Xl=Jl}else Xl=!1;kh=Xl&&(!document.documentMode||9<document.documentMode)}function Ch(){oo&&(oo.detachEvent("onpropertychange",Rh),ao=oo=null)}function Rh(e){if(e.propertyName==="value"&&ya(ao)){var n=[];Ih(n,ao,e,Pi(e)),Ks(qm,n)}}function Km(e,n,i){e==="focusin"?(Ch(),oo=n,ao=i,oo.attachEvent("onpropertychange",Rh)):e==="focusout"&&Ch()}function Wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ya(ao)}function Gm(e,n){if(e==="click")return ya(n)}function Ym(e,n){if(e==="input"||e==="change")return ya(n)}function Xm(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:Xm;function lo(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!_.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function Ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xh(e,n){var i=Ph(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=n&&u>=n)return{node:i,offset:n-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ph(i)}}function Vh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Nh(){for(var e=window,n=ur();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ur(e.document)}return n}function Zl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Jm(e){var n=Nh(),i=e.focusedElem,u=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Vh(i.ownerDocument.documentElement,i)){if(u!==null&&Zl(i)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!e.extend&&d>u&&(h=u,u=d,d=h),h=xh(i,d);var y=xh(i,u);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),d>u?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zm=g&&"documentMode"in document&&11>=document.documentMode,Xi=null,eu=null,uo=null,tu=!1;function Dh(e,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;tu||Xi==null||Xi!==ur(u)||(u=Xi,"selectionStart"in u&&Zl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),uo&&lo(uo,u)||(uo=u,u=Ea(eu,"onSelect"),0<u.length&&(n=new $i("onSelect","select",null,n,i),e.push({event:n,listeners:u}),n.target=Xi)))}function _a(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ji={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionend:_a("Transition","TransitionEnd")},nu={},Lh={};g&&(Lh=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function va(e){if(nu[e])return nu[e];if(!Ji[e])return e;var n=Ji[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Lh)return nu[e]=n[i];return e}var Mh=va("animationend"),Oh=va("animationiteration"),Fh=va("animationstart"),jh=va("transitionend"),zh=new Map,bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,n){zh.set(e,n),c(n,[e])}for(var ru=0;ru<bh.length;ru++){var iu=bh[ru],eg=iu.toLowerCase(),tg=iu[0].toUpperCase()+iu.slice(1);wr(eg,"on"+tg)}wr(Mh,"onAnimationEnd"),wr(Oh,"onAnimationIteration"),wr(Fh,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(jh,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Uh(e,n,i){var u=e.type||"unknown-event";e.currentTarget=i,Go(u,n,void 0,e),e.currentTarget=null}function Bh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var y=u.length-1;0<=y;y--){var E=u[y],k=E.instance,F=E.currentTarget;if(E=E.listener,k!==d&&h.isPropagationStopped())break e;Uh(h,E,F),d=k}else for(y=0;y<u.length;y++){if(E=u[y],k=E.instance,F=E.currentTarget,E=E.listener,k!==d&&h.isPropagationStopped())break e;Uh(h,E,F),d=k}}}if(pn)throw e=Ws,pn=!1,Ws=null,e}function Be(e,n){var i=n[fu];i===void 0&&(i=n[fu]=new Set);var u=e+"__bubble";i.has(u)||($h(n,e,2,!1),i.add(u))}function su(e,n,i){var u=0;n&&(u|=4),$h(i,e,u,n)}var wa="_reactListening"+Math.random().toString(36).slice(2);function ho(e){if(!e[wa]){e[wa]=!0,o.forEach(function(i){i!=="selectionchange"&&(ng.has(i)||su(i,!1,e),su(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wa]||(n[wa]=!0,su("selectionchange",!1,n))}}function $h(e,n,i,u){switch(to(n)){case 1:var h=He;break;case 4:h=Gl;break;default:h=eo}i=h.bind(null,n,i,e),h=void 0,!Ni||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function ou(e,n,i,u,h){var d=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var E=u.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var k=y.tag;if((k===3||k===4)&&(k=y.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;y=y.return}for(;E!==null;){if(y=si(E),y===null)return;if(k=y.tag,k===5||k===6){u=d=y;continue e}E=E.parentNode}}u=u.return}Ks(function(){var F=d,$=Pi(i),H=[];e:{var B=zh.get(e);if(B!==void 0){var X=$i,ie=e;switch(e){case"keypress":if(Bi(i)===0)break e;case"keydown":case"keyup":X=f;break;case"focusin":ie="focus",X=Ki;break;case"focusout":ie="blur",X=Ki;break;case"beforeblur":case"afterblur":X=Ki;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ca;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=j;break;case Mh:case Oh:case Fh:X=Jn;break;case jh:X=Oe;break;case"scroll":X=Yl;break;case"wheel":X=Se;break;case"copy":case"cut":case"paste":X=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=v}var se=(n&4)!==0,et=!se&&e==="scroll",L=se?B!==null?B+"Capture":null:B;se=[];for(var C=F,M;C!==null;){M=C;var Q=M.stateNode;if(M.tag===5&&Q!==null&&(M=Q,L!==null&&(Q=Ze(C,L),Q!=null&&se.push(fo(C,Q,M)))),et)break;C=C.return}0<se.length&&(B=new X(B,ie,null,i,$),H.push({event:B,listeners:se}))}}if(!(n&7)){e:{if(B=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",B&&i!==Qr&&(ie=i.relatedTarget||i.fromElement)&&(si(ie)||ie[Zn]))break e;if((X||B)&&(B=$.window===$?$:(B=$.ownerDocument)?B.defaultView||B.parentWindow:window,X?(ie=i.relatedTarget||i.toElement,X=F,ie=ie?si(ie):null,ie!==null&&(et=mn(ie),ie!==et||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(X=null,ie=F),X!==ie)){if(se=qi,Q="onMouseLeave",L="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(se=v,Q="onPointerLeave",L="onPointerEnter",C="pointer"),et=X==null?B:ts(X),M=ie==null?B:ts(ie),B=new se(Q,C+"leave",X,i,$),B.target=et,B.relatedTarget=M,Q=null,si($)===F&&(se=new se(L,C+"enter",ie,i,$),se.target=M,se.relatedTarget=et,Q=se),et=Q,X&&ie)t:{for(se=X,L=ie,C=0,M=se;M;M=Zi(M))C++;for(M=0,Q=L;Q;Q=Zi(Q))M++;for(;0<C-M;)se=Zi(se),C--;for(;0<M-C;)L=Zi(L),M--;for(;C--;){if(se===L||L!==null&&se===L.alternate)break t;se=Zi(se),L=Zi(L)}se=null}else se=null;X!==null&&Hh(H,B,X,se,!1),ie!==null&&et!==null&&Hh(H,et,ie,se,!0)}}e:{if(B=F?ts(F):window,X=B.nodeName&&B.nodeName.toLowerCase(),X==="select"||X==="input"&&B.type==="file")var oe=Qm;else if(Sh(B))if(kh)oe=Ym;else{oe=Wm;var ue=Km}else(X=B.nodeName)&&X.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(oe=Gm);if(oe&&(oe=oe(e,F))){Ih(H,oe,i,$);break e}ue&&ue(e,B,F),e==="focusout"&&(ue=B._wrapperState)&&ue.controlled&&B.type==="number"&&Ai(B,"number",B.value)}switch(ue=F?ts(F):window,e){case"focusin":(Sh(ue)||ue.contentEditable==="true")&&(Xi=ue,eu=F,uo=null);break;case"focusout":uo=eu=Xi=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,Dh(H,i,$);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":Dh(H,i,$)}var ce;if(rt)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Yi?Eh(e,i)&&(de="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(de="onCompositionStart");de&&(ii&&i.locale!=="ko"&&(Yi||de!=="onCompositionStart"?de==="onCompositionEnd"&&Yi&&(ce=no()):(Xt=$,Ui="value"in Xt?Xt.value:Xt.textContent,Yi=!0)),ue=Ea(F,de),0<ue.length&&(de=new so(de,e,null,i,$),H.push({event:de,listeners:ue}),ce?de.data=ce:(ce=Th(i),ce!==null&&(de.data=ce)))),(ce=Jt?Bm(e,i):$m(e,i))&&(F=Ea(F,"onBeforeInput"),0<F.length&&($=new so("onBeforeInput","beforeinput",null,i,$),H.push({event:$,listeners:F}),$.data=ce))}Bh(H,n)})}function fo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Ea(e,n){for(var i=n+"Capture",u=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=Ze(e,i),d!=null&&u.unshift(fo(e,d,h)),d=Ze(e,n),d!=null&&u.push(fo(e,d,h))),e=e.return}return u}function Zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hh(e,n,i,u,h){for(var d=n._reactName,y=[];i!==null&&i!==u;){var E=i,k=E.alternate,F=E.stateNode;if(k!==null&&k===u)break;E.tag===5&&F!==null&&(E=F,h?(k=Ze(i,d),k!=null&&y.unshift(fo(i,k,E))):h||(k=Ze(i,d),k!=null&&y.push(fo(i,k,E)))),i=i.return}y.length!==0&&e.push({event:n,listeners:y})}var rg=/\r\n?/g,ig=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(rg,`
`).replace(ig,"")}function Ta(e,n,i){if(n=qh(n),qh(e)!==n&&i)throw Error(r(425))}function Sa(){}var au=null,lu=null;function uu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,sg=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,og=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(e){return Qh.resolve(null).then(e).catch(ag)}:cu;function ag(e){setTimeout(function(){throw e})}function hu(e,n){var i=n,u=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){e.removeChild(h),wn(n);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);wn(n)}function Er(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Kh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),Mn="__reactFiber$"+es,po="__reactProps$"+es,Zn="__reactContainer$"+es,fu="__reactEvents$"+es,lg="__reactListeners$"+es,ug="__reactHandles$"+es;function si(e){var n=e[Mn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Zn]||i[Mn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Kh(e);e!==null;){if(i=e[Mn])return i;e=Kh(e)}return n}e=i,i=e.parentNode}return null}function mo(e){return e=e[Mn]||e[Zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ia(e){return e[po]||null}var du=[],ns=-1;function Tr(e){return{current:e}}function $e(e){0>ns||(e.current=du[ns],du[ns]=null,ns--)}function Ue(e,n){ns++,du[ns]=e.current,e.current=n}var Sr={},Ct=Tr(Sr),Ut=Tr(!1),oi=Sr;function rs(e,n){var i=e.type.contextTypes;if(!i)return Sr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in i)h[d]=n[d];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function Bt(e){return e=e.childContextTypes,e!=null}function ka(){$e(Ut),$e(Ct)}function Wh(e,n,i){if(Ct.current!==Sr)throw Error(r(168));Ue(Ct,n),Ue(Ut,i)}function Gh(e,n,i){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Le(e)||"Unknown",h));return J({},i,u)}function Aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sr,oi=Ct.current,Ue(Ct,e),Ue(Ut,Ut.current),!0}function Yh(e,n,i){var u=e.stateNode;if(!u)throw Error(r(169));i?(e=Gh(e,n,oi),u.__reactInternalMemoizedMergedChildContext=e,$e(Ut),$e(Ct),Ue(Ct,e)):$e(Ut),Ue(Ut,i)}var er=null,Ca=!1,pu=!1;function Xh(e){er===null?er=[e]:er.push(e)}function cg(e){Ca=!0,Xh(e)}function Ir(){if(!pu&&er!==null){pu=!0;var e=0,n=Ee;try{var i=er;for(Ee=1;e<i.length;e++){var u=i[e];do u=u(!0);while(u!==null)}er=null,Ca=!1}catch(h){throw er!==null&&(er=er.slice(e+1)),Oi(Xr,Ir),h}finally{Ee=n,pu=!1}}return null}var is=[],ss=0,Ra=null,Pa=0,an=[],ln=0,ai=null,tr=1,nr="";function li(e,n){is[ss++]=Pa,is[ss++]=Ra,Ra=e,Pa=n}function Jh(e,n,i){an[ln++]=tr,an[ln++]=nr,an[ln++]=ai,ai=e;var u=tr;e=nr;var h=32-Lt(u)-1;u&=~(1<<h),i+=1;var d=32-Lt(n)+h;if(30<d){var y=h-h%5;d=(u&(1<<y)-1).toString(32),u>>=y,h-=y,tr=1<<32-Lt(n)+h|i<<h|u,nr=d+e}else tr=1<<d|i<<h|u,nr=e}function mu(e){e.return!==null&&(li(e,1),Jh(e,1,0))}function gu(e){for(;e===Ra;)Ra=is[--ss],is[ss]=null,Pa=is[--ss],is[ss]=null;for(;e===ai;)ai=an[--ln],an[ln]=null,nr=an[--ln],an[ln]=null,tr=an[--ln],an[ln]=null}var Zt=null,en=null,qe=!1,Sn=null;function Zh(e,n){var i=fn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function ef(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Zt=e,en=Er(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Zt=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ai!==null?{id:tr,overflow:nr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=fn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Zt=e,en=null,!0):!1;default:return!1}}function yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _u(e){if(qe){var n=en;if(n){var i=n;if(!ef(e,n)){if(yu(e))throw Error(r(418));n=Er(i.nextSibling);var u=Zt;n&&ef(e,n)?Zh(u,i):(e.flags=e.flags&-4097|2,qe=!1,Zt=e)}}else{if(yu(e))throw Error(r(418));e.flags=e.flags&-4097|2,qe=!1,Zt=e}}}function tf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function xa(e){if(e!==Zt)return!1;if(!qe)return tf(e),qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!uu(e.type,e.memoizedProps)),n&&(n=en)){if(yu(e))throw nf(),Error(r(418));for(;n;)Zh(e,n),n=Er(n.nextSibling)}if(tf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){en=Er(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}en=null}}else en=Zt?Er(e.stateNode.nextSibling):null;return!0}function nf(){for(var e=en;e;)e=Er(e.nextSibling)}function os(){en=Zt=null,qe=!1}function vu(e){Sn===null?Sn=[e]:Sn.push(e)}var hg=we.ReactCurrentBatchConfig;function go(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var u=i.stateNode}if(!u)throw Error(r(147,e));var h=u,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(y){var E=h.refs;y===null?delete E[d]:E[d]=y},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function Va(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function rf(e){var n=e._init;return n(e._payload)}function sf(e){function n(L,C){if(e){var M=L.deletions;M===null?(L.deletions=[C],L.flags|=16):M.push(C)}}function i(L,C){if(!e)return null;for(;C!==null;)n(L,C),C=C.sibling;return null}function u(L,C){for(L=new Map;C!==null;)C.key!==null?L.set(C.key,C):L.set(C.index,C),C=C.sibling;return L}function h(L,C){return L=Nr(L,C),L.index=0,L.sibling=null,L}function d(L,C,M){return L.index=M,e?(M=L.alternate,M!==null?(M=M.index,M<C?(L.flags|=2,C):M):(L.flags|=2,C)):(L.flags|=1048576,C)}function y(L){return e&&L.alternate===null&&(L.flags|=2),L}function E(L,C,M,Q){return C===null||C.tag!==6?(C=cc(M,L.mode,Q),C.return=L,C):(C=h(C,M),C.return=L,C)}function k(L,C,M,Q){var oe=M.type;return oe===P?$(L,C,M.props.children,Q,M.key):C!==null&&(C.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===At&&rf(oe)===C.type)?(Q=h(C,M.props),Q.ref=go(L,C,M),Q.return=L,Q):(Q=tl(M.type,M.key,M.props,null,L.mode,Q),Q.ref=go(L,C,M),Q.return=L,Q)}function F(L,C,M,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=hc(M,L.mode,Q),C.return=L,C):(C=h(C,M.children||[]),C.return=L,C)}function $(L,C,M,Q,oe){return C===null||C.tag!==7?(C=gi(M,L.mode,Q,oe),C.return=L,C):(C=h(C,M),C.return=L,C)}function H(L,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return C=cc(""+C,L.mode,M),C.return=L,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xe:return M=tl(C.type,C.key,C.props,null,L.mode,M),M.ref=go(L,null,C),M.return=L,M;case Pe:return C=hc(C,L.mode,M),C.return=L,C;case At:var Q=C._init;return H(L,Q(C._payload),M)}if(Hn(C)||le(C))return C=gi(C,L.mode,M,null),C.return=L,C;Va(L,C)}return null}function B(L,C,M,Q){var oe=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return oe!==null?null:E(L,C,""+M,Q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:return M.key===oe?k(L,C,M,Q):null;case Pe:return M.key===oe?F(L,C,M,Q):null;case At:return oe=M._init,B(L,C,oe(M._payload),Q)}if(Hn(M)||le(M))return oe!==null?null:$(L,C,M,Q,null);Va(L,M)}return null}function X(L,C,M,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return L=L.get(M)||null,E(C,L,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Xe:return L=L.get(Q.key===null?M:Q.key)||null,k(C,L,Q,oe);case Pe:return L=L.get(Q.key===null?M:Q.key)||null,F(C,L,Q,oe);case At:var ue=Q._init;return X(L,C,M,ue(Q._payload),oe)}if(Hn(Q)||le(Q))return L=L.get(M)||null,$(C,L,Q,oe,null);Va(C,Q)}return null}function ie(L,C,M,Q){for(var oe=null,ue=null,ce=C,de=C=0,yt=null;ce!==null&&de<M.length;de++){ce.index>de?(yt=ce,ce=null):yt=ce.sibling;var Ne=B(L,ce,M[de],Q);if(Ne===null){ce===null&&(ce=yt);break}e&&ce&&Ne.alternate===null&&n(L,ce),C=d(Ne,C,de),ue===null?oe=Ne:ue.sibling=Ne,ue=Ne,ce=yt}if(de===M.length)return i(L,ce),qe&&li(L,de),oe;if(ce===null){for(;de<M.length;de++)ce=H(L,M[de],Q),ce!==null&&(C=d(ce,C,de),ue===null?oe=ce:ue.sibling=ce,ue=ce);return qe&&li(L,de),oe}for(ce=u(L,ce);de<M.length;de++)yt=X(ce,L,de,M[de],Q),yt!==null&&(e&&yt.alternate!==null&&ce.delete(yt.key===null?de:yt.key),C=d(yt,C,de),ue===null?oe=yt:ue.sibling=yt,ue=yt);return e&&ce.forEach(function(Dr){return n(L,Dr)}),qe&&li(L,de),oe}function se(L,C,M,Q){var oe=le(M);if(typeof oe!="function")throw Error(r(150));if(M=oe.call(M),M==null)throw Error(r(151));for(var ue=oe=null,ce=C,de=C=0,yt=null,Ne=M.next();ce!==null&&!Ne.done;de++,Ne=M.next()){ce.index>de?(yt=ce,ce=null):yt=ce.sibling;var Dr=B(L,ce,Ne.value,Q);if(Dr===null){ce===null&&(ce=yt);break}e&&ce&&Dr.alternate===null&&n(L,ce),C=d(Dr,C,de),ue===null?oe=Dr:ue.sibling=Dr,ue=Dr,ce=yt}if(Ne.done)return i(L,ce),qe&&li(L,de),oe;if(ce===null){for(;!Ne.done;de++,Ne=M.next())Ne=H(L,Ne.value,Q),Ne!==null&&(C=d(Ne,C,de),ue===null?oe=Ne:ue.sibling=Ne,ue=Ne);return qe&&li(L,de),oe}for(ce=u(L,ce);!Ne.done;de++,Ne=M.next())Ne=X(ce,L,de,Ne.value,Q),Ne!==null&&(e&&Ne.alternate!==null&&ce.delete(Ne.key===null?de:Ne.key),C=d(Ne,C,de),ue===null?oe=Ne:ue.sibling=Ne,ue=Ne);return e&&ce.forEach(function($g){return n(L,$g)}),qe&&li(L,de),oe}function et(L,C,M,Q){if(typeof M=="object"&&M!==null&&M.type===P&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:e:{for(var oe=M.key,ue=C;ue!==null;){if(ue.key===oe){if(oe=M.type,oe===P){if(ue.tag===7){i(L,ue.sibling),C=h(ue,M.props.children),C.return=L,L=C;break e}}else if(ue.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===At&&rf(oe)===ue.type){i(L,ue.sibling),C=h(ue,M.props),C.ref=go(L,ue,M),C.return=L,L=C;break e}i(L,ue);break}else n(L,ue);ue=ue.sibling}M.type===P?(C=gi(M.props.children,L.mode,Q,M.key),C.return=L,L=C):(Q=tl(M.type,M.key,M.props,null,L.mode,Q),Q.ref=go(L,C,M),Q.return=L,L=Q)}return y(L);case Pe:e:{for(ue=M.key;C!==null;){if(C.key===ue)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){i(L,C.sibling),C=h(C,M.children||[]),C.return=L,L=C;break e}else{i(L,C);break}else n(L,C);C=C.sibling}C=hc(M,L.mode,Q),C.return=L,L=C}return y(L);case At:return ue=M._init,et(L,C,ue(M._payload),Q)}if(Hn(M))return ie(L,C,M,Q);if(le(M))return se(L,C,M,Q);Va(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,C!==null&&C.tag===6?(i(L,C.sibling),C=h(C,M),C.return=L,L=C):(i(L,C),C=cc(M,L.mode,Q),C.return=L,L=C),y(L)):i(L,C)}return et}var as=sf(!0),of=sf(!1),Na=Tr(null),Da=null,ls=null,wu=null;function Eu(){wu=ls=Da=null}function Tu(e){var n=Na.current;$e(Na),e._currentValue=n}function Su(e,n,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===i)break;e=e.return}}function us(e,n){Da=e,wu=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&($t=!0),e.firstContext=null)}function un(e){var n=e._currentValue;if(wu!==e)if(e={context:e,memoizedValue:n,next:null},ls===null){if(Da===null)throw Error(r(308));ls=e,Da.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return n}var ui=null;function Iu(e){ui===null?ui=[e]:ui.push(e)}function af(e,n,i,u){var h=n.interleaved;return h===null?(i.next=i,Iu(n)):(i.next=h.next,h.next=i),n.interleaved=i,rr(e,u)}function rr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var kr=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Ar(e,n,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,xe&2){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,rr(e,i)}return h=u.interleaved,h===null?(n.next=n,Iu(u)):(n.next=h.next,h.next=n),u.interleaved=n,rr(e,i)}function La(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,mr(e,i)}}function uf(e,n){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?h=d=y:d=d.next=y,i=i.next}while(i!==null);d===null?h=d=n:d=d.next=n}else h=d=n;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ma(e,n,i,u){var h=e.updateQueue;kr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var k=E,F=k.next;k.next=null,y===null?d=F:y.next=F,y=k;var $=e.alternate;$!==null&&($=$.updateQueue,E=$.lastBaseUpdate,E!==y&&(E===null?$.firstBaseUpdate=F:E.next=F,$.lastBaseUpdate=k))}if(d!==null){var H=h.baseState;y=0,$=F=k=null,E=d;do{var B=E.lane,X=E.eventTime;if((u&B)===B){$!==null&&($=$.next={eventTime:X,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ie=e,se=E;switch(B=n,X=i,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){H=ie.call(X,H,B);break e}H=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,B=typeof ie=="function"?ie.call(X,H,B):ie,B==null)break e;H=J({},H,B);break e;case 2:kr=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,B=h.effects,B===null?h.effects=[E]:B.push(E))}else X={eventTime:X,lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},$===null?(F=$=X,k=H):$=$.next=X,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);if($===null&&(k=H),h.baseState=k,h.firstBaseUpdate=F,h.lastBaseUpdate=$,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);fi|=y,e.lanes=y,e.memoizedState=H}}function cf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var yo={},On=Tr(yo),_o=Tr(yo),vo=Tr(yo);function ci(e){if(e===yo)throw Error(r(174));return e}function Au(e,n){switch(Ue(vo,n),Ue(_o,e),Ue(On,yo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:at(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=at(n,e)}$e(On),Ue(On,n)}function cs(){$e(On),$e(_o),$e(vo)}function hf(e){ci(vo.current);var n=ci(On.current),i=at(n,e.type);n!==i&&(Ue(_o,e),Ue(On,i))}function Cu(e){_o.current===e&&($e(On),$e(_o))}var Qe=Tr(0);function Oa(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ru=[];function Pu(){for(var e=0;e<Ru.length;e++)Ru[e]._workInProgressVersionPrimary=null;Ru.length=0}var Fa=we.ReactCurrentDispatcher,xu=we.ReactCurrentBatchConfig,hi=0,Ke=null,ut=null,mt=null,ja=!1,wo=!1,Eo=0,fg=0;function Rt(){throw Error(r(321))}function Vu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Tn(e[i],n[i]))return!1;return!0}function Nu(e,n,i,u,h,d){if(hi=d,Ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Fa.current=e===null||e.memoizedState===null?gg:yg,e=i(u,h),wo){d=0;do{if(wo=!1,Eo=0,25<=d)throw Error(r(301));d+=1,mt=ut=null,n.updateQueue=null,Fa.current=_g,e=i(u,h)}while(wo)}if(Fa.current=Ua,n=ut!==null&&ut.next!==null,hi=0,mt=ut=Ke=null,ja=!1,n)throw Error(r(300));return e}function Du(){var e=Eo!==0;return Eo=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=e:mt=mt.next=e,mt}function cn(){if(ut===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var n=mt===null?Ke.memoizedState:mt.next;if(n!==null)mt=n,ut=e;else{if(e===null)throw Error(r(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?Ke.memoizedState=mt=e:mt=mt.next=e}return mt}function To(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=ut,h=u.baseQueue,d=i.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}u.baseQueue=h=d,i.pending=null}if(h!==null){d=h.next,u=u.baseState;var E=y=null,k=null,F=d;do{var $=F.lane;if((hi&$)===$)k!==null&&(k=k.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:e(u,F.action);else{var H={lane:$,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};k===null?(E=k=H,y=u):k=k.next=H,Ke.lanes|=$,fi|=$}F=F.next}while(F!==null&&F!==d);k===null?y=u:k.next=E,Tn(u,n.memoizedState)||($t=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=k,i.lastRenderedState=u}if(e=i.interleaved,e!==null){h=e;do d=h.lane,Ke.lanes|=d,fi|=d,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Mu(e){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=i.dispatch,h=i.pending,d=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);Tn(d,n.memoizedState)||($t=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,u]}function ff(){}function df(e,n){var i=Ke,u=cn(),h=n(),d=!Tn(u.memoizedState,h);if(d&&(u.memoizedState=h,$t=!0),u=u.queue,Ou(gf.bind(null,i,u,e),[e]),u.getSnapshot!==n||d||mt!==null&&mt.memoizedState.tag&1){if(i.flags|=2048,So(9,mf.bind(null,i,u,h,n),void 0,null),gt===null)throw Error(r(349));hi&30||pf(i,n,h)}return h}function pf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function mf(e,n,i,u){n.value=i,n.getSnapshot=u,yf(n)&&_f(e)}function gf(e,n,i){return i(function(){yf(n)&&_f(e)})}function yf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Tn(e,i)}catch{return!0}}function _f(e){var n=rr(e,1);n!==null&&Cn(n,e,1,-1)}function vf(e){var n=Fn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},n.queue=e,e=e.dispatch=mg.bind(null,Ke,e),[n.memoizedState,e]}function So(e,n,i,u){return e={tag:e,create:n,destroy:i,deps:u,next:null},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,n.lastEffect=e)),e}function wf(){return cn().memoizedState}function za(e,n,i,u){var h=Fn();Ke.flags|=e,h.memoizedState=So(1|n,i,void 0,u===void 0?null:u)}function ba(e,n,i,u){var h=cn();u=u===void 0?null:u;var d=void 0;if(ut!==null){var y=ut.memoizedState;if(d=y.destroy,u!==null&&Vu(u,y.deps)){h.memoizedState=So(n,i,d,u);return}}Ke.flags|=e,h.memoizedState=So(1|n,i,d,u)}function Ef(e,n){return za(8390656,8,e,n)}function Ou(e,n){return ba(2048,8,e,n)}function Tf(e,n){return ba(4,2,e,n)}function Sf(e,n){return ba(4,4,e,n)}function If(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kf(e,n,i){return i=i!=null?i.concat([e]):null,ba(4,4,If.bind(null,n,e),i)}function Fu(){}function Af(e,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Vu(n,u[1])?u[0]:(i.memoizedState=[e,n],e)}function Cf(e,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Vu(n,u[1])?u[0]:(e=e(),i.memoizedState=[e,n],e)}function Rf(e,n,i){return hi&21?(Tn(i,n)||(i=ei(),Ke.lanes|=i,fi|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=i)}function dg(e,n){var i=Ee;Ee=i!==0&&4>i?i:4,e(!0);var u=xu.transition;xu.transition={};try{e(!1),n()}finally{Ee=i,xu.transition=u}}function Pf(){return cn().memoizedState}function pg(e,n,i){var u=xr(e);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},xf(e))Vf(n,i);else if(i=af(e,n,i,u),i!==null){var h=Ft();Cn(i,e,u,h),Nf(i,n,u)}}function mg(e,n,i){var u=xr(e),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(xf(e))Vf(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,E=d(y,i);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,y)){var k=n.interleaved;k===null?(h.next=h,Iu(n)):(h.next=k.next,k.next=h),n.interleaved=h;return}}catch{}finally{}i=af(e,n,h,u),i!==null&&(h=Ft(),Cn(i,e,u,h),Nf(i,n,u))}}function xf(e){var n=e.alternate;return e===Ke||n!==null&&n===Ke}function Vf(e,n){wo=ja=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Nf(e,n,i){if(i&4194240){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,mr(e,i)}}var Ua={readContext:un,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},gg={readContext:un,useCallback:function(e,n){return Fn().memoizedState=[e,n===void 0?null:n],e},useContext:un,useEffect:Ef,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,za(4194308,4,If.bind(null,n,e),i)},useLayoutEffect:function(e,n){return za(4194308,4,e,n)},useInsertionEffect:function(e,n){return za(4,2,e,n)},useMemo:function(e,n){var i=Fn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var u=Fn();return n=i!==void 0?i(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=pg.bind(null,Ke,e),[u.memoizedState,e]},useRef:function(e){var n=Fn();return e={current:e},n.memoizedState=e},useState:vf,useDebugValue:Fu,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=vf(!1),n=e[0];return e=dg.bind(null,e[1]),Fn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var u=Ke,h=Fn();if(qe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),gt===null)throw Error(r(349));hi&30||pf(u,n,i)}h.memoizedState=i;var d={value:i,getSnapshot:n};return h.queue=d,Ef(gf.bind(null,u,d,e),[e]),u.flags|=2048,So(9,mf.bind(null,u,d,i,n),void 0,null),i},useId:function(){var e=Fn(),n=gt.identifierPrefix;if(qe){var i=nr,u=tr;i=(u&~(1<<32-Lt(u)-1)).toString(32)+i,n=":"+n+"R"+i,i=Eo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=fg++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},yg={readContext:un,useCallback:Af,useContext:un,useEffect:Ou,useImperativeHandle:kf,useInsertionEffect:Tf,useLayoutEffect:Sf,useMemo:Cf,useReducer:Lu,useRef:wf,useState:function(){return Lu(To)},useDebugValue:Fu,useDeferredValue:function(e){var n=cn();return Rf(n,ut.memoizedState,e)},useTransition:function(){var e=Lu(To)[0],n=cn().memoizedState;return[e,n]},useMutableSource:ff,useSyncExternalStore:df,useId:Pf,unstable_isNewReconciler:!1},_g={readContext:un,useCallback:Af,useContext:un,useEffect:Ou,useImperativeHandle:kf,useInsertionEffect:Tf,useLayoutEffect:Sf,useMemo:Cf,useReducer:Mu,useRef:wf,useState:function(){return Mu(To)},useDebugValue:Fu,useDeferredValue:function(e){var n=cn();return ut===null?n.memoizedState=e:Rf(n,ut.memoizedState,e)},useTransition:function(){var e=Mu(To)[0],n=cn().memoizedState;return[e,n]},useMutableSource:ff,useSyncExternalStore:df,useId:Pf,unstable_isNewReconciler:!1};function In(e,n){if(e&&e.defaultProps){n=J({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function ju(e,n,i,u){n=e.memoizedState,i=i(u,n),i=i==null?n:J({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ba={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var u=Ft(),h=xr(e),d=ir(u,h);d.payload=n,i!=null&&(d.callback=i),n=Ar(e,d,h),n!==null&&(Cn(n,e,h,u),La(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var u=Ft(),h=xr(e),d=ir(u,h);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Ar(e,d,h),n!==null&&(Cn(n,e,h,u),La(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ft(),u=xr(e),h=ir(i,u);h.tag=2,n!=null&&(h.callback=n),n=Ar(e,h,u),n!==null&&(Cn(n,e,u,i),La(n,e,u))}};function Df(e,n,i,u,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,y):n.prototype&&n.prototype.isPureReactComponent?!lo(i,u)||!lo(h,d):!0}function Lf(e,n,i){var u=!1,h=Sr,d=n.contextType;return typeof d=="object"&&d!==null?d=un(d):(h=Bt(n)?oi:Ct.current,u=n.contextTypes,d=(u=u!=null)?rs(e,h):Sr),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ba,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),n}function Mf(e,n,i,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==e&&Ba.enqueueReplaceState(n,n.state,null)}function zu(e,n,i,u){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},ku(e);var d=n.contextType;typeof d=="object"&&d!==null?h.context=un(d):(d=Bt(n)?oi:Ct.current,h.context=rs(e,d)),h.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(ju(e,n,d,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&Ba.enqueueReplaceState(h,h.state,null),Ma(e,i,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function hs(e,n){try{var i="",u=n;do i+=ye(u),u=u.return;while(u);var h=i}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:h,digest:null}}function bu(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Uu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var vg=typeof WeakMap=="function"?WeakMap:Map;function Of(e,n,i){i=ir(-1,i),i.tag=3,i.payload={element:null};var u=n.value;return i.callback=function(){Ga||(Ga=!0,nc=u),Uu(e,n)},i}function Ff(e,n,i){i=ir(-1,i),i.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;i.payload=function(){return u(h)},i.callback=function(){Uu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Uu(e,n),typeof u!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function jf(e,n,i){var u=e.pingCache;if(u===null){u=e.pingCache=new vg;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(i)||(h.add(i),e=Dg.bind(null,e,n,i),n.then(e,e))}function zf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function bf(e,n,i,u,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=ir(-1,1),n.tag=2,Ar(i,n,1))),i.lanes|=1),e)}var wg=we.ReactCurrentOwner,$t=!1;function Ot(e,n,i,u){n.child=e===null?of(n,null,i,u):as(n,e.child,i,u)}function Uf(e,n,i,u,h){i=i.render;var d=n.ref;return us(n,h),u=Nu(e,n,i,u,d,h),i=Du(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,sr(e,n,h)):(qe&&i&&mu(n),n.flags|=1,Ot(e,n,u,h),n.child)}function Bf(e,n,i,u,h){if(e===null){var d=i.type;return typeof d=="function"&&!uc(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,$f(e,n,d,u,h)):(e=tl(i.type,null,u,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&h)){var y=d.memoizedProps;if(i=i.compare,i=i!==null?i:lo,i(y,u)&&e.ref===n.ref)return sr(e,n,h)}return n.flags|=1,e=Nr(d,u),e.ref=n.ref,e.return=n,n.child=e}function $f(e,n,i,u,h){if(e!==null){var d=e.memoizedProps;if(lo(d,u)&&e.ref===n.ref)if($t=!1,n.pendingProps=u=d,(e.lanes&h)!==0)e.flags&131072&&($t=!0);else return n.lanes=e.lanes,sr(e,n,h)}return Bu(e,n,i,u,h)}function Hf(e,n,i){var u=n.pendingProps,h=u.children,d=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(ds,tn),tn|=i;else{if(!(i&1073741824))return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ue(ds,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:i,Ue(ds,tn),tn|=u}else d!==null?(u=d.baseLanes|i,n.memoizedState=null):u=i,Ue(ds,tn),tn|=u;return Ot(e,n,h,i),n.child}function qf(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Bu(e,n,i,u,h){var d=Bt(i)?oi:Ct.current;return d=rs(n,d),us(n,h),i=Nu(e,n,i,u,d,h),u=Du(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,sr(e,n,h)):(qe&&u&&mu(n),n.flags|=1,Ot(e,n,i,h),n.child)}function Qf(e,n,i,u,h){if(Bt(i)){var d=!0;Aa(n)}else d=!1;if(us(n,h),n.stateNode===null)Ha(e,n),Lf(n,i,u),zu(n,i,u,h),u=!0;else if(e===null){var y=n.stateNode,E=n.memoizedProps;y.props=E;var k=y.context,F=i.contextType;typeof F=="object"&&F!==null?F=un(F):(F=Bt(i)?oi:Ct.current,F=rs(n,F));var $=i.getDerivedStateFromProps,H=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function";H||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==u||k!==F)&&Mf(n,y,u,F),kr=!1;var B=n.memoizedState;y.state=B,Ma(n,u,y,h),k=n.memoizedState,E!==u||B!==k||Ut.current||kr?(typeof $=="function"&&(ju(n,i,$,u),k=n.memoizedState),(E=kr||Df(n,i,E,u,B,k,F))?(H||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=k),y.props=u,y.state=k,y.context=F,u=E):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,lf(e,n),E=n.memoizedProps,F=n.type===n.elementType?E:In(n.type,E),y.props=F,H=n.pendingProps,B=y.context,k=i.contextType,typeof k=="object"&&k!==null?k=un(k):(k=Bt(i)?oi:Ct.current,k=rs(n,k));var X=i.getDerivedStateFromProps;($=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==H||B!==k)&&Mf(n,y,u,k),kr=!1,B=n.memoizedState,y.state=B,Ma(n,u,y,h);var ie=n.memoizedState;E!==H||B!==ie||Ut.current||kr?(typeof X=="function"&&(ju(n,i,X,u),ie=n.memoizedState),(F=kr||Df(n,i,F,u,B,ie,k)||!1)?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ie,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ie,k)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=ie),y.props=u,y.state=ie,y.context=k,u=F):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),u=!1)}return $u(e,n,i,u,d,h)}function $u(e,n,i,u,h,d){qf(e,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&Yh(n,i,!1),sr(e,n,d);u=n.stateNode,wg.current=n;var E=y&&typeof i.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&y?(n.child=as(n,e.child,null,d),n.child=as(n,null,E,d)):Ot(e,n,E,d),n.memoizedState=u.state,h&&Yh(n,i,!0),n.child}function Kf(e){var n=e.stateNode;n.pendingContext?Wh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Wh(e,n.context,!1),Au(e,n.containerInfo)}function Wf(e,n,i,u,h){return os(),vu(h),n.flags|=256,Ot(e,n,i,u),n.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gf(e,n,i){var u=n.pendingProps,h=Qe.current,d=!1,y=(n.flags&128)!==0,E;if((E=y)||(E=e!==null&&e.memoizedState===null?!1:(h&2)!==0),E?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ue(Qe,h&1),e===null)return _u(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=u.children,e=u.fallback,d?(u=n.mode,d=n.child,y={mode:"hidden",children:y},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=y):d=nl(y,u,0,null),e=gi(e,u,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=qu(i),n.memoizedState=Hu,e):Qu(n,y));if(h=e.memoizedState,h!==null&&(E=h.dehydrated,E!==null))return Eg(e,n,y,u,E,h,i);if(d){d=u.fallback,y=n.mode,h=e.child,E=h.sibling;var k={mode:"hidden",children:u.children};return!(y&1)&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=k,n.deletions=null):(u=Nr(h,k),u.subtreeFlags=h.subtreeFlags&14680064),E!==null?d=Nr(E,d):(d=gi(d,y,i,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,y=e.child.memoizedState,y=y===null?qu(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=e.childLanes&~i,n.memoizedState=Hu,u}return d=e.child,e=d.sibling,u=Nr(d,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=i),u.return=n,u.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=u,n.memoizedState=null,u}function Qu(e,n){return n=nl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function $a(e,n,i,u){return u!==null&&vu(u),as(n,e.child,null,i),e=Qu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Eg(e,n,i,u,h,d,y){if(i)return n.flags&256?(n.flags&=-257,u=bu(Error(r(422))),$a(e,n,y,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=nl({mode:"visible",children:u.children},h,0,null),d=gi(d,h,y,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,n.mode&1&&as(n,e.child,null,y),n.child.memoizedState=qu(y),n.memoizedState=Hu,d);if(!(n.mode&1))return $a(e,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var E=u.dgst;return u=E,d=Error(r(419)),u=bu(d,u,void 0),$a(e,n,y,u)}if(E=(y&e.childLanes)!==0,$t||E){if(u=gt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,rr(e,h),Cn(u,e,h,-1))}return lc(),u=bu(Error(r(421))),$a(e,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=Lg.bind(null,e),h._reactRetry=n,null):(e=d.treeContext,en=Er(h.nextSibling),Zt=n,qe=!0,Sn=null,e!==null&&(an[ln++]=tr,an[ln++]=nr,an[ln++]=ai,tr=e.id,nr=e.overflow,ai=n),n=Qu(n,u.children),n.flags|=4096,n)}function Yf(e,n,i){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Su(e.return,n,i)}function Ku(e,n,i,u,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=i,d.tailMode=h)}function Xf(e,n,i){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(Ot(e,n,u.children,i),u=Qe.current,u&2)u=u&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,i,n);else if(e.tag===19)Yf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Ue(Qe,u),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&Oa(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Ku(n,!1,h,i,d);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Oa(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Ku(n,!0,i,null,d);break;case"together":Ku(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ha(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function sr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),fi|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=Nr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Nr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Tg(e,n,i){switch(n.tag){case 3:Kf(n),os();break;case 5:hf(n);break;case 1:Bt(n.type)&&Aa(n);break;case 4:Au(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Ue(Na,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Ue(Qe,Qe.current&1),n.flags|=128,null):i&n.child.childLanes?Gf(e,n,i):(Ue(Qe,Qe.current&1),e=sr(e,n,i),e!==null?e.sibling:null);Ue(Qe,Qe.current&1);break;case 19:if(u=(i&n.childLanes)!==0,e.flags&128){if(u)return Xf(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ue(Qe,Qe.current),u)break;return null;case 22:case 23:return n.lanes=0,Hf(e,n,i)}return sr(e,n,i)}var Jf,Wu,Zf,ed;Jf=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Wu=function(){},Zf=function(e,n,i,u){var h=e.memoizedProps;if(h!==u){e=n.stateNode,ci(On.current);var d=null;switch(i){case"input":h=$r(e,h),u=$r(e,u),d=[];break;case"select":h=J({},h,{value:void 0}),u=J({},u,{value:void 0}),d=[];break;case"textarea":h=Fs(e,h),u=Fs(e,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Sa)}$s(i,u);var y;i=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var E=h[F];for(y in E)E.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(l.hasOwnProperty(F)?d||(d=[]):(d=d||[]).push(F,null));for(F in u){var k=u[F];if(E=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&k!==E&&(k!=null||E!=null))if(F==="style")if(E){for(y in E)!E.hasOwnProperty(y)||k&&k.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in k)k.hasOwnProperty(y)&&E[y]!==k[y]&&(i||(i={}),i[y]=k[y])}else i||(d||(d=[]),d.push(F,i)),i=k;else F==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,E=E?E.__html:void 0,k!=null&&E!==k&&(d=d||[]).push(F,k)):F==="children"?typeof k!="string"&&typeof k!="number"||(d=d||[]).push(F,""+k):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(l.hasOwnProperty(F)?(k!=null&&F==="onScroll"&&Be("scroll",e),d||E===k||(d=[])):(d=d||[]).push(F,k))}i&&(d=d||[]).push("style",i);var F=d;(n.updateQueue=F)&&(n.flags|=4)}},ed=function(e,n,i,u){i!==u&&(n.flags|=4)};function Io(e,n){if(!qe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=i,n}function Sg(e,n,i){var u=n.pendingProps;switch(gu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return Bt(n.type)&&ka(),Pt(n),null;case 3:return u=n.stateNode,cs(),$e(Ut),$e(Ct),Pu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(xa(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Sn!==null&&(sc(Sn),Sn=null))),Wu(e,n),Pt(n),null;case 5:Cu(n);var h=ci(vo.current);if(i=n.type,e!==null&&n.stateNode!=null)Zf(e,n,i,u,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Pt(n),null}if(e=ci(On.current),xa(n)){u=n.stateNode,i=n.type;var d=n.memoizedProps;switch(u[Mn]=n,u[po]=d,e=(n.mode&1)!==0,i){case"dialog":Be("cancel",u),Be("close",u);break;case"iframe":case"object":case"embed":Be("load",u);break;case"video":case"audio":for(h=0;h<co.length;h++)Be(co[h],u);break;case"source":Be("error",u);break;case"img":case"image":case"link":Be("error",u),Be("load",u);break;case"details":Be("toggle",u);break;case"input":ki(u,d),Be("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},Be("invalid",u);break;case"textarea":Ci(u,d),Be("invalid",u)}$s(i,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var E=d[y];y==="children"?typeof E=="string"?u.textContent!==E&&(d.suppressHydrationWarning!==!0&&Ta(u.textContent,E,e),h=["children",E]):typeof E=="number"&&u.textContent!==""+E&&(d.suppressHydrationWarning!==!0&&Ta(u.textContent,E,e),h=["children",""+E]):l.hasOwnProperty(y)&&E!=null&&y==="onScroll"&&Be("scroll",u)}switch(i){case"input":$n(u),Wo(u,d,!0);break;case"textarea":$n(u),js(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Sa)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ot(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(i,{is:u.is}):(e=y.createElement(i),i==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,i),e[Mn]=n,e[po]=u,Jf(e,n,!1,!1),n.stateNode=e;e:{switch(y=Hs(i,u),i){case"dialog":Be("cancel",e),Be("close",e),h=u;break;case"iframe":case"object":case"embed":Be("load",e),h=u;break;case"video":case"audio":for(h=0;h<co.length;h++)Be(co[h],e);h=u;break;case"source":Be("error",e),h=u;break;case"img":case"image":case"link":Be("error",e),Be("load",e),h=u;break;case"details":Be("toggle",e),h=u;break;case"input":ki(e,u),h=$r(e,u),Be("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=J({},u,{value:void 0}),Be("invalid",e);break;case"textarea":Ci(e,u),h=Fs(e,u),Be("invalid",e);break;default:h=u}$s(i,h),E=h;for(d in E)if(E.hasOwnProperty(d)){var k=E[d];d==="style"?Us(e,k):d==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&zs(e,k)):d==="children"?typeof k=="string"?(i!=="textarea"||k!=="")&&cr(e,k):typeof k=="number"&&cr(e,""+k):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?k!=null&&d==="onScroll"&&Be("scroll",e):k!=null&&ve(e,d,k,y))}switch(i){case"input":$n(e),Wo(e,u,!1);break;case"textarea":$n(e),js(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Me(u.value));break;case"select":e.multiple=!!u.multiple,d=u.value,d!=null?qn(e,!!u.multiple,d,!1):u.defaultValue!=null&&qn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Sa)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pt(n),null;case 6:if(e&&n.stateNode!=null)ed(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=ci(vo.current),ci(On.current),xa(n)){if(u=n.stateNode,i=n.memoizedProps,u[Mn]=n,(d=u.nodeValue!==i)&&(e=Zt,e!==null))switch(e.tag){case 3:Ta(u.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(u.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Mn]=n,n.stateNode=u}return Pt(n),null;case 13:if($e(Qe),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&en!==null&&n.mode&1&&!(n.flags&128))nf(),os(),n.flags|=98560,d=!1;else if(d=xa(n),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Mn]=n}else os(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pt(n),d=!1}else Sn!==null&&(sc(Sn),Sn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(e===null||Qe.current&1?ct===0&&(ct=3):lc())),n.updateQueue!==null&&(n.flags|=4),Pt(n),null);case 4:return cs(),Wu(e,n),e===null&&ho(n.stateNode.containerInfo),Pt(n),null;case 10:return Tu(n.type._context),Pt(n),null;case 17:return Bt(n.type)&&ka(),Pt(n),null;case 19:if($e(Qe),d=n.memoizedState,d===null)return Pt(n),null;if(u=(n.flags&128)!==0,y=d.rendering,y===null)if(u)Io(d,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(y=Oa(e),y!==null){for(n.flags|=128,Io(d,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=i,i=n.child;i!==null;)d=i,e=u,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,e=y.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ue(Qe,Qe.current&1|2),n.child}e=e.sibling}d.tail!==null&&be()>ps&&(n.flags|=128,u=!0,Io(d,!1),n.lanes=4194304)}else{if(!u)if(e=Oa(y),e!==null){if(n.flags|=128,u=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Io(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!qe)return Pt(n),null}else 2*be()-d.renderingStartTime>ps&&i!==1073741824&&(n.flags|=128,u=!0,Io(d,!1),n.lanes=4194304);d.isBackwards?(y.sibling=n.child,n.child=y):(i=d.last,i!==null?i.sibling=y:n.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=be(),n.sibling=null,i=Qe.current,Ue(Qe,u?i&1|2:i&1),n):(Pt(n),null);case 22:case 23:return ac(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?tn&1073741824&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Ig(e,n){switch(gu(n),n.tag){case 1:return Bt(n.type)&&ka(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return cs(),$e(Ut),$e(Ct),Pu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Cu(n),null;case 13:if($e(Qe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));os()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $e(Qe),null;case 4:return cs(),null;case 10:return Tu(n.type._context),null;case 22:case 23:return ac(),null;case 24:return null;default:return null}}var qa=!1,xt=!1,kg=typeof WeakSet=="function"?WeakSet:Set,ne=null;function fs(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){Ge(e,n,u)}else i.current=null}function Gu(e,n,i){try{i()}catch(u){Ge(e,n,u)}}var td=!1;function Ag(e,n){if(au=_r,e=Nh(),Zl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var y=0,E=-1,k=-1,F=0,$=0,H=e,B=null;t:for(;;){for(var X;H!==i||h!==0&&H.nodeType!==3||(E=y+h),H!==d||u!==0&&H.nodeType!==3||(k=y+u),H.nodeType===3&&(y+=H.nodeValue.length),(X=H.firstChild)!==null;)B=H,H=X;for(;;){if(H===e)break t;if(B===i&&++F===h&&(E=y),B===d&&++$===u&&(k=y),(X=H.nextSibling)!==null)break;H=B,B=H.parentNode}H=X}i=E===-1||k===-1?null:{start:E,end:k}}else i=null}i=i||{start:0,end:0}}else i=null;for(lu={focusedElem:e,selectionRange:i},_r=!1,ne=n;ne!==null;)if(n=ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ne=e;else for(;ne!==null;){n=ne;try{var ie=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,et=ie.memoizedState,L=n.stateNode,C=L.getSnapshotBeforeUpdate(n.elementType===n.type?se:In(n.type,se),et);L.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Q){Ge(n,n.return,Q)}if(e=n.sibling,e!==null){e.return=n.return,ne=e;break}ne=n.return}return ie=td,td=!1,ie}function ko(e,n,i){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&Gu(n,i,d)}h=h.next}while(h!==u)}}function Qa(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var u=i.create;i.destroy=u()}i=i.next}while(i!==n)}}function Yu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function nd(e){var n=e.alternate;n!==null&&(e.alternate=null,nd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Mn],delete n[po],delete n[fu],delete n[lg],delete n[ug])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rd(e){return e.tag===5||e.tag===3||e.tag===4}function id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xu(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Sa));else if(u!==4&&(e=e.child,e!==null))for(Xu(e,n,i),e=e.sibling;e!==null;)Xu(e,n,i),e=e.sibling}function Ju(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Ju(e,n,i),e=e.sibling;e!==null;)Ju(e,n,i),e=e.sibling}var Et=null,kn=!1;function Cr(e,n,i){for(i=i.child;i!==null;)sd(e,n,i),i=i.sibling}function sd(e,n,i){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Jr,i)}catch{}switch(i.tag){case 5:xt||fs(i,n);case 6:var u=Et,h=kn;Et=null,Cr(e,n,i),Et=u,kn=h,Et!==null&&(kn?(e=Et,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Et.removeChild(i.stateNode));break;case 18:Et!==null&&(kn?(e=Et,i=i.stateNode,e.nodeType===8?hu(e.parentNode,i):e.nodeType===1&&hu(e,i),wn(e)):hu(Et,i.stateNode));break;case 4:u=Et,h=kn,Et=i.stateNode.containerInfo,kn=!0,Cr(e,n,i),Et=u,kn=h;break;case 0:case 11:case 14:case 15:if(!xt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&(d&2||d&4)&&Gu(i,n,y),h=h.next}while(h!==u)}Cr(e,n,i);break;case 1:if(!xt&&(fs(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(E){Ge(i,n,E)}Cr(e,n,i);break;case 21:Cr(e,n,i);break;case 22:i.mode&1?(xt=(u=xt)||i.memoizedState!==null,Cr(e,n,i),xt=u):Cr(e,n,i);break;default:Cr(e,n,i)}}function od(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new kg),n.forEach(function(u){var h=Mg.bind(null,e,u);i.has(u)||(i.add(u),u.then(h,h))})}}function An(e,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var d=e,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 5:Et=E.stateNode,kn=!1;break e;case 3:Et=E.stateNode.containerInfo,kn=!0;break e;case 4:Et=E.stateNode.containerInfo,kn=!0;break e}E=E.return}if(Et===null)throw Error(r(160));sd(d,y,h),Et=null,kn=!1;var k=h.alternate;k!==null&&(k.return=null),h.return=null}catch(F){Ge(h,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ad(n,e),n=n.sibling}function ad(e,n){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(n,e),jn(e),u&4){try{ko(3,e,e.return),Qa(3,e)}catch(se){Ge(e,e.return,se)}try{ko(5,e,e.return)}catch(se){Ge(e,e.return,se)}}break;case 1:An(n,e),jn(e),u&512&&i!==null&&fs(i,i.return);break;case 5:if(An(n,e),jn(e),u&512&&i!==null&&fs(i,i.return),e.flags&32){var h=e.stateNode;try{cr(h,"")}catch(se){Ge(e,e.return,se)}}if(u&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,y=i!==null?i.memoizedProps:d,E=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{E==="input"&&d.type==="radio"&&d.name!=null&&Ms(h,d),Hs(E,y);var F=Hs(E,d);for(y=0;y<k.length;y+=2){var $=k[y],H=k[y+1];$==="style"?Us(h,H):$==="dangerouslySetInnerHTML"?zs(h,H):$==="children"?cr(h,H):ve(h,$,H,F)}switch(E){case"input":Os(h,d);break;case"textarea":Ri(h,d);break;case"select":var B=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var X=d.value;X!=null?qn(h,!!d.multiple,X,!1):B!==!!d.multiple&&(d.defaultValue!=null?qn(h,!!d.multiple,d.defaultValue,!0):qn(h,!!d.multiple,d.multiple?[]:"",!1))}h[po]=d}catch(se){Ge(e,e.return,se)}}break;case 6:if(An(n,e),jn(e),u&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(se){Ge(e,e.return,se)}}break;case 3:if(An(n,e),jn(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{wn(n.containerInfo)}catch(se){Ge(e,e.return,se)}break;case 4:An(n,e),jn(e);break;case 13:An(n,e),jn(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(tc=be())),u&4&&od(e);break;case 22:if($=i!==null&&i.memoizedState!==null,e.mode&1?(xt=(F=xt)||$,An(n,e),xt=F):An(n,e),jn(e),u&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!$&&e.mode&1)for(ne=e,$=e.child;$!==null;){for(H=ne=$;ne!==null;){switch(B=ne,X=B.child,B.tag){case 0:case 11:case 14:case 15:ko(4,B,B.return);break;case 1:fs(B,B.return);var ie=B.stateNode;if(typeof ie.componentWillUnmount=="function"){u=B,i=B.return;try{n=u,ie.props=n.memoizedProps,ie.state=n.memoizedState,ie.componentWillUnmount()}catch(se){Ge(u,i,se)}}break;case 5:fs(B,B.return);break;case 22:if(B.memoizedState!==null){cd(H);continue}}X!==null?(X.return=B,ne=X):cd(H)}$=$.sibling}e:for($=null,H=e;;){if(H.tag===5){if($===null){$=H;try{h=H.stateNode,F?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(E=H.stateNode,k=H.memoizedProps.style,y=k!=null&&k.hasOwnProperty("display")?k.display:null,E.style.display=bs("display",y))}catch(se){Ge(e,e.return,se)}}}else if(H.tag===6){if($===null)try{H.stateNode.nodeValue=F?"":H.memoizedProps}catch(se){Ge(e,e.return,se)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;$===H&&($=null),H=H.return}$===H&&($=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:An(n,e),jn(e),u&4&&od(e);break;case 21:break;default:An(n,e),jn(e)}}function jn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(rd(i)){var u=i;break e}i=i.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(cr(h,""),u.flags&=-33);var d=id(e);Ju(e,d,h);break;case 3:case 4:var y=u.stateNode.containerInfo,E=id(e);Xu(e,E,y);break;default:throw Error(r(161))}}catch(k){Ge(e,e.return,k)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cg(e,n,i){ne=e,ld(e)}function ld(e,n,i){for(var u=(e.mode&1)!==0;ne!==null;){var h=ne,d=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||qa;if(!y){var E=h.alternate,k=E!==null&&E.memoizedState!==null||xt;E=qa;var F=xt;if(qa=y,(xt=k)&&!F)for(ne=h;ne!==null;)y=ne,k=y.child,y.tag===22&&y.memoizedState!==null?hd(h):k!==null?(k.return=y,ne=k):hd(h);for(;d!==null;)ne=d,ld(d),d=d.sibling;ne=h,qa=E,xt=F}ud(e)}else h.subtreeFlags&8772&&d!==null?(d.return=h,ne=d):ud(e)}}function ud(e){for(;ne!==null;){var n=ne;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:xt||Qa(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!xt)if(i===null)u.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:In(n.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&cf(n,d,u);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}cf(n,y,i)}break;case 5:var E=n.stateNode;if(i===null&&n.flags&4){i=E;var k=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&i.focus();break;case"img":k.src&&(i.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var $=F.memoizedState;if($!==null){var H=$.dehydrated;H!==null&&wn(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xt||n.flags&512&&Yu(n)}catch(B){Ge(n,n.return,B)}}if(n===e){ne=null;break}if(i=n.sibling,i!==null){i.return=n.return,ne=i;break}ne=n.return}}function cd(e){for(;ne!==null;){var n=ne;if(n===e){ne=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ne=i;break}ne=n.return}}function hd(e){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Qa(4,n)}catch(k){Ge(n,i,k)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(k){Ge(n,h,k)}}var d=n.return;try{Yu(n)}catch(k){Ge(n,d,k)}break;case 5:var y=n.return;try{Yu(n)}catch(k){Ge(n,y,k)}}}catch(k){Ge(n,n.return,k)}if(n===e){ne=null;break}var E=n.sibling;if(E!==null){E.return=n.return,ne=E;break}ne=n.return}}var Rg=Math.ceil,Ka=we.ReactCurrentDispatcher,Zu=we.ReactCurrentOwner,hn=we.ReactCurrentBatchConfig,xe=0,gt=null,it=null,Tt=0,tn=0,ds=Tr(0),ct=0,Ao=null,fi=0,Wa=0,ec=0,Co=null,Ht=null,tc=0,ps=1/0,or=null,Ga=!1,nc=null,Rr=null,Ya=!1,Pr=null,Xa=0,Ro=0,rc=null,Ja=-1,Za=0;function Ft(){return xe&6?be():Ja!==-1?Ja:Ja=be()}function xr(e){return e.mode&1?xe&2&&Tt!==0?Tt&-Tt:hg.transition!==null?(Za===0&&(Za=ei()),Za):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:to(e.type)),e):1}function Cn(e,n,i,u){if(50<Ro)throw Ro=0,rc=null,Error(r(185));pr(e,i,u),(!(xe&2)||e!==gt)&&(e===gt&&(!(xe&2)&&(Wa|=i),ct===4&&Vr(e,Tt)),qt(e,u),i===1&&xe===0&&!(n.mode&1)&&(ps=be()+500,Ca&&Ir()))}function qt(e,n){var i=e.callbackNode;Wn(e,n);var u=Zr(e,e===gt?Tt:0);if(u===0)i!==null&&Ys(i),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(i!=null&&Ys(i),n===1)e.tag===0?cg(dd.bind(null,e)):Xh(dd.bind(null,e)),og(function(){!(xe&6)&&Ir()}),i=null;else{switch(gr(u)){case 1:i=Xr;break;case 4:i=hr;break;case 16:i=rn;break;case 536870912:i=Zo;break;default:i=rn}i=Ed(i,fd.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function fd(e,n){if(Ja=-1,Za=0,xe&6)throw Error(r(327));var i=e.callbackNode;if(ms()&&e.callbackNode!==i)return null;var u=Zr(e,e===gt?Tt:0);if(u===0)return null;if(u&30||u&e.expiredLanes||n)n=el(e,u);else{n=u;var h=xe;xe|=2;var d=md();(gt!==e||Tt!==n)&&(or=null,ps=be()+500,pi(e,n));do try{Vg();break}catch(E){pd(e,E)}while(!0);Eu(),Ka.current=d,xe=h,it!==null?n=0:(gt=null,Tt=0,n=ct)}if(n!==0){if(n===2&&(h=Yt(e),h!==0&&(u=h,n=ic(e,h))),n===1)throw i=Ao,pi(e,0),Vr(e,u),qt(e,be()),i;if(n===6)Vr(e,u);else{if(h=e.current.alternate,!(u&30)&&!Pg(h)&&(n=el(e,u),n===2&&(d=Yt(e),d!==0&&(u=d,n=ic(e,d))),n===1))throw i=Ao,pi(e,0),Vr(e,u),qt(e,be()),i;switch(e.finishedWork=h,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:mi(e,Ht,or);break;case 3:if(Vr(e,u),(u&130023424)===u&&(n=tc+500-be(),10<n)){if(Zr(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){Ft(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=cu(mi.bind(null,e,Ht,or),n);break}mi(e,Ht,or);break;case 4:if(Vr(e,u),(u&4194240)===u)break;for(n=e.eventTimes,h=-1;0<u;){var y=31-Lt(u);d=1<<y,y=n[y],y>h&&(h=y),u&=~d}if(u=h,u=be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Rg(u/1960))-u,10<u){e.timeoutHandle=cu(mi.bind(null,e,Ht,or),u);break}mi(e,Ht,or);break;case 5:mi(e,Ht,or);break;default:throw Error(r(329))}}}return qt(e,be()),e.callbackNode===i?fd.bind(null,e):null}function ic(e,n){var i=Co;return e.current.memoizedState.isDehydrated&&(pi(e,n).flags|=256),e=el(e,n),e!==2&&(n=Ht,Ht=i,n!==null&&sc(n)),e}function sc(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function Pg(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n){for(n&=~ec,n&=~Wa,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Lt(n),u=1<<i;e[i]=-1,n&=~u}}function dd(e){if(xe&6)throw Error(r(327));ms();var n=Zr(e,0);if(!(n&1))return qt(e,be()),null;var i=el(e,n);if(e.tag!==0&&i===2){var u=Yt(e);u!==0&&(n=u,i=ic(e,u))}if(i===1)throw i=Ao,pi(e,0),Vr(e,n),qt(e,be()),i;if(i===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,mi(e,Ht,or),qt(e,be()),null}function oc(e,n){var i=xe;xe|=1;try{return e(n)}finally{xe=i,xe===0&&(ps=be()+500,Ca&&Ir())}}function di(e){Pr!==null&&Pr.tag===0&&!(xe&6)&&ms();var n=xe;xe|=1;var i=hn.transition,u=Ee;try{if(hn.transition=null,Ee=1,e)return e()}finally{Ee=u,hn.transition=i,xe=n,!(xe&6)&&Ir()}}function ac(){tn=ds.current,$e(ds)}function pi(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,sg(i)),it!==null)for(i=it.return;i!==null;){var u=i;switch(gu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ka();break;case 3:cs(),$e(Ut),$e(Ct),Pu();break;case 5:Cu(u);break;case 4:cs();break;case 13:$e(Qe);break;case 19:$e(Qe);break;case 10:Tu(u.type._context);break;case 22:case 23:ac()}i=i.return}if(gt=e,it=e=Nr(e.current,null),Tt=tn=n,ct=0,Ao=null,ec=Wa=fi=0,Ht=Co=null,ui!==null){for(n=0;n<ui.length;n++)if(i=ui[n],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,d=i.pending;if(d!==null){var y=d.next;d.next=h,u.next=y}i.pending=u}ui=null}return e}function pd(e,n){do{var i=it;try{if(Eu(),Fa.current=Ua,ja){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ja=!1}if(hi=0,mt=ut=Ke=null,wo=!1,Eo=0,Zu.current=null,i===null||i.return===null){ct=1,Ao=n,it=null;break}e:{var d=e,y=i.return,E=i,k=n;if(n=Tt,E.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var F=k,$=E,H=$.tag;if(!($.mode&1)&&(H===0||H===11||H===15)){var B=$.alternate;B?($.updateQueue=B.updateQueue,$.memoizedState=B.memoizedState,$.lanes=B.lanes):($.updateQueue=null,$.memoizedState=null)}var X=zf(y);if(X!==null){X.flags&=-257,bf(X,y,E,d,n),X.mode&1&&jf(d,F,n),n=X,k=F;var ie=n.updateQueue;if(ie===null){var se=new Set;se.add(k),n.updateQueue=se}else ie.add(k);break e}else{if(!(n&1)){jf(d,F,n),lc();break e}k=Error(r(426))}}else if(qe&&E.mode&1){var et=zf(y);if(et!==null){!(et.flags&65536)&&(et.flags|=256),bf(et,y,E,d,n),vu(hs(k,E));break e}}d=k=hs(k,E),ct!==4&&(ct=2),Co===null?Co=[d]:Co.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var L=Of(d,k,n);uf(d,L);break e;case 1:E=k;var C=d.type,M=d.stateNode;if(!(d.flags&128)&&(typeof C.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Rr===null||!Rr.has(M)))){d.flags|=65536,n&=-n,d.lanes|=n;var Q=Ff(d,E,n);uf(d,Q);break e}}d=d.return}while(d!==null)}yd(i)}catch(oe){n=oe,it===i&&i!==null&&(it=i=i.return);continue}break}while(!0)}function md(){var e=Ka.current;return Ka.current=Ua,e===null?Ua:e}function lc(){(ct===0||ct===3||ct===2)&&(ct=4),gt===null||!(fi&268435455)&&!(Wa&268435455)||Vr(gt,Tt)}function el(e,n){var i=xe;xe|=2;var u=md();(gt!==e||Tt!==n)&&(or=null,pi(e,n));do try{xg();break}catch(h){pd(e,h)}while(!0);if(Eu(),xe=i,Ka.current=u,it!==null)throw Error(r(261));return gt=null,Tt=0,ct}function xg(){for(;it!==null;)gd(it)}function Vg(){for(;it!==null&&!Xo();)gd(it)}function gd(e){var n=wd(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?yd(e):it=n,Zu.current=null}function yd(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=Ig(i,n),i!==null){i.flags&=32767,it=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,it=null;return}}else if(i=Sg(i,n,tn),i!==null){it=i;return}if(n=n.sibling,n!==null){it=n;return}it=n=e}while(n!==null);ct===0&&(ct=5)}function mi(e,n,i){var u=Ee,h=hn.transition;try{hn.transition=null,Ee=1,Ng(e,n,i,u)}finally{hn.transition=h,Ee=u}return null}function Ng(e,n,i,u){do ms();while(Pr!==null);if(xe&6)throw Error(r(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(je(e,d),e===gt&&(it=gt=null,Tt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Ya||(Ya=!0,Ed(rn,function(){return ms(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=hn.transition,hn.transition=null;var y=Ee;Ee=1;var E=xe;xe|=4,Zu.current=null,Ag(e,i),ad(i,e),Jm(lu),_r=!!au,lu=au=null,e.current=i,Cg(i),ql(),xe=E,Ee=y,hn.transition=d}else e.current=i;if(Ya&&(Ya=!1,Pr=e,Xa=h),d=e.pendingLanes,d===0&&(Rr=null),ea(i.stateNode),qt(e,be()),n!==null)for(u=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(Ga)throw Ga=!1,e=nc,nc=null,e;return Xa&1&&e.tag!==0&&ms(),d=e.pendingLanes,d&1?e===rc?Ro++:(Ro=0,rc=e):Ro=0,Ir(),null}function ms(){if(Pr!==null){var e=gr(Xa),n=hn.transition,i=Ee;try{if(hn.transition=null,Ee=16>e?16:e,Pr===null)var u=!1;else{if(e=Pr,Pr=null,Xa=0,xe&6)throw Error(r(331));var h=xe;for(xe|=4,ne=e.current;ne!==null;){var d=ne,y=d.child;if(ne.flags&16){var E=d.deletions;if(E!==null){for(var k=0;k<E.length;k++){var F=E[k];for(ne=F;ne!==null;){var $=ne;switch($.tag){case 0:case 11:case 15:ko(8,$,d)}var H=$.child;if(H!==null)H.return=$,ne=H;else for(;ne!==null;){$=ne;var B=$.sibling,X=$.return;if(nd($),$===F){ne=null;break}if(B!==null){B.return=X,ne=B;break}ne=X}}}var ie=d.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var et=se.sibling;se.sibling=null,se=et}while(se!==null)}}ne=d}}if(d.subtreeFlags&2064&&y!==null)y.return=d,ne=y;else e:for(;ne!==null;){if(d=ne,d.flags&2048)switch(d.tag){case 0:case 11:case 15:ko(9,d,d.return)}var L=d.sibling;if(L!==null){L.return=d.return,ne=L;break e}ne=d.return}}var C=e.current;for(ne=C;ne!==null;){y=ne;var M=y.child;if(y.subtreeFlags&2064&&M!==null)M.return=y,ne=M;else e:for(y=C;ne!==null;){if(E=ne,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:Qa(9,E)}}catch(oe){Ge(E,E.return,oe)}if(E===y){ne=null;break e}var Q=E.sibling;if(Q!==null){Q.return=E.return,ne=Q;break e}ne=E.return}}if(xe=h,Ir(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Jr,e)}catch{}u=!0}return u}finally{Ee=i,hn.transition=n}}return!1}function _d(e,n,i){n=hs(i,n),n=Of(e,n,1),e=Ar(e,n,1),n=Ft(),e!==null&&(pr(e,1,n),qt(e,n))}function Ge(e,n,i){if(e.tag===3)_d(e,e,i);else for(;n!==null;){if(n.tag===3){_d(n,e,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rr===null||!Rr.has(u))){e=hs(i,e),e=Ff(n,e,1),n=Ar(n,e,1),e=Ft(),n!==null&&(pr(n,1,e),qt(n,e));break}}n=n.return}}function Dg(e,n,i){var u=e.pingCache;u!==null&&u.delete(n),n=Ft(),e.pingedLanes|=e.suspendedLanes&i,gt===e&&(Tt&i)===i&&(ct===4||ct===3&&(Tt&130023424)===Tt&&500>be()-tc?pi(e,0):ec|=i),qt(e,n)}function vd(e,n){n===0&&(e.mode&1?(n=ji,ji<<=1,!(ji&130023424)&&(ji=4194304)):n=1);var i=Ft();e=rr(e,n),e!==null&&(pr(e,n,i),qt(e,i))}function Lg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),vd(e,i)}function Mg(e,n){var i=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),vd(e,i)}var wd;wd=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Ut.current)$t=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return $t=!1,Tg(e,n,i);$t=!!(e.flags&131072)}else $t=!1,qe&&n.flags&1048576&&Jh(n,Pa,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Ha(e,n),e=n.pendingProps;var h=rs(n,Ct.current);us(n,i),h=Nu(null,n,u,e,h,i);var d=Du();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Bt(u)?(d=!0,Aa(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ku(n),h.updater=Ba,n.stateNode=h,h._reactInternals=n,zu(n,u,e,i),n=$u(null,n,u,!0,d,i)):(n.tag=0,qe&&d&&mu(n),Ot(null,n,h,i),n=n.child),n;case 16:u=n.elementType;e:{switch(Ha(e,n),e=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Fg(u),e=In(u,e),h){case 0:n=Bu(null,n,u,e,i);break e;case 1:n=Qf(null,n,u,e,i);break e;case 11:n=Uf(null,n,u,e,i);break e;case 14:n=Bf(null,n,u,In(u.type,e),i);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:In(u,h),Bu(e,n,u,h,i);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:In(u,h),Qf(e,n,u,h,i);case 3:e:{if(Kf(n),e===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,lf(e,n),Ma(n,u,null,i);var y=n.memoizedState;if(u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=hs(Error(r(423)),n),n=Wf(e,n,u,i,h);break e}else if(u!==h){h=hs(Error(r(424)),n),n=Wf(e,n,u,i,h);break e}else for(en=Er(n.stateNode.containerInfo.firstChild),Zt=n,qe=!0,Sn=null,i=of(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(os(),u===h){n=sr(e,n,i);break e}Ot(e,n,u,i)}n=n.child}return n;case 5:return hf(n),e===null&&_u(n),u=n.type,h=n.pendingProps,d=e!==null?e.memoizedProps:null,y=h.children,uu(u,h)?y=null:d!==null&&uu(u,d)&&(n.flags|=32),qf(e,n),Ot(e,n,y,i),n.child;case 6:return e===null&&_u(n),null;case 13:return Gf(e,n,i);case 4:return Au(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=as(n,null,u,i):Ot(e,n,u,i),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:In(u,h),Uf(e,n,u,h,i);case 7:return Ot(e,n,n.pendingProps,i),n.child;case 8:return Ot(e,n,n.pendingProps.children,i),n.child;case 12:return Ot(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,y=h.value,Ue(Na,u._currentValue),u._currentValue=y,d!==null)if(Tn(d.value,y)){if(d.children===h.children&&!Ut.current){n=sr(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var E=d.dependencies;if(E!==null){y=d.child;for(var k=E.firstContext;k!==null;){if(k.context===u){if(d.tag===1){k=ir(-1,i&-i),k.tag=2;var F=d.updateQueue;if(F!==null){F=F.shared;var $=F.pending;$===null?k.next=k:(k.next=$.next,$.next=k),F.pending=k}}d.lanes|=i,k=d.alternate,k!==null&&(k.lanes|=i),Su(d.return,i,n),E.lanes|=i;break}k=k.next}}else if(d.tag===10)y=d.type===n.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=i,E=y.alternate,E!==null&&(E.lanes|=i),Su(y,i,n),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Ot(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,us(n,i),h=un(h),u=u(h),n.flags|=1,Ot(e,n,u,i),n.child;case 14:return u=n.type,h=In(u,n.pendingProps),h=In(u.type,h),Bf(e,n,u,h,i);case 15:return $f(e,n,n.type,n.pendingProps,i);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:In(u,h),Ha(e,n),n.tag=1,Bt(u)?(e=!0,Aa(n)):e=!1,us(n,i),Lf(n,u,h),zu(n,u,h,i),$u(null,n,u,!0,e,i);case 19:return Xf(e,n,i);case 22:return Hf(e,n,i)}throw Error(r(156,n.tag))};function Ed(e,n){return Oi(e,n)}function Og(e,n,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,i,u){return new Og(e,n,i,u)}function uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fg(e){if(typeof e=="function")return uc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===N)return 11;if(e===kt)return 14}return 2}function Nr(e,n){var i=e.alternate;return i===null?(i=fn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function tl(e,n,i,u,h,d){var y=2;if(u=e,typeof e=="function")uc(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case P:return gi(i.children,h,d,n);case T:y=8,h|=8;break;case I:return e=fn(12,i,n,h|2),e.elementType=I,e.lanes=d,e;case S:return e=fn(13,i,n,h),e.elementType=S,e.lanes=d,e;case Je:return e=fn(19,i,n,h),e.elementType=Je,e.lanes=d,e;case Fe:return nl(i,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:y=10;break e;case x:y=9;break e;case N:y=11;break e;case kt:y=14;break e;case At:y=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=fn(y,i,n,h),n.elementType=e,n.type=u,n.lanes=d,n}function gi(e,n,i,u){return e=fn(7,e,u,n),e.lanes=i,e}function nl(e,n,i,u){return e=fn(22,e,u,n),e.elementType=Fe,e.lanes=i,e.stateNode={isHidden:!1},e}function cc(e,n,i){return e=fn(6,e,null,n),e.lanes=i,e}function hc(e,n,i){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function jg(e,n,i,u,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dr(0),this.expirationTimes=dr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function fc(e,n,i,u,h,d,y,E,k){return e=new jg(e,n,i,E,k),n===1?(n=1,d===!0&&(n|=8)):n=0,d=fn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(d),e}function zg(e,n,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:u==null?null:""+u,children:e,containerInfo:n,implementation:i}}function Td(e){if(!e)return Sr;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Bt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var i=e.type;if(Bt(i))return Gh(e,i,n)}return n}function Sd(e,n,i,u,h,d,y,E,k){return e=fc(i,u,!0,e,h,d,y,E,k),e.context=Td(null),i=e.current,u=Ft(),h=xr(i),d=ir(u,h),d.callback=n??null,Ar(i,d,h),e.current.lanes=h,pr(e,h,u),qt(e,u),e}function rl(e,n,i,u){var h=n.current,d=Ft(),y=xr(h);return i=Td(i),n.context===null?n.context=i:n.pendingContext=i,n=ir(d,y),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Ar(h,n,y),e!==null&&(Cn(e,h,y,d),La(e,h,y)),y}function il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Id(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function dc(e,n){Id(e,n),(e=e.alternate)&&Id(e,n)}var kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function pc(e){this._internalRoot=e}sl.prototype.render=pc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));rl(e,n,null,null)},sl.prototype.unmount=pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;di(function(){rl(null,e,null,null)}),n[Zn]=null}};function sl(e){this._internalRoot=e}sl.prototype.unstable_scheduleHydration=function(e){if(e){var n=sa();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Vn.length&&n!==0&&n<Vn[i].priority;i++);Vn.splice(i,0,e),i===0&&la(e)}};function mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function bg(e,n,i,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var F=il(y);d.call(F)}}var y=Sd(n,u,e,0,null,!1,!1,"",Ad);return e._reactRootContainer=y,e[Zn]=y.current,ho(e.nodeType===8?e.parentNode:e),di(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var E=u;u=function(){var F=il(k);E.call(F)}}var k=fc(e,0,!1,null,null,!1,!1,"",Ad);return e._reactRootContainer=k,e[Zn]=k.current,ho(e.nodeType===8?e.parentNode:e),di(function(){rl(n,k,i,u)}),k}function al(e,n,i,u,h){var d=i._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var E=h;h=function(){var k=il(y);E.call(k)}}rl(n,y,e,h)}else y=bg(i,n,e,h,u);return il(y)}ra=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=fr(n.pendingLanes);i!==0&&(mr(n,i|1),qt(n,be()),!(xe&6)&&(ps=be()+500,Ir()))}break;case 13:di(function(){var u=rr(e,1);if(u!==null){var h=Ft();Cn(u,e,1,h)}}),dc(e,1)}},zi=function(e){if(e.tag===13){var n=rr(e,134217728);if(n!==null){var i=Ft();Cn(n,e,134217728,i)}dc(e,134217728)}},ia=function(e){if(e.tag===13){var n=xr(e),i=rr(e,n);if(i!==null){var u=Ft();Cn(i,e,n,u)}dc(e,n)}},sa=function(){return Ee},oa=function(e,n){var i=Ee;try{return Ee=e,n()}finally{Ee=i}},xi=function(e,n,i){switch(n){case"input":if(Os(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==e&&u.form===e.form){var h=Ia(u);if(!h)throw Error(r(90));Ii(u),Os(u,h)}}}break;case"textarea":Ri(e,i);break;case"select":n=i.value,n!=null&&qn(e,!!i.multiple,n,!1)}},Kr=oc,Qs=di;var Ug={usingClientEntryPoint:!1,Events:[mo,ts,Ia,Pn,qs,oc]},Po={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bg={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gs(e),e===null?null:e.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{Jr=ll.inject(Bg),Gt=ll}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ug,Qt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mc(n))throw Error(r(200));return zg(e,n,null,i)},Qt.createRoot=function(e,n){if(!mc(e))throw Error(r(299));var i=!1,u="",h=kd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=fc(e,1,!1,null,null,i,!1,u,h),e[Zn]=n.current,ho(e.nodeType===8?e.parentNode:e),new pc(n)},Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Gs(n),e=e===null?null:e.stateNode,e},Qt.flushSync=function(e){return di(e)},Qt.hydrate=function(e,n,i){if(!ol(n))throw Error(r(200));return al(null,e,n,!0,i)},Qt.hydrateRoot=function(e,n,i){if(!mc(e))throw Error(r(405));var u=i!=null&&i.hydratedSources||null,h=!1,d="",y=kd;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=Sd(n,null,e,1,i??null,h,!1,d,y),e[Zn]=n.current,ho(e),u)for(e=0;e<u.length;e++)i=u[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new sl(n)},Qt.render=function(e,n,i){if(!ol(n))throw Error(r(200));return al(null,e,n,!1,i)},Qt.unmountComponentAtNode=function(e){if(!ol(e))throw Error(r(40));return e._reactRootContainer?(di(function(){al(null,null,e,!1,function(){e._reactRootContainer=null,e[Zn]=null})}),!0):!1},Qt.unstable_batchedUpdates=oc,Qt.unstable_renderSubtreeIntoContainer=function(e,n,i,u){if(!ol(i))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return al(e,n,i,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Ld;function Yg(){if(Ld)return _c.exports;Ld=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),_c.exports=Gg(),_c.exports}var Md;function Xg(){if(Md)return ul;Md=1;var s=Yg();return ul.createRoot=s.createRoot,ul.hydrateRoot=s.hydrateRoot,ul}var Jg=Xg();const Zg=({imageSrc:s,name:t,description:r,youtubeLink:o,facebookLink:l,onClick:c})=>re.jsxs("div",{className:"card",onClick:c,children:[re.jsx("div",{className:"img",children:re.jsx("img",{src:s,alt:t,width:"300",height:"200"})}),re.jsx("span",{children:t}),re.jsx("p",{className:"info",children:r}),re.jsxs("div",{className:"share",children:[re.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",onClick:p=>p.stopPropagation(),children:re.jsx("svg",{viewBox:"0 0 576 512",fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:re.jsx("path",{d:"M549.7 124.1c-6.3-23.7-24.8-42.3-48.3-48.6C458.8 64 288 64 288 64S117.2 64 74.6 75.5c-23.5 6.3-42 24.9-48.3 48.6-11.4 42.9-11.4 132.3-11.4 132.3s0 89.4 11.4 132.3c6.3 23.7 24.8 41.5 48.3 47.8C117.2 448 288 448 288 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zm-317.5 213.5V175.2l142.7 81.2-142.7 81.2z"})})}),re.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",onClick:p=>p.stopPropagation(),children:re.jsx("svg",{viewBox:"0 0 512 512",fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:re.jsx("path",{d:"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"})})})]}),re.jsx("button",{children:"Vote Now"})]}),ey=()=>re.jsxs("div",{className:"advert-card",children:[re.jsx("span",{className:"advert-card-small-text",children:"The Best!"}),re.jsx("span",{className:"advert-card-title",children:"المزيد من تفاصيل الجائزة"}),re.jsxs("div",{className:"advert-card-buttons",children:[re.jsxs("a",{href:"https://www.facebook.com/NationalYouthUnion",className:"advert-card-button",children:[re.jsx("span",{className:"advert-card-icon",children:re.jsx("svg",{width:"34",height:"34",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:re.jsx("path",{d:"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z",fill:"white"})})}),re.jsxs("div",{className:"advert-card-button-text advert-card-facebook",children:[re.jsx("span",{children:"اضغط هنا"}),re.jsx("span",{children:"اضغط هنا"})]})]}),re.jsxs("a",{href:"https://www.facebook.com/share/p/ejW1kRsn2v3bQ7yZ/?mibextid=oFDknk",className:"advert-card-button",children:[re.jsx("span",{className:"advert-card-icon",children:re.jsx("svg",{width:"34",height:"34",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:re.jsx("path",{d:"M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c0 0 0 0 0 0s0 0 0 0l.3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"})})}),re.jsxs("div",{className:"advert-card-button-text advert-card-comment",children:[re.jsx("span",{children:"اكتب تعليق هنا"}),re.jsx("span",{children:"التعليقات"})]})]})]})]}),ty=[{imageSrc:"66666.jfif",name:"M. Salah",description:"لاعب كرة قدم",youtubeLink:"",facebookLink:"https://www.instagram.com/mosalah/?hl=en"},{imageSrc:"555.jpg",name:"Tamer Hosny",description:"مطرب مصري",youtubeLink:"",facebookLink:""},{imageSrc:"rana23.jpeg",name:"Rana Raeis",description:"ممثلة مصرية",youtubeLink:"",facebookLink:""},{imageSrc:"nader.jpeg",name:"Nader Gourg",description:"مدرس علم نفس، فلسفة",youtubeLink:"https://www.youtube.com/@MrNaderGeorge",facebookLink:"https://www.facebook.com/Mr.Nader.Gourg"},{imageSrc:"Mona.jpg",name:"Mona El Shazly",description:"اعلامية مصرية",youtubeLink:"",facebookLink:""},{imageSrc:"mh.salah.jpg",name:"Mohamed Salah",description:"مدرس اللغة العربية",youtubeLink:"https://www.youtube.com/@mohamedsalah.bassthalk",facebookLink:"https://www.facebook.com/salah.bassthalk"},{imageSrc:"الدحيح.jfif",name:"Ahmed El Ghandour",description:"الدحيح :صانع محتوي",youtubeLink:"https://www.youtube.com/@Da7ee7",facebookLink:"https://www.instagram.com/eldaheeh/?hl=en"},{imageSrc:"شارع العلوم.jpg",name:"Abd Allāh Inān",description:"شارع العلوم: صانع محتوي",youtubeLink:"https://www.youtube.com/@annanscience",facebookLink:"https://www.facebook.com/annanscience?locale=ps_AF"},{imageSrc:"حسام منصور.jpg",name:"Hossam mansour",description:"لاعب كمال اجسام",youtubeLink:"",facebookLink:""},{imageSrc:"الهام شاهين.jpg",name:"Elham Shahein",description:"ممثلة مصرية",youtubeLink:"",facebookLink:""},{imageSrc:"سامح حسين يعتبر.jfif",name:"Sameh Hussain",description:"ممثل مصري",youtubeLink:"",facebookLink:"https://www.facebook.com/SamehHussein/photos_of"},{imageSrc:"Trezeguet.jpg",name:"Mahmoud Trezeguet",description:"لاعب كرة",youtubeLink:"",facebookLink:"https://www.facebook.com/Trezeguet27"},{imageSrc:"Jowairia.jpg",name:"Jowairia",description:"بلوجر",youtubeLink:"",facebookLink:""},{imageSrc:"النائبة ندي ثابت.jpg",name:"Nada Thabet",description:"عضو مجلس النواب لجنة التضامن الخاصة",youtubeLink:"",facebookLink:""},{imageSrc:"اعب كوره طايره.jpg",name:"Yehia Mousa",description:"لاعب كوره طايره لدي نادي الاتحاد السكندري",youtubeLink:"",facebookLink:"https://www.facebook.com/profile.php?id=100007587547773"},{imageSrc:"may.jpg",name:"May Abd El Aziz",description:"مغنية",youtubeLink:"",facebookLink:""},{imageSrc:"ahmed.jpg",name:"Ahmed Kemo",description:"منشئ محتوي عام + دعاية وإعلان",youtubeLink:"",facebookLink:"https://www.facebook.com/ahmedkemoofficial/?locale=ar_AR"},{imageSrc:"Ahmed ElGendy.jpg",name:"Ahmed ElGendy",description:"بطل العاب اولومبية",youtubeLink:"",facebookLink:"https://www.facebook.com/@ahmedelgendy00/?mibextid=ZbWKwL"},{imageSrc:"Sara Samir.jpg",name:"Sara Samir",description:"بطلة عالمية في رفع الأثقال",youtubeLink:"",facebookLink:""},{imageSrc:"marwanglitch.jpg",name:"Marwan Glitch",description:"صانع محتوى",youtubeLink:"",facebookLink:"https://www.facebook.com/marwanglitch"},{imageSrc:"amr sh.jpg",name:"Amr Shelil",description:"صانع محتوى",youtubeLink:"https://youtube.com/@dr.amrshelil?si=jXUrCxJYnGE45LRj",facebookLink:"https://www.facebook.com/Dr.amr.shelil.01277070137?mibextid=ZbWKwL"},{imageSrc:"rabab_sala7.jpg",name:"Rabab Salah",description:"مصممة أزياء",youtubeLink:"",facebookLink:""},{imageSrc:"radwan.jpg",name:"Radwan samir",description:"راكب دراجة (دراج)",youtubeLink:"",facebookLink:"https://www.facebook.com/RadwanSamir2010?mibextid=ZbWKwL"},{imageSrc:"dr y.jpg",name:"Dr.Yousef elghobashy",description:"صانع محتوى",youtubeLink:"https://youtube.com/@dryoussifelghobashy?si=-QveZyi65STgpkM-",facebookLink:"https://www.instagram.com/dryoussif_elghobashy?igsh=MW9rMzM3a3VqOGc2cg=="},{imageSrc:"shreif.jpg",name:"Shireef elmahdy",description:"مخرج",youtubeLink:"https://youtube.com/@shireefalmahdi?si=hkKb34L9Sc1NCmVN",facebookLink:"https://www.facebook.com/shireefalmahdiFB?mibextid=ZbWKwL"},{imageSrc:"Mazen elgharabawy.jpg",name:"Mazen elgharabawy",description:"ممثل",youtubeLink:"",facebookLink:"https://www.instagram.com/mazenelgharabawy_official?igsh=c2Zuem9qZmM1Y3Jp"},{imageSrc:"Ahmed saudi.jpg",name:"Ahmed saudi",description:"صانع محتوى",youtubeLink:"",facebookLink:"https://www.instagram.com/ahmed_saudi77?igsh=bmJrNWcwMjN1bHFp"},{imageSrc:"Tarek Shawky.jpg",name:"Tarek Shawki",description:"وزير التربية والتعليم سابقا",youtubeLink:"",facebookLink:"https://www.facebook.com/tshawki?mibextid=ZbWKwL"},{imageSrc:"Mahmoud hegazy.jpg",name:"Mahmoud hegazy",description:"ممثل",youtubeLink:"",facebookLink:"https://www.instagram.com/mahmoudhegazy?igsh=MWtzcWpobzA2MnEydw=="},{imageSrc:"Badria tolba.jpg",name:"Badria tolba",description:"ممثلة",youtubeLink:"",facebookLink:""},{imageSrc:"لافينيا نادر.jpg",name:"Lavinia Nader",description:"ممثلة",youtubeLink:"",facebookLink:"https://www.instagram.com/lavenia.nader/?hl=ar/"},{imageSrc:"taher.jpg",name:"Taher Nasr",description:"دكتور بهيئه المواد النوويه",youtubeLink:"",facebookLink:"https://www.instagram.com/tahernasrofficial/?hl=ar"},{imageSrc:"عمر الشناوي.jpg",name:"Omar ELShenawy",description:"ممثل",youtubeLink:"",facebookLink:"https://www.instagram.com/omar.el.shenawy/?hl=ar"},{imageSrc:"Tarek shawki.jpg",name:"Tarek El-Ebiary",description:"ممثل",youtubeLink:"",facebookLink:"https://www.instagram.com/tarekelebiary/?hl=ar"},{imageSrc:"Osama Said.jpg",name:"Osama Said",description:"لاعب كمال اجسام",youtubeLink:"",facebookLink:""},{imageSrc:"يحيي الجزار.jpg",name:"Yahia elgazar",description:"بلوجر",youtubeLink:"",facebookLink:"https://www.facebook.com/yahia.elgazar99?mibextid=ZbWKwL"},{imageSrc:"Magdy elcomando.jpg",name:"Magdy elcomando",description:"بلوجر",youtubeLink:"",facebookLink:"https://www.tiktok.com/@magdy_elcomando"},{imageSrc:"Mohamed Nasser.jpeg",name:"Mohamed Nasser",description:"مدرس جغرفيا",youtubeLink:"https://www.youtube.com/channel/UC21FQlpKPnub-vbUf3YbH2Q",facebookLink:"https://www.facebook.com/Mrmohamednasser1/?locale=ar_AR"},{imageSrc:"Khaled Sakr.jpg",name:"Khaled Sakr",description:"مدرس كيمياء",youtubeLink:"https://www.youtube.com/channel/UClvucpj2qZ3OUM2not9YVpA?app=desktop",facebookLink:"https://www.facebook.com/p/Mr-Khaled-Sakr-100064076050923/?locale=ar_AR"},{imageSrc:"Islam Mohamed.jpg",name:"Islam Mohamed",description:"بلوجر",youtubeLink:"",facebookLink:"https://www.facebook.com/dr.islammohamed.md/?locale=ar_AR"},{imageSrc:"Hisham Abbas.jpg",name:"Hisham Abbas",description:"مطرب مصري",youtubeLink:"https://youtube.com/@heshamabbasofficial?si=qtdeTGxD03EwNWo-",facebookLink:"https://www.facebook.com/HishamFans?mibextid=ZbWKwL"},{imageSrc:"Ahmed Karkeet.jpg",name:"Ahmed Karkeet",description:"منشيء محتوى",youtubeLink:"https://youtube.com/@drahmedkarkeet?si=Kxg958nmw7ife8-P",facebookLink:"https://www.facebook.com/ahmed.ibrahim.karkeet?mibextid=ZbWKwL"},{imageSrc:"Alkaisr.jpg",name:"Alkaisr",description:"بلوجر",youtubeLink:"https://www.tiktok.com/@1_alkaisr_1?_t=8qUF1kj5bec&_r=1",facebookLink:"https://www.instagram.com/alkaisr_ak?igsh=c29oOWR0OHBzbXZn"},{imageSrc:"Mostafa Sriea.jpg",name:"Mostafa Abo Sriea",description:"ممثل مصري",youtubeLink:"",facebookLink:"https://www.facebook.com/mostafaabosriieaofficial?mibextid=LQQJ4d"},{imageSrc:"Islam Shater.jpg",name:"Eslam Elshater",description:"إعلامي رياضي",youtubeLink:"",facebookLink:"https://www.facebook.com/share/EmBFxyGkxpMqnyvL/?mibextid=LQQJ4d"},{imageSrc:"Abdrahman Haredy.jpg",name:"Abdelrahman Haredy",description:"سباح مصري",youtubeLink:"",facebookLink:"https://www.facebook.com/share/EmBFxyGkxpMqnyvL/?mibextid=LQQJ4d"},{imageSrc:"Maram Mohamed.jpg",name:"Maram Mohamed",description:"مؤثرة فى مجال الرياضات الالكترونيه",youtubeLink:"",facebookLink:""},{imageSrc:"Nahed Sebaay.jpg",name:"Nahed Alsbaai",description:"ممثلة مصرية",youtubeLink:"",facebookLink:"https://www.facebook.com/nahedalsbaai?mibextid=LQQJ4d"},{imageSrc:"Mohamed Essa.jpg",name:"Mohamed Esam Essa",description:"لاعب فنون قتالية",youtubeLink:"",facebookLink:"https://www.facebook.com/share/9ebWhU8BX2WBQ6kC/?mibextid=LQQJ4d"}];var Od={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=function(s){const t=[];let r=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++o)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},ny=function(s){const t=[];let r=0,o=0;for(;r<s.length;){const l=s[r++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[r++];t[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[r++],p=s[r++],g=s[r++],_=((l&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(_>>10)),t[o++]=String.fromCharCode(56320+(_&1023))}else{const c=s[r++],p=s[r++];t[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return t.join("")},Dp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<s.length;l+=3){const c=s[l],p=l+1<s.length,g=p?s[l+1]:0,_=l+2<s.length,w=_?s[l+2]:0,A=c>>2,O=(c&3)<<4|g>>4;let z=(g&15)<<2|w>>6,q=w&63;_||(q=64,p||(z=64)),o.push(r[A],r[O],r[z],r[q])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Np(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):ny(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<s.length;){const c=r[s.charAt(l++)],g=l<s.length?r[s.charAt(l)]:0;++l;const w=l<s.length?r[s.charAt(l)]:64;++l;const O=l<s.length?r[s.charAt(l)]:64;if(++l,c==null||g==null||w==null||O==null)throw new ry;const z=c<<2|g>>4;if(o.push(z),w!==64){const q=g<<4&240|w>>2;if(o.push(q),O!==64){const te=w<<6&192|O;o.push(te)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ry extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iy=function(s){const t=Np(s);return Dp.encodeByteArray(t,!0)},Tl=function(s){return iy(s).replace(/\./g,"")},sy=function(s){try{return Dp.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=()=>oy().__FIREBASE_DEFAULTS__,ly=()=>{if(typeof process>"u"||typeof Od>"u")return;const s=Od.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},uy=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&sy(s[1]);return t&&JSON.parse(t)},Zc=()=>{try{return ay()||ly()||uy()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},cy=s=>{var t,r;return(r=(t=Zc())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},hy=s=>{const t=cy(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Lp=()=>{var s;return(s=Zc())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Tl(JSON.stringify(r)),Tl(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function my(){var s;const t=(s=Zc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gy(){return!my()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yy(){try{return typeof indexedDB=="object"}catch{return!1}}function _y(){return new Promise((s,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),s(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="FirebaseError";class xs extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=vy,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mp.prototype.create)}}class Mp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},l=`${this.service}/${t}`,c=this.errors[t],p=c?wy(c,o):"Error",g=`${this.serviceName}: ${p} (${l}).`;return new xs(l,g,o)}}function wy(s,t){return s.replace(Ey,(r,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const Ey=/\{\$([^}]+)}/g;function xc(s,t){if(s===t)return!0;const r=Object.keys(s),o=Object.keys(t);for(const l of r){if(!o.includes(l))return!1;const c=s[l],p=t[l];if(Fd(c)&&Fd(p)){if(!xc(c,p))return!1}else if(c!==p)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function Fd(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(s){return s&&s._delegate?s._delegate:s}class jo{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new fy;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ky(t))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(t=yi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=yi){return this.instances.has(t)}getOptions(t=yi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(l)}return l}onInit(t,r){var o;const l=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(l,c);const p=this.instances.get(l);return p&&t(p,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Iy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=yi){return this.component?this.component.multipleInstances?t:yi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iy(s){return s===yi?void 0:s}function ky(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Sy(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const Cy={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Ry=ke.INFO,Py={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},xy=(s,t,...r)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),l=Py[t];if(l)console[l](`[${o}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Op{constructor(t){this.name=t,this._logLevel=Ry,this._logHandler=xy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ke))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Cy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...t),this._logHandler(this,ke.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...t),this._logHandler(this,ke.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...t),this._logHandler(this,ke.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...t),this._logHandler(this,ke.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...t),this._logHandler(this,ke.ERROR,...t)}}const Vy=(s,t)=>t.some(r=>s instanceof r);let jd,zd;function Ny(){return jd||(jd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dy(){return zd||(zd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fp=new WeakMap,Vc=new WeakMap,jp=new WeakMap,Ec=new WeakMap,eh=new WeakMap;function Ly(s){const t=new Promise((r,o)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",p)},c=()=>{r(Or(s.result)),l()},p=()=>{o(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&Fp.set(r,s)}).catch(()=>{}),eh.set(t,s),t}function My(s){if(Vc.has(s))return;const t=new Promise((r,o)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",p),s.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",p),s.addEventListener("abort",p)});Vc.set(s,t)}let Nc={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return Vc.get(s);if(t==="objectStoreNames")return s.objectStoreNames||jp.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Or(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Oy(s){Nc=s(Nc)}function Fy(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=s.call(Tc(this),t,...r);return jp.set(o,t.sort?t.sort():[t]),Or(o)}:Dy().includes(s)?function(...t){return s.apply(Tc(this),t),Or(Fp.get(this))}:function(...t){return Or(s.apply(Tc(this),t))}}function jy(s){return typeof s=="function"?Fy(s):(s instanceof IDBTransaction&&My(s),Vy(s,Ny())?new Proxy(s,Nc):s)}function Or(s){if(s instanceof IDBRequest)return Ly(s);if(Ec.has(s))return Ec.get(s);const t=jy(s);return t!==s&&(Ec.set(s,t),eh.set(t,s)),t}const Tc=s=>eh.get(s);function zy(s,t,{blocked:r,upgrade:o,blocking:l,terminated:c}={}){const p=indexedDB.open(s,t),g=Or(p);return o&&p.addEventListener("upgradeneeded",_=>{o(Or(p.result),_.oldVersion,_.newVersion,Or(p.transaction),_)}),r&&p.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),g}const by=["get","getKey","getAll","getAllKeys","count"],Uy=["put","add","delete","clear"],Sc=new Map;function bd(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Sc.get(t))return Sc.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,l=Uy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||by.includes(r)))return;const c=async function(p,...g){const _=this.transaction(p,l?"readwrite":"readonly");let w=_.store;return o&&(w=w.index(g.shift())),(await Promise.all([w[r](...g),l&&_.done]))[0]};return Sc.set(t,c),c}Oy(s=>({...s,get:(t,r,o)=>bd(t,r)||s.get(t,r,o),has:(t,r)=>!!bd(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($y(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function $y(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dc="@firebase/app",Ud="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Op("@firebase/app"),Hy="@firebase/app-compat",qy="@firebase/analytics-compat",Qy="@firebase/analytics",Ky="@firebase/app-check-compat",Wy="@firebase/app-check",Gy="@firebase/auth",Yy="@firebase/auth-compat",Xy="@firebase/database",Jy="@firebase/data-connect",Zy="@firebase/database-compat",e_="@firebase/functions",t_="@firebase/functions-compat",n_="@firebase/installations",r_="@firebase/installations-compat",i_="@firebase/messaging",s_="@firebase/messaging-compat",o_="@firebase/performance",a_="@firebase/performance-compat",l_="@firebase/remote-config",u_="@firebase/remote-config-compat",c_="@firebase/storage",h_="@firebase/storage-compat",f_="@firebase/firestore",d_="@firebase/vertexai",p_="@firebase/firestore-compat",m_="firebase",g_="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="[DEFAULT]",y_={[Dc]:"fire-core",[Hy]:"fire-core-compat",[Qy]:"fire-analytics",[qy]:"fire-analytics-compat",[Wy]:"fire-app-check",[Ky]:"fire-app-check-compat",[Gy]:"fire-auth",[Yy]:"fire-auth-compat",[Xy]:"fire-rtdb",[Jy]:"fire-data-connect",[Zy]:"fire-rtdb-compat",[e_]:"fire-fn",[t_]:"fire-fn-compat",[n_]:"fire-iid",[r_]:"fire-iid-compat",[i_]:"fire-fcm",[s_]:"fire-fcm-compat",[o_]:"fire-perf",[a_]:"fire-perf-compat",[l_]:"fire-rc",[u_]:"fire-rc-compat",[c_]:"fire-gcs",[h_]:"fire-gcs-compat",[f_]:"fire-fst",[p_]:"fire-fst-compat",[d_]:"fire-vertex","fire-js":"fire-js",[m_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new Map,__=new Map,Mc=new Map;function Bd(s,t){try{s.container.addComponent(t)}catch(r){ar.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Il(s){const t=s.name;if(Mc.has(t))return ar.debug(`There were multiple attempts to register component ${t}.`),!1;Mc.set(t,s);for(const r of Sl.values())Bd(r,s);for(const r of __.values())Bd(r,s);return!0}function v_(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Mp("app","Firebase",w_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=g_;function zp(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Lc,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw Fr.create("bad-app-name",{appName:String(l)});if(r||(r=Lp()),!r)throw Fr.create("no-options");const c=Sl.get(l);if(c){if(xc(r,c.options)&&xc(o,c.config))return c;throw Fr.create("duplicate-app",{appName:l})}const p=new Ay(l);for(const _ of Mc.values())p.addComponent(_);const g=new E_(r,o,p);return Sl.set(l,g),g}function S_(s=Lc){const t=Sl.get(s);if(!t&&s===Lc&&Lp())return zp();if(!t)throw Fr.create("no-app",{appName:s});return t}function ws(s,t,r){var o;let l=(o=y_[s])!==null&&o!==void 0?o:s;r&&(l+=`-${r}`);const c=l.match(/\s|\//),p=t.match(/\s|\//);if(c||p){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ar.warn(g.join(" "));return}Il(new jo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="firebase-heartbeat-database",k_=1,zo="firebase-heartbeat-store";let Ic=null;function bp(){return Ic||(Ic=zy(I_,k_,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(zo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Fr.create("idb-open",{originalErrorMessage:s.message})})),Ic}async function A_(s){try{const r=(await bp()).transaction(zo),o=await r.objectStore(zo).get(Up(s));return await r.done,o}catch(t){if(t instanceof xs)ar.warn(t.message);else{const r=Fr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ar.warn(r.message)}}}async function $d(s,t){try{const o=(await bp()).transaction(zo,"readwrite");await o.objectStore(zo).put(t,Up(s)),await o.done}catch(r){if(r instanceof xs)ar.warn(r.message);else{const o=Fr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ar.warn(o.message)}}}function Up(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=1024,R_=30*24*60*60*1e3;class P_{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new V_(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Hd();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=R_}),this._storage.overwrite(this._heartbeatsCache))}catch(o){ar.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Hd(),{heartbeatsToSend:o,unsentEntries:l}=x_(this._heartbeatsCache.heartbeats),c=Tl(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return ar.warn(r),""}}}function Hd(){return new Date().toISOString().substring(0,10)}function x_(s,t=C_){const r=[];let o=s.slice();for(const l of s){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),qd(r)>t){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),qd(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class V_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yy()?_y().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await A_(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return $d(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return $d(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function qd(s){return Tl(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(s){Il(new jo("platform-logger",t=>new By(t),"PRIVATE")),Il(new jo("heartbeat",t=>new P_(t),"PRIVATE")),ws(Dc,Ud,s),ws(Dc,Ud,"esm2017"),ws("fire-js","")}N_("");var D_="firebase",L_="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(D_,L_,"app");var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,Bp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,T){function I(){}I.prototype=T.prototype,P.D=T.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(R,x,N){for(var S=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)S[Je-2]=arguments[Je];return T.prototype[x].apply(R,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(P,T,I){I||(I=0);var R=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)R[x]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(x=0;16>x;++x)R[x]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=P.g[0],I=P.g[1],x=P.g[2];var N=P.g[3],S=T+(N^I&(x^N))+R[0]+3614090360&4294967295;T=I+(S<<7&4294967295|S>>>25),S=N+(x^T&(I^x))+R[1]+3905402710&4294967295,N=T+(S<<12&4294967295|S>>>20),S=x+(I^N&(T^I))+R[2]+606105819&4294967295,x=N+(S<<17&4294967295|S>>>15),S=I+(T^x&(N^T))+R[3]+3250441966&4294967295,I=x+(S<<22&4294967295|S>>>10),S=T+(N^I&(x^N))+R[4]+4118548399&4294967295,T=I+(S<<7&4294967295|S>>>25),S=N+(x^T&(I^x))+R[5]+1200080426&4294967295,N=T+(S<<12&4294967295|S>>>20),S=x+(I^N&(T^I))+R[6]+2821735955&4294967295,x=N+(S<<17&4294967295|S>>>15),S=I+(T^x&(N^T))+R[7]+4249261313&4294967295,I=x+(S<<22&4294967295|S>>>10),S=T+(N^I&(x^N))+R[8]+1770035416&4294967295,T=I+(S<<7&4294967295|S>>>25),S=N+(x^T&(I^x))+R[9]+2336552879&4294967295,N=T+(S<<12&4294967295|S>>>20),S=x+(I^N&(T^I))+R[10]+4294925233&4294967295,x=N+(S<<17&4294967295|S>>>15),S=I+(T^x&(N^T))+R[11]+2304563134&4294967295,I=x+(S<<22&4294967295|S>>>10),S=T+(N^I&(x^N))+R[12]+1804603682&4294967295,T=I+(S<<7&4294967295|S>>>25),S=N+(x^T&(I^x))+R[13]+4254626195&4294967295,N=T+(S<<12&4294967295|S>>>20),S=x+(I^N&(T^I))+R[14]+2792965006&4294967295,x=N+(S<<17&4294967295|S>>>15),S=I+(T^x&(N^T))+R[15]+1236535329&4294967295,I=x+(S<<22&4294967295|S>>>10),S=T+(x^N&(I^x))+R[1]+4129170786&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^x&(T^I))+R[6]+3225465664&4294967295,N=T+(S<<9&4294967295|S>>>23),S=x+(T^I&(N^T))+R[11]+643717713&4294967295,x=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(x^N))+R[0]+3921069994&4294967295,I=x+(S<<20&4294967295|S>>>12),S=T+(x^N&(I^x))+R[5]+3593408605&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^x&(T^I))+R[10]+38016083&4294967295,N=T+(S<<9&4294967295|S>>>23),S=x+(T^I&(N^T))+R[15]+3634488961&4294967295,x=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(x^N))+R[4]+3889429448&4294967295,I=x+(S<<20&4294967295|S>>>12),S=T+(x^N&(I^x))+R[9]+568446438&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^x&(T^I))+R[14]+3275163606&4294967295,N=T+(S<<9&4294967295|S>>>23),S=x+(T^I&(N^T))+R[3]+4107603335&4294967295,x=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(x^N))+R[8]+1163531501&4294967295,I=x+(S<<20&4294967295|S>>>12),S=T+(x^N&(I^x))+R[13]+2850285829&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^x&(T^I))+R[2]+4243563512&4294967295,N=T+(S<<9&4294967295|S>>>23),S=x+(T^I&(N^T))+R[7]+1735328473&4294967295,x=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(x^N))+R[12]+2368359562&4294967295,I=x+(S<<20&4294967295|S>>>12),S=T+(I^x^N)+R[5]+4294588738&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^x)+R[8]+2272392833&4294967295,N=T+(S<<11&4294967295|S>>>21),S=x+(N^T^I)+R[11]+1839030562&4294967295,x=N+(S<<16&4294967295|S>>>16),S=I+(x^N^T)+R[14]+4259657740&4294967295,I=x+(S<<23&4294967295|S>>>9),S=T+(I^x^N)+R[1]+2763975236&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^x)+R[4]+1272893353&4294967295,N=T+(S<<11&4294967295|S>>>21),S=x+(N^T^I)+R[7]+4139469664&4294967295,x=N+(S<<16&4294967295|S>>>16),S=I+(x^N^T)+R[10]+3200236656&4294967295,I=x+(S<<23&4294967295|S>>>9),S=T+(I^x^N)+R[13]+681279174&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^x)+R[0]+3936430074&4294967295,N=T+(S<<11&4294967295|S>>>21),S=x+(N^T^I)+R[3]+3572445317&4294967295,x=N+(S<<16&4294967295|S>>>16),S=I+(x^N^T)+R[6]+76029189&4294967295,I=x+(S<<23&4294967295|S>>>9),S=T+(I^x^N)+R[9]+3654602809&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^x)+R[12]+3873151461&4294967295,N=T+(S<<11&4294967295|S>>>21),S=x+(N^T^I)+R[15]+530742520&4294967295,x=N+(S<<16&4294967295|S>>>16),S=I+(x^N^T)+R[2]+3299628645&4294967295,I=x+(S<<23&4294967295|S>>>9),S=T+(x^(I|~N))+R[0]+4096336452&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~x))+R[7]+1126891415&4294967295,N=T+(S<<10&4294967295|S>>>22),S=x+(T^(N|~I))+R[14]+2878612391&4294967295,x=N+(S<<15&4294967295|S>>>17),S=I+(N^(x|~T))+R[5]+4237533241&4294967295,I=x+(S<<21&4294967295|S>>>11),S=T+(x^(I|~N))+R[12]+1700485571&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~x))+R[3]+2399980690&4294967295,N=T+(S<<10&4294967295|S>>>22),S=x+(T^(N|~I))+R[10]+4293915773&4294967295,x=N+(S<<15&4294967295|S>>>17),S=I+(N^(x|~T))+R[1]+2240044497&4294967295,I=x+(S<<21&4294967295|S>>>11),S=T+(x^(I|~N))+R[8]+1873313359&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~x))+R[15]+4264355552&4294967295,N=T+(S<<10&4294967295|S>>>22),S=x+(T^(N|~I))+R[6]+2734768916&4294967295,x=N+(S<<15&4294967295|S>>>17),S=I+(N^(x|~T))+R[13]+1309151649&4294967295,I=x+(S<<21&4294967295|S>>>11),S=T+(x^(I|~N))+R[4]+4149444226&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~x))+R[11]+3174756917&4294967295,N=T+(S<<10&4294967295|S>>>22),S=x+(T^(N|~I))+R[2]+718787259&4294967295,x=N+(S<<15&4294967295|S>>>17),S=I+(N^(x|~T))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+x&4294967295,P.g[3]=P.g[3]+N&4294967295}o.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var I=T-this.blockSize,R=this.B,x=this.h,N=0;N<T;){if(x==0)for(;N<=I;)l(this,P,N),N+=this.blockSize;if(typeof P=="string"){for(;N<T;)if(R[x++]=P.charCodeAt(N++),x==this.blockSize){l(this,R),x=0;break}}else for(;N<T;)if(R[x++]=P[N++],x==this.blockSize){l(this,R),x=0;break}}this.h=x,this.o+=T},o.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var I=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=I&255,I/=256;for(this.u(P),P=Array(16),T=I=0;4>T;++T)for(var R=0;32>R;R+=8)P[I++]=this.g[T]>>>R&255;return P};function c(P,T){var I=g;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=T(P)}function p(P,T){this.h=T;for(var I=[],R=!0,x=P.length-1;0<=x;x--){var N=P[x]|0;R&&N==T||(I[x]=N,R=!1)}this.g=I}var g={};function _(P){return-128<=P&&128>P?c(P,function(T){return new p([T|0],0>T?-1:0)}):new p([P|0],0>P?-1:0)}function w(P){if(isNaN(P)||!isFinite(P))return O;if(0>P)return K(w(-P));for(var T=[],I=1,R=0;P>=I;R++)T[R]=P/I|0,I*=4294967296;return new p(T,0)}function A(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return K(A(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=w(Math.pow(T,8)),R=O,x=0;x<P.length;x+=8){var N=Math.min(8,P.length-x),S=parseInt(P.substring(x,x+N),T);8>N?(N=w(Math.pow(T,N)),R=R.j(N).add(w(S))):(R=R.j(I),R=R.add(w(S)))}return R}var O=_(0),z=_(1),q=_(16777216);s=p.prototype,s.m=function(){if(Z(this))return-K(this).m();for(var P=0,T=1,I=0;I<this.g.length;I++){var R=this.i(I);P+=(0<=R?R:4294967296+R)*T,T*=4294967296}return P},s.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(te(this))return"0";if(Z(this))return"-"+K(this).toString(P);for(var T=w(Math.pow(P,6)),I=this,R="";;){var x=we(I,T).g;I=De(I,x.j(T));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=x,te(I))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},s.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function te(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function Z(P){return P.h==-1}s.l=function(P){return P=De(this,P),Z(P)?-1:te(P)?0:1};function K(P){for(var T=P.g.length,I=[],R=0;R<T;R++)I[R]=~P.g[R];return new p(I,~P.h).add(z)}s.abs=function(){return Z(this)?K(this):this},s.add=function(P){for(var T=Math.max(this.g.length,P.g.length),I=[],R=0,x=0;x<=T;x++){var N=R+(this.i(x)&65535)+(P.i(x)&65535),S=(N>>>16)+(this.i(x)>>>16)+(P.i(x)>>>16);R=S>>>16,N&=65535,S&=65535,I[x]=S<<16|N}return new p(I,I[I.length-1]&-2147483648?-1:0)};function De(P,T){return P.add(K(T))}s.j=function(P){if(te(this)||te(P))return O;if(Z(this))return Z(P)?K(this).j(K(P)):K(K(this).j(P));if(Z(P))return K(this.j(K(P)));if(0>this.l(q)&&0>P.l(q))return w(this.m()*P.m());for(var T=this.g.length+P.g.length,I=[],R=0;R<2*T;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var x=0;x<P.g.length;x++){var N=this.i(R)>>>16,S=this.i(R)&65535,Je=P.i(x)>>>16,kt=P.i(x)&65535;I[2*R+2*x]+=S*kt,Re(I,2*R+2*x),I[2*R+2*x+1]+=N*kt,Re(I,2*R+2*x+1),I[2*R+2*x+1]+=S*Je,Re(I,2*R+2*x+1),I[2*R+2*x+2]+=N*Je,Re(I,2*R+2*x+2)}for(R=0;R<T;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=T;R<2*T;R++)I[R]=0;return new p(I,0)};function Re(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function ve(P,T){this.g=P,this.h=T}function we(P,T){if(te(T))throw Error("division by zero");if(te(P))return new ve(O,O);if(Z(P))return T=we(K(P),T),new ve(K(T.g),K(T.h));if(Z(T))return T=we(P,K(T)),new ve(K(T.g),T.h);if(30<P.g.length){if(Z(P)||Z(T))throw Error("slowDivide_ only works with positive integers.");for(var I=z,R=T;0>=R.l(P);)I=Xe(I),R=Xe(R);var x=Pe(I,1),N=Pe(R,1);for(R=Pe(R,2),I=Pe(I,2);!te(R);){var S=N.add(R);0>=S.l(P)&&(x=x.add(I),N=S),R=Pe(R,1),I=Pe(I,1)}return T=De(P,x.j(T)),new ve(x,T)}for(x=O;0<=P.l(T);){for(I=Math.max(1,Math.floor(P.m()/T.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=w(I),S=N.j(T);Z(S)||0<S.l(P);)I-=R,N=w(I),S=N.j(T);te(N)&&(N=z),x=x.add(N),P=De(P,S)}return new ve(x,P)}s.A=function(P){return we(this,P).h},s.and=function(P){for(var T=Math.max(this.g.length,P.g.length),I=[],R=0;R<T;R++)I[R]=this.i(R)&P.i(R);return new p(I,this.h&P.h)},s.or=function(P){for(var T=Math.max(this.g.length,P.g.length),I=[],R=0;R<T;R++)I[R]=this.i(R)|P.i(R);return new p(I,this.h|P.h)},s.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),I=[],R=0;R<T;R++)I[R]=this.i(R)^P.i(R);return new p(I,this.h^P.h)};function Xe(P){for(var T=P.g.length+1,I=[],R=0;R<T;R++)I[R]=P.i(R)<<1|P.i(R-1)>>>31;return new p(I,P.h)}function Pe(P,T){var I=T>>5;T%=32;for(var R=P.g.length-I,x=[],N=0;N<R;N++)x[N]=0<T?P.i(N+I)>>>T|P.i(N+I+1)<<32-T:P.i(N+I);return new p(x,P.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Bp=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=w,p.fromString=A,vi=p}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});var cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $p,Vo,Hp,yl,Oc,qp,Qp,Kp;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,m){return a==Array.prototype||a==Object.prototype||(a[f]=m.value),a};function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof cl=="object"&&cl];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function l(a,f){if(f)e:{var m=o;a=a.split(".");for(var v=0;v<a.length-1;v++){var D=a[v];if(!(D in m))break e;m=m[D]}a=a[a.length-1],v=m[a],f=f(v),f!=v&&f!=null&&t(m,a,{configurable:!0,writable:!0,value:f})}}function c(a,f){a instanceof String&&(a+="");var m=0,v=!1,D={next:function(){if(!v&&m<a.length){var j=m++;return{value:f(j,a[j]),done:!1}}return v=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}l("Array.prototype.values",function(a){return a||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function _(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function w(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function A(a,f,m){return a.call.apply(a.bind,arguments)}function O(a,f,m){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,v),a.apply(f,D)}}return function(){return a.apply(f,arguments)}}function z(a,f,m){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,z.apply(null,arguments)}function q(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function te(a,f){function m(){}m.prototype=f.prototype,a.aa=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(v,D,j){for(var W=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)W[Oe-2]=arguments[Oe];return f.prototype[D].apply(v,W)}}function Z(a){const f=a.length;if(0<f){const m=Array(f);for(let v=0;v<f;v++)m[v]=a[v];return m}return[]}function K(a,f){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(_(v)){const D=a.length||0,j=v.length||0;a.length=D+j;for(let W=0;W<j;W++)a[D+W]=v[W]}else a.push(v)}}class De{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Re(a){return/^[\s\xa0]*$/.test(a)}function ve(){var a=g.navigator;return a&&(a=a.userAgent)?a:""}function we(a){return we[" "](a),a}we[" "]=function(){};var Xe=ve().indexOf("Gecko")!=-1&&!(ve().toLowerCase().indexOf("webkit")!=-1&&ve().indexOf("Edge")==-1)&&!(ve().indexOf("Trident")!=-1||ve().indexOf("MSIE")!=-1)&&ve().indexOf("Edge")==-1;function Pe(a,f,m){for(const v in a)f.call(m,a[v],v,a)}function P(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function T(a){const f={};for(const m in a)f[m]=a[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,f){let m,v;for(let D=1;D<arguments.length;D++){v=arguments[D];for(m in v)a[m]=v[m];for(let j=0;j<I.length;j++)m=I[j],Object.prototype.hasOwnProperty.call(v,m)&&(a[m]=v[m])}}function x(a){var f=1;a=a.split(":");const m=[];for(;0<f&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function N(a){g.setTimeout(()=>{throw a},0)}function S(){var a=le;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Je{constructor(){this.h=this.g=null}add(f,m){const v=kt.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var kt=new De(()=>new At,a=>a.reset());class At{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,G=!1,le=new Je,J=()=>{const a=g.Promise.resolve(void 0);Fe=()=>{a.then(V)}};var V=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(m){N(m)}var f=kt;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}G=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return a}();function ye(a,f){if(ae.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(Xe){e:{try{we(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Te[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ye.aa.h.call(this)}}te(ye,ae);var Te={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function ze(a,f,m,v,D){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=D,this.key=++Me,this.da=this.fa=!1}function dt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function $n(a){this.src=a,this.g={},this.h=0}$n.prototype.add=function(a,f,m,v,D){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var W=ur(a,f,v,D);return-1<W?(f=a[W],m||(f.fa=!1)):(f=new ze(f,this.src,j,!!v,D),f.fa=m,a.push(f)),f};function Ii(a,f){var m=f.type;if(m in a.g){var v=a.g[m],D=Array.prototype.indexOf.call(v,f,void 0),j;(j=0<=D)&&Array.prototype.splice.call(v,D,1),j&&(dt(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function ur(a,f,m,v){for(var D=0;D<a.length;++D){var j=a[D];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==v)return D}return-1}var $r="closure_lm_"+(1e6*Math.random()|0),ki={};function Ms(a,f,m,v,D){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Ms(a,f[j],m,v,D);return null}return m=js(m),a&&a[Le]?a.K(f,m,w(v)?!!v.capture:!1,D):Os(a,f,m,!1,v,D)}function Os(a,f,m,v,D,j){if(!f)throw Error("Invalid event type");var W=w(D)?!!D.capture:!!D,Oe=Ci(a);if(Oe||(a[$r]=Oe=new $n(a)),m=Oe.add(f,m,v,W,j),m.proxy)return m;if(v=Wo(),m.proxy=v,v.src=a,v.listener=m,a.addEventListener)ge||(D=W),D===void 0&&(D=!1),a.addEventListener(f.toString(),v,D);else if(a.attachEvent)a.attachEvent(qn(f.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Wo(){function a(m){return f.call(a.src,a.listener,m)}const f=Fs;return a}function Ai(a,f,m,v,D){if(Array.isArray(f))for(var j=0;j<f.length;j++)Ai(a,f[j],m,v,D);else v=w(v)?!!v.capture:!!v,m=js(m),a&&a[Le]?(a=a.i,f=String(f).toString(),f in a.g&&(j=a.g[f],m=ur(j,m,v,D),-1<m&&(dt(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete a.g[f],a.h--)))):a&&(a=Ci(a))&&(f=a.g[f.toString()],a=-1,f&&(a=ur(f,m,v,D)),(m=-1<a?f[a]:null)&&Hn(m))}function Hn(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Le])Ii(f.i,a);else{var m=a.type,v=a.proxy;f.removeEventListener?f.removeEventListener(m,v,a.capture):f.detachEvent?f.detachEvent(qn(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=Ci(f))?(Ii(m,a),m.h==0&&(m.src=null,f[$r]=null)):dt(a)}}}function qn(a){return a in ki?ki[a]:ki[a]="on"+a}function Fs(a,f){if(a.da)a=!0;else{f=new ye(f,this);var m=a.listener,v=a.ha||a.src;a.fa&&Hn(a),a=m.call(v,f)}return a}function Ci(a){return a=a[$r],a instanceof $n?a:null}var Ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function js(a){return typeof a=="function"?a:(a[Ri]||(a[Ri]=function(f){return a.handleEvent(f)}),a[Ri])}function ot(){b.call(this),this.i=new $n(this),this.M=this,this.F=null}te(ot,b),ot.prototype[Le]=!0,ot.prototype.removeEventListener=function(a,f,m,v){Ai(this,a,f,m,v)};function at(a,f){var m,v=a.F;if(v)for(m=[];v;v=v.F)m.push(v);if(a=a.M,v=f.type||f,typeof f=="string")f=new ae(f,a);else if(f instanceof ae)f.target=f.target||a;else{var D=f;f=new ae(v,a),R(f,D)}if(D=!0,m)for(var j=m.length-1;0<=j;j--){var W=f.g=m[j];D=Qn(W,v,!0,f)&&D}if(W=f.g=a,D=Qn(W,v,!0,f)&&D,D=Qn(W,v,!1,f)&&D,m)for(j=0;j<m.length;j++)W=f.g=m[j],D=Qn(W,v,!1,f)&&D}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var m=a.g[f],v=0;v<m.length;v++)dt(m[v]);delete a.g[f],a.h--}}this.F=null},ot.prototype.K=function(a,f,m,v){return this.i.add(String(a),f,!1,m,v)},ot.prototype.L=function(a,f,m,v){return this.i.add(String(a),f,!0,m,v)};function Qn(a,f,m,v){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var D=!0,j=0;j<f.length;++j){var W=f[j];if(W&&!W.da&&W.capture==m){var Oe=W.listener,lt=W.ha||W.src;W.fa&&Ii(a.i,W),D=Oe.call(lt,v)!==!1&&D}}return D&&!v.defaultPrevented}function zs(a,f,m){if(typeof a=="function")m&&(a=z(a,m));else if(a&&typeof a.handleEvent=="function")a=z(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(a,f||0)}function cr(a){a.g=zs(()=>{a.g=null,a.i&&(a.i=!1,cr(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Hr extends b{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:cr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(a){b.call(this),this.h=a,this.g={}}te(qr,b);var bs=[];function Us(a){Pe(a.g,function(f,m){this.g.hasOwnProperty(m)&&Hn(f)},a),a.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Us(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bs=g.JSON.stringify,$s=g.JSON.parse,Hs=class{stringify(a){return g.JSON.stringify(a,void 0)}parse(a){return g.JSON.parse(a,void 0)}};function Qr(){}Qr.prototype.h=null;function Pi(a){return a.h||(a.h=a.i())}function xi(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rn(){ae.call(this,"d")}te(Rn,ae);function Vi(){ae.call(this,"c")}te(Vi,ae);var Pn={},qs=null;function Kr(){return qs=qs||new ot}Pn.La="serverreachability";function Qs(a){ae.call(this,Pn.La,a)}te(Qs,ae);function Kn(a){const f=Kr();at(f,new Qs(f))}Pn.STAT_EVENT="statevent";function Ks(a,f){ae.call(this,Pn.STAT_EVENT,a),this.stat=f}te(Ks,ae);function Ze(a){const f=Kr();at(f,new Ks(f,a))}Pn.Ma="timingevent";function Ni(a,f){ae.call(this,Pn.Ma,a),this.size=f}te(Ni,ae);function dn(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){a()},f)}function Wr(){this.g=!0}Wr.prototype.xa=function(){this.g=!1};function Gr(a,f,m,v,D,j){a.info(function(){if(a.g)if(j)for(var W="",Oe=j.split("&"),lt=0;lt<Oe.length;lt++){var Se=Oe[lt].split("=");if(1<Se.length){var pt=Se[0];Se=Se[1];var rt=pt.split("_");W=2<=rt.length&&rt[1]=="type"?W+(pt+"="+Se+"&"):W+(pt+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+v+") [attempt "+D+"]: "+f+`
`+m+`
`+W})}function Di(a,f,m,v,D,j,W){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+D+"]: "+f+`
`+m+`
`+j+" "+W})}function pn(a,f,m,v){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Hl(a,m)+(v?" "+v:"")})}function Ws(a,f){a.info(function(){return"TIMEOUT: "+f})}Wr.prototype.info=function(){};function Hl(a,f){if(!a.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var v=m[a];if(!(2>v.length)){var D=v[1];if(Array.isArray(D)&&!(1>D.length)){var j=D[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<D.length;W++)D[W]=""}}}}return Bs(m)}catch{return f}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Go={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mn;function Yr(){}te(Yr,Qr),Yr.prototype.g=function(){return new XMLHttpRequest},Yr.prototype.i=function(){return{}},mn=new Yr;function gn(a,f,m,v){this.j=a,this.i=f,this.l=m,this.R=v||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yo}function Yo(){this.i=null,this.g="",this.h=!1}var Gs={},Mi={};function Oi(a,f,m){a.L=1,a.v=mr(Yt(f)),a.m=m,a.P=!0,Ys(a,null)}function Ys(a,f){a.F=Date.now(),be(a),a.A=Yt(a.v);var m=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),yr(m.i,"t",v),a.C=0,m=a.j.J,a.h=new Yo,a.g=pa(a.j,m?f:null,!a.m),0<a.O&&(a.M=new Hr(z(a.Y,a,a.g),a.O)),f=a.U,m=a.g,v=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(bs[0]=D.toString()),D=bs);for(var j=0;j<D.length;j++){var W=Ms(m,D[j],v||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Kn(),Gr(a.i,a.u,a.A,a.l,a.R,a.m)}gn.prototype.ca=function(a){a=a.target;const f=this.M;f&&bt(a)==3?f.j():this.Y(a)},gn.prototype.Y=function(a){try{if(a==this.g)e:{const rt=bt(this.g);var f=this.g.Ba();const on=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||no(this.g)))){this.J||rt!=4||f==7||(f==8||0>=on?Kn(3):Kn(2)),Xr(this);var m=this.g.Z();this.X=m;t:if(Xo(this)){var v=no(this.g);a="";var D=v.length,j=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),hr(this);var W="";break t}this.h.i=new g.TextDecoder}for(f=0;f<D;f++)this.h.h=!0,a+=this.h.i.decode(v[f],{stream:!(j&&f==D-1)});v.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Di(this.i,this.u,this.A,this.l,this.R,rt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,lt=this.g;if((Oe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Re(Oe)){var Se=Oe;break t}}Se=null}if(m=Se)pn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xs(this,m);else{this.o=!1,this.s=3,Ze(12),rn(this),hr(this);break e}}if(this.P){m=!0;let Jt;for(;!this.J&&this.C<W.length;)if(Jt=ql(this,W),Jt==Mi){rt==4&&(this.s=4,Ze(14),m=!1),pn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Gs){this.s=4,Ze(15),pn(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else pn(this.i,this.l,Jt,null),Xs(this,Jt);if(Xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||W.length!=0||this.h.h||(this.s=1,Ze(16),m=!1),this.o=this.o&&m,!m)pn(this.i,this.l,W,"[Invalid Chunked Response]"),rn(this),hr(this);else if(0<W.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),io(pt),pt.M=!0,Ze(11))}}else pn(this.i,this.l,W,null),Xs(this,W);rt==4&&rn(this),this.o&&!this.J&&(rt==4?Ki(this.j,this):(this.o=!1,be(this)))}else Bi(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),rn(this),hr(this)}}}catch{}finally{}};function Xo(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ql(a,f){var m=a.C,v=f.indexOf(`
`,m);return v==-1?Mi:(m=Number(f.substring(m,v)),isNaN(m)?Gs:(v+=1,v+m>f.length?Mi:(f=f.slice(v,v+m),a.C=v+m,f)))}gn.prototype.cancel=function(){this.J=!0,rn(this)};function be(a){a.S=Date.now()+a.I,Jo(a,a.I)}function Jo(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=dn(z(a.ba,a),f)}function Xr(a){a.B&&(g.clearTimeout(a.B),a.B=null)}gn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ws(this.i,this.A),this.L!=2&&(Kn(),Ze(17)),rn(this),this.s=2,hr(this)):Jo(this,this.S-a)};function hr(a){a.j.G==0||a.J||Ki(a.j,a)}function rn(a){Xr(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Us(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Xs(a,f){try{var m=a.j;if(m.G!=0&&(m.g==a||Lt(m.h,a))){if(!a.K&&Lt(m.h,a)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var D=v;if(D[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Qi(m),En(m);else break e;qi(m),Ze(18)}}else m.za=D[1],0<m.za-m.T&&37500>D[2]&&m.F&&m.v==0&&!m.C&&(m.C=dn(z(m.Za,m),6e3));if(1>=ea(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Jn(m,11)}else if((a.K||m.g==a)&&Qi(m),!Re(f))for(D=m.Da.g.parse(f),f=0;f<D.length;f++){let Se=D[f];if(m.T=Se[0],Se=Se[1],m.G==2)if(Se[0]=="c"){m.K=Se[1],m.ia=Se[2];const pt=Se[3];pt!=null&&(m.la=pt,m.j.info("VER="+m.la));const rt=Se[4];rt!=null&&(m.Aa=rt,m.j.info("SVER="+m.Aa));const on=Se[5];on!=null&&typeof on=="number"&&0<on&&(v=1.5*on,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const Jt=a.g;if(Jt){const ii=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var j=v.h;j.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Js(j,j.h),j.h=null))}if(v.D){const Gi=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Gi&&(v.ya=Gi,je(v.I,v.D,Gi))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var W=a;if(v.qa=da(v,v.J?v.ia:null,v.W),W.K){ta(v.h,W);var Oe=W,lt=v.L;lt&&(Oe.I=lt),Oe.B&&(Xr(Oe),be(Oe)),v.g=W}else ri(v);0<m.i.length&&Dn(m)}else Se[0]!="stop"&&Se[0]!="close"||Jn(m,7);else m.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Jn(m,7):wt(m):Se[0]!="noop"&&m.l&&m.l.ta(Se),m.v=0)}}Kn(4)}catch{}}var Zo=class{constructor(a,f){this.g=a,this.map=f}};function Jr(a){this.l=a||10,g.PerformanceNavigationTiming?(a=g.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ea(a){return a.h?1:a.g?a.g.size:0}function Lt(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Js(a,f){a.g?a.g.add(f):a.h=f}function ta(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Jr.prototype.cancel=function(){if(this.i=na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function na(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.D);return f}return Z(a.i)}function Fi(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(_(a)){for(var f=[],m=a.length,v=0;v<m;v++)f.push(a[v]);return f}f=[],m=0;for(v in a)f[m++]=a[v];return f}function ji(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(_(a)||typeof a=="string"){var f=[];a=a.length;for(var m=0;m<a;m++)f.push(m);return f}f=[],m=0;for(const v in a)f[m++]=v;return f}}}function fr(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(_(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var m=ji(a),v=Fi(a),D=v.length,j=0;j<D;j++)f.call(void 0,v[j],m&&m[j],a)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ql(a,f){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var v=a[m].indexOf("="),D=null;if(0<=v){var j=a[m].substring(0,v);D=a[m].substring(v+1)}else j=a[m];f(j,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Wn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Wn){this.h=a.h,ei(this,a.j),this.o=a.o,this.g=a.g,dr(this,a.s),this.l=a.l;var f=a.i,m=new xn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),pr(this,m),this.m=a.m}else a&&(f=String(a).match(Zr))?(this.h=!1,ei(this,f[1]||"",!0),this.o=Ee(f[2]||""),this.g=Ee(f[3]||"",!0),dr(this,f[4]),this.l=Ee(f[5]||"",!0),pr(this,f[6]||"",!0),this.m=Ee(f[7]||"")):(this.h=!1,this.i=new xn(null,this.h))}Wn.prototype.toString=function(){var a=[],f=this.j;f&&a.push(gr(f,zi,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(gr(f,zi,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(gr(m,m.charAt(0)=="/"?sa:ia,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",gr(m,Zs)),a.join("")};function Yt(a){return new Wn(a)}function ei(a,f,m){a.j=m?Ee(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function dr(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function pr(a,f,m){f instanceof xn?(a.i=f,Vn(a.i,a.h)):(m||(f=gr(f,oa)),a.i=new xn(f,a.h))}function je(a,f,m){a.i.set(f,m)}function mr(a){return je(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ee(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function gr(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,ra),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ra(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var zi=/[#\/\?@]/g,ia=/[#\?:]/g,sa=/[#\?]/g,oa=/[#\?@]/g,Zs=/#/g;function xn(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function vt(a){a.g||(a.g=new Map,a.h=0,a.i&&Ql(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}s=xn.prototype,s.add=function(a,f){vt(this),this.i=null,a=sn(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function yn(a,f){vt(a),f=sn(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function _n(a,f){return vt(a),f=sn(a,f),a.g.has(f)}s.forEach=function(a,f){vt(this),this.g.forEach(function(m,v){m.forEach(function(D){a.call(f,D,v,this)},this)},this)},s.na=function(){vt(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){const D=a[v];for(let j=0;j<D.length;j++)m.push(f[v])}return m},s.V=function(a){vt(this);let f=[];if(typeof a=="string")_n(this,a)&&(f=f.concat(this.g.get(sn(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)f=f.concat(a[m])}return f},s.set=function(a,f){return vt(this),this.i=null,a=sn(this,a),_n(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},s.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function yr(a,f,m){yn(a,f),0<m.length&&(a.i=null,a.g.set(sn(a,f),Z(m)),a.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];const j=encodeURIComponent(String(v)),W=this.V(v);for(v=0;v<W.length;v++){var D=j;W[v]!==""&&(D+="="+encodeURIComponent(String(W[v]))),a.push(D)}}return this.i=a.join("&")};function sn(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Vn(a,f){f&&!a.j&&(vt(a),a.i=null,a.g.forEach(function(m,v){var D=v.toLowerCase();v!=D&&(yn(this,v),yr(this,D,m))},a)),a.j=f}function Kl(a,f){const m=new Wr;if(g.Image){const v=new Image;v.onload=q(zt,m,"TestLoadImage: loaded",!0,f,v),v.onerror=q(zt,m,"TestLoadImage: error",!1,f,v),v.onabort=q(zt,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=q(zt,m,"TestLoadImage: timeout",!1,f,v),g.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else f(!1)}function aa(a,f){const m=new Wr,v=new AbortController,D=setTimeout(()=>{v.abort(),zt(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:v.signal}).then(j=>{clearTimeout(D),j.ok?zt(m,"TestPingServer: ok",!0,f):zt(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),zt(m,"TestPingServer: error",!1,f)})}function zt(a,f,m,v,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),v(m)}catch{}}function Wl(){this.g=new Hs}function la(a,f,m){const v=m||"";try{fr(a,function(D,j){let W=D;w(D)&&(W=Bs(D)),f.push(v+j+"="+encodeURIComponent(W))})}catch(D){throw f.push(v+"type="+encodeURIComponent("_badmap")),D}}function Gn(a){this.l=a.Ub||null,this.j=a.eb||!1}te(Gn,Qr),Gn.prototype.g=function(){return new ti(this.l,this.j)},Gn.prototype.i=function(a){return function(){return a}}({});function ti(a,f){ot.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}te(ti,ot),s=ti.prototype,s.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,wn(this)},s.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vn(this)),this.readyState=0},s.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ua(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ua(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}s.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?vn(this):wn(this),this.readyState==3&&ua(this)}},s.Ra=function(a){this.g&&(this.response=this.responseText=a,vn(this))},s.Qa=function(a){this.g&&(this.response=a,vn(this))},s.ga=function(){this.g&&vn(this)};function vn(a){a.readyState=4,a.l=null,a.j=null,a.v=null,wn(a)}s.setRequestHeader=function(a,f){this.u.append(a,f)},s.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function wn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Yn(a){let f="";return Pe(a,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function _r(a,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Yn(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):je(a,f,m))}function He(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}te(He,ot);var Gl=/^https?$/i,eo=["POST","PUT"];s=He.prototype,s.Ha=function(a){this.J=a},s.ea=function(a,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mn.g(),this.v=this.o?Pi(this.o):Pi(mn),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(j){ni(this,j);return}if(a=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var D in v)m.set(D,v[D]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const j of v.keys())m.set(j,v.get(j));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),D=g.FormData&&a instanceof g.FormData,!(0<=Array.prototype.indexOf.call(eo,f,void 0))||v||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of m)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ui(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){ni(this,j)}};function ni(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,bi(a),Xt(a)}function bi(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}s.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),Xt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),He.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?to(this):this.bb())},s.bb=function(){to(this)};function to(a){if(a.h&&typeof p<"u"&&(!a.v[1]||bt(a)!=4||a.Z()!=2)){if(a.u&&bt(a)==4)zs(a.Ea,0,a);else if(at(a,"readystatechange"),bt(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=W===0){var D=String(a.D).match(Zr)[1]||null;!D&&g.self&&g.self.location&&(D=g.self.location.protocol.slice(0,-1)),v=!Gl.test(D?D.toLowerCase():"")}m=v}if(m)at(a,"complete"),at(a,"success");else{a.m=6;try{var j=2<bt(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",bi(a)}}finally{Xt(a)}}}}function Xt(a,f){if(a.g){Ui(a);const m=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||at(a,"ready");try{m.onreadystatechange=v}catch{}}}function Ui(a){a.I&&(g.clearTimeout(a.I),a.I=null)}s.isActive=function(){return!!this.g};function bt(a){return a.g?a.g.readyState:0}s.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),$s(f)}};function no(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(a){const f={};a=(a.g&&2<=bt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(Re(a[v]))continue;var m=x(a[v]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[D]||[];f[D]=j,j.push(m)}P(f,function(v){return v.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nn(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function ro(a){this.Aa=0,this.i=[],this.j=new Wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nn("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nn("baseRetryDelayMs",5e3,a),this.cb=Nn("retryDelaySeedMs",1e4,a),this.Wa=Nn("forwardChannelMaxRetries",2,a),this.wa=Nn("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Jr(a&&a.concurrentRequestLimit),this.Da=new Wl,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ro.prototype,s.la=8,s.G=1,s.connect=function(a,f,m,v){Ze(0),this.W=a,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=da(this,null,this.W),Dn(this)};function wt(a){if($i(a),a.G==3){var f=a.U++,m=Yt(a.I);if(je(m,"SID",a.K),je(m,"RID",f),je(m,"TYPE","terminate"),Xn(a,m),f=new gn(a,a.j,f),f.L=2,f.v=mr(Yt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=pa(f.j,null),f.g.ea(f.v)),f.F=Date.now(),be(f)}fa(a)}function En(a){a.g&&(io(a),a.g.cancel(),a.g=null)}function $i(a){En(a),a.u&&(g.clearTimeout(a.u),a.u=null),Qi(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&g.clearTimeout(a.s),a.s=null)}function Dn(a){if(!Gt(a.h)&&!a.s){a.s=!0;var f=a.Ga;Fe||J(),G||(Fe(),G=!0),le.add(f,a),a.B=0}}function Yl(a,f){return ea(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=dn(z(a.Ga,a,f),ha(a,a.B)),a.B++,!0)}s.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new gn(this,this.j,a);let j=this.o;if(this.S&&(j?(j=T(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(D.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=vr(this,D,f),m=Yt(this.I),je(m,"RID",a),je(m,"CVER",22),this.D&&je(m,"X-HTTP-Session-Id",this.D),Xn(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(Yn(j)))+"&"+f:this.m&&_r(m,this.m,j)),Js(this.h,D),this.Ua&&je(m,"TYPE","init"),this.P?(je(m,"$req",f),je(m,"SID","null"),D.T=!0,Oi(D,m,null)):Oi(D,m,f),this.G=2}}else this.G==3&&(a?Hi(this,a):this.i.length==0||Gt(this.h)||Hi(this))};function Hi(a,f){var m;f?m=f.l:m=a.U++;const v=Yt(a.I);je(v,"SID",a.K),je(v,"RID",m),je(v,"AID",a.T),Xn(a,v),a.m&&a.o&&_r(v,a.m,a.o),m=new gn(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),f&&(a.i=f.D.concat(a.i)),f=vr(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Js(a.h,m),Oi(m,v,f)}function Xn(a,f){a.H&&Pe(a.H,function(m,v){je(f,v,m)}),a.l&&fr({},function(m,v){je(f,v,m)})}function vr(a,f,m){m=Math.min(a.i.length,m);var v=a.l?z(a.l.Na,a.l,a):null;e:{var D=a.i;let j=-1;for(;;){const W=["count="+m];j==-1?0<m?(j=D[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Oe=!0;for(let lt=0;lt<m;lt++){let Se=D[lt].g;const pt=D[lt].map;if(Se-=j,0>Se)j=Math.max(0,D[lt].g-100),Oe=!1;else try{la(pt,W,"req"+Se+"_")}catch{v&&v(pt)}}if(Oe){v=W.join("&");break e}}}return a=a.i.splice(0,m),f.D=a,v}function ri(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;Fe||J(),G||(Fe(),G=!0),le.add(f,a),a.v=0}}function qi(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=dn(z(a.Fa,a),ha(a,a.v)),a.v++,!0)}s.Fa=function(){if(this.u=null,ca(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=dn(z(this.ab,this),a)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),En(this),ca(this))};function io(a){a.A!=null&&(g.clearTimeout(a.A),a.A=null)}function ca(a){a.g=new gn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Yt(a.qa);je(f,"RID","rpc"),je(f,"SID",a.K),je(f,"AID",a.T),je(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&je(f,"TO",a.ja),je(f,"TYPE","xmlhttp"),Xn(a,f),a.m&&a.o&&_r(f,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=mr(Yt(f)),m.m=null,m.P=!0,Ys(m,a)}s.Za=function(){this.C!=null&&(this.C=null,En(this),qi(this),Ze(19))};function Qi(a){a.C!=null&&(g.clearTimeout(a.C),a.C=null)}function Ki(a,f){var m=null;if(a.g==f){Qi(a),io(a),a.g=null;var v=2}else if(Lt(a.h,f))m=f.D,ta(a.h,f),v=1;else return;if(a.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var D=a.B;v=Kr(),at(v,new Ni(v,m)),Dn(a)}else ri(a);else if(D=f.s,D==3||D==0&&0<f.X||!(v==1&&Yl(a,f)||v==2&&qi(a)))switch(m&&0<m.length&&(f=a.h,f.i=f.i.concat(m)),D){case 1:Jn(a,5);break;case 4:Jn(a,10);break;case 3:Jn(a,6);break;default:Jn(a,2)}}}function ha(a,f){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*f}function Jn(a,f){if(a.j.info("Error code "+f),f==2){var m=z(a.fb,a),v=a.Xa;const D=!v;v=new Wn(v||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ei(v,"https"),mr(v),D?Kl(v.toString(),m):aa(v.toString(),m)}else Ze(2);a.G=0,a.l&&a.l.sa(f),fa(a),$i(a)}s.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function fa(a){if(a.G=0,a.ka=[],a.l){const f=na(a.h);(f.length!=0||a.i.length!=0)&&(K(a.ka,f),K(a.ka,a.i),a.h.i.length=0,Z(a.i),a.i.length=0),a.l.ra()}}function da(a,f,m){var v=m instanceof Wn?Yt(m):new Wn(m);if(v.g!="")f&&(v.g=f+"."+v.g),dr(v,v.s);else{var D=g.location;v=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;var j=new Wn(null);v&&ei(j,v),f&&(j.g=f),D&&dr(j,D),m&&(j.l=m),v=j}return m=a.D,f=a.ya,m&&f&&je(v,m,f),je(v,"VER",a.la),Xn(a,v),v}function pa(a,f,m){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new He(new Gn({eb:m})):new He(a.pa),f.Ha(a.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function so(){}s=so.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Wi(){}Wi.prototype.g=function(a,f){return new Mt(a,f)};function Mt(a,f){ot.call(this),this.g=new ro(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!Re(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Re(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Ln(this)}te(Mt,ot),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){wt(this.g)},Mt.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Bs(a),a=m);f.i.push(new Zo(f.Ya++,a)),f.G==3&&Dn(f)},Mt.prototype.N=function(){this.g.l=null,delete this.j,wt(this.g),delete this.g,Mt.aa.N.call(this)};function ma(a){Rn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}te(ma,Rn);function ga(){Vi.call(this),this.status=1}te(ga,Vi);function Ln(a){this.g=a}te(Ln,so),Ln.prototype.ua=function(){at(this.g,"a")},Ln.prototype.ta=function(a){at(this.g,new ma(a))},Ln.prototype.sa=function(a){at(this.g,new ga)},Ln.prototype.ra=function(){at(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Kp=function(){return new Wi},Qp=function(){return Kr()},qp=Pn,Oc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,yl=Li,Go.COMPLETE="complete",Hp=Go,xi.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Vo=xi,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,$p=He}).apply(typeof cl<"u"?cl:typeof self<"u"?self:typeof window<"u"?window:{});const Kd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Op("@firebase/firestore");function gs(){return Ti.logLevel}function ee(s,...t){if(Ti.logLevel<=ke.DEBUG){const r=t.map(th);Ti.debug(`Firestore (${Vs}): ${s}`,...r)}}function lr(s,...t){if(Ti.logLevel<=ke.ERROR){const r=t.map(th);Ti.error(`Firestore (${Vs}): ${s}`,...r)}}function Is(s,...t){if(Ti.logLevel<=ke.WARN){const r=t.map(th);Ti.warn(`Firestore (${Vs}): ${s}`,...r)}}function th(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(s="Unexpected state"){const t=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: `+s;throw lr(t),new Error(t)}function We(s,t){s||me()}function Ce(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends xs{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Nt.UNAUTHENTICATED))}shutdown(){}}class O_{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class F_{constructor(t){this.t=t,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){We(this.o===void 0);let o=this.i;const l=_=>this.i!==o?(o=this.i,r(_)):Promise.resolve();let c=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wi,t.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const _=c;t.enqueueRetryable(async()=>{await _.promise,await l(this.currentUser)})},g=_=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wi)}},0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(We(typeof o.accessToken=="string"),new Wp(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return We(t===null||typeof t=="string"),new Nt(t)}}class j_{constructor(t,r,o){this.l=t,this.h=r,this.P=o,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class z_{constructor(t,r,o){this.l=t,this.h=r,this.P=o}getToken(){return Promise.resolve(new j_(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U_{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){We(this.o===void 0);const o=c=>{c.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,ee("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>o(c))};const l=c=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(We(typeof r.token=="string"),this.R=r.token,new b_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const l=B_(40);for(let c=0;c<l.length;++c)o.length<20&&l[c]<r&&(o+=t.charAt(l[c]%t.length))}return o}}function Ae(s,t){return s<t?-1:s>t?1:0}function ks(s,t,r){return s.length===t.length&&s.every((o,l)=>r(o,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(t){return Wt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new Wt(r,o)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ae(this.nanoseconds,t.nanoseconds):Ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(t){return new pe(t)}static min(){return new pe(new Wt(0,0))}static max(){return new pe(new Wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,r,o){r===void 0?r=0:r>t.length&&me(),o===void 0?o=t.length-r:o>t.length-r&&me(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return bo.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof bo?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let l=0;l<o;l++){const c=t.get(l),p=r.get(l);if(c<p)return-1;if(c>p)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Ye extends bo{construct(t,r,o){return new Ye(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new he(Y.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new Ye(r)}static emptyPath(){return new Ye([])}}const H_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends bo{construct(t,r,o){return new jt(t,r,o)}static isValidIdentifier(t){return H_.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(t){const r=[];let o="",l=0;const c=()=>{if(o.length===0)throw new he(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new he(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=_,l+=2}else g==="`"?(p=!p,l++):g!=="."||p?(o+=g,l++):(c(),l++)}if(c(),p)throw new he(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jt(r)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.path=t}static fromPath(t){return new fe(Ye.fromString(t))}static fromName(t){return new fe(Ye.fromString(t).popFirst(5))}static empty(){return new fe(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ye.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new fe(new Ye(t.slice()))}}function q_(s,t){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,l=pe.fromTimestamp(o===1e9?new Wt(r+1,0):new Wt(r,o));return new jr(l,fe.empty(),t)}function Q_(s){return new jr(s.readTime,s.key,-1)}class jr{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new jr(pe.min(),fe.empty(),-1)}static max(){return new jr(pe.max(),fe.empty(),-1)}}function K_(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=fe.comparator(s.documentKey,t.documentKey),r!==0?r:Ae(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==W_)throw s;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new U((o,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,l)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof U?r:U.resolve(r)}catch(r){return U.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):U.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):U.reject(r)}static resolve(t){return new U((r,o)=>{r(t)})}static reject(t){return new U((r,o)=>{o(t)})}static waitFor(t){return new U((r,o)=>{let l=0,c=0,p=!1;t.forEach(g=>{++l,g.next(()=>{++c,p&&c===l&&r()},_=>o(_))}),p=!0,c===l&&r()})}static or(t){let r=U.resolve(!1);for(const o of t)r=r.next(l=>l?U.resolve(l):o());return r}static forEach(t,r){const o=[];return t.forEach((l,c)=>{o.push(r.call(this,l,c))}),this.waitFor(o)}static mapArray(t,r){return new U((o,l)=>{const c=t.length,p=new Array(c);let g=0;for(let _=0;_<c;_++){const w=_;r(t[w]).next(A=>{p[w]=A,++g,g===c&&o(p)},A=>l(A))}})}static doWhile(t,r){return new U((o,l)=>{const c=()=>{t()===!0?r().next(()=>{c()},l):o()};c()})}}function Y_(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ns(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Dl.oe=-1;function Ll(s){return s==null}function Fc(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=Wd(t)),t=J_(s.get(r),t);return Wd(t)}function J_(s,t){let r=t;const o=s.length;for(let l=0;l<o;l++){const c=s.charAt(l);switch(c){case"\0":r+="";break;case"":r+="";break;default:r+=c}}return r}function Wd(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function Ho(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function Z_(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t,r){this.comparator=t,this.root=r||St.EMPTY}insert(t,r){return new nt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,St.BLACK,null,null))}remove(t){return new nt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,St.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(t,o.key);if(l===0)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hl(this.root,t,this.comparator,!1)}getReverseIterator(){return new hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hl(this.root,t,this.comparator,!0)}}class hl{constructor(t,r,o,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class St{constructor(t,r,o,l,c){this.key=t,this.value=r,this.color=o??St.RED,this.left=l??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,l,c){return new St(t??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const c=o(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,r,o),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return St.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const t=this.left.check();if(t!==this.right.check())throw me();return t+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(t,r,o,l,c){return this}insert(t,r,o){return new St(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.comparator=t,this.data=new nt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(t){return new Yd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof ft)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ft(this.comparator);return r.data=t,r}}class Yd{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this.fields=t,t.sort(jt.comparator)}static empty(){return new Lr([])}unionWith(t){let r=new ft(jt.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new Lr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return ks(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Gp("Invalid base64 string: "+c):c}}(t);return new It(r)}static fromUint8Array(t){const r=function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c}(t);return new It(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}It.EMPTY_BYTE_STRING=new It("");const ev=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(s){if(We(!!s),typeof s=="string"){let t=0;const r=ev.exec(s);if(We(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:tt(s.seconds),nanos:tt(s.nanos)}}function tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function br(s){return typeof s=="string"?It.fromBase64String(s):It.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Ml(s){const t=s.mapValue.fields.__previous_value__;return nh(t)?Ml(t):t}function Uo(s){const t=zr(s.mapValue.fields.__local_write_time__.timestampValue);return new Wt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(t,r,o,l,c,p,g,_,w){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=w}}class Bo{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ur(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?nh(s)?4:rv(s)?9007199254740991:nv(s)?10:11:me()}function Un(s,t){if(s===t)return!0;const r=Ur(s);if(r!==Ur(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Uo(s).isEqual(Uo(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=zr(l.timestampValue),g=zr(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,c){return br(l.bytesValue).isEqual(br(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,c){return tt(l.geoPointValue.latitude)===tt(c.geoPointValue.latitude)&&tt(l.geoPointValue.longitude)===tt(c.geoPointValue.longitude)}(s,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return tt(l.integerValue)===tt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=tt(l.doubleValue),g=tt(c.doubleValue);return p===g?Fc(p)===Fc(g):isNaN(p)&&isNaN(g)}return!1}(s,t);case 9:return ks(s.arrayValue.values||[],t.arrayValue.values||[],Un);case 10:case 11:return function(l,c){const p=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Gd(p)!==Gd(g))return!1;for(const _ in p)if(p.hasOwnProperty(_)&&(g[_]===void 0||!Un(p[_],g[_])))return!1;return!0}(s,t);default:return me()}}function $o(s,t){return(s.values||[]).find(r=>Un(r,t))!==void 0}function As(s,t){if(s===t)return 0;const r=Ur(s),o=Ur(t);if(r!==o)return Ae(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ae(s.booleanValue,t.booleanValue);case 2:return function(c,p){const g=tt(c.integerValue||c.doubleValue),_=tt(p.integerValue||p.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,t);case 3:return Xd(s.timestampValue,t.timestampValue);case 4:return Xd(Uo(s),Uo(t));case 5:return Ae(s.stringValue,t.stringValue);case 6:return function(c,p){const g=br(c),_=br(p);return g.compareTo(_)}(s.bytesValue,t.bytesValue);case 7:return function(c,p){const g=c.split("/"),_=p.split("/");for(let w=0;w<g.length&&w<_.length;w++){const A=Ae(g[w],_[w]);if(A!==0)return A}return Ae(g.length,_.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,p){const g=Ae(tt(c.latitude),tt(p.latitude));return g!==0?g:Ae(tt(c.longitude),tt(p.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return Jd(s.arrayValue,t.arrayValue);case 10:return function(c,p){var g,_,w,A;const O=c.fields||{},z=p.fields||{},q=(g=O.value)===null||g===void 0?void 0:g.arrayValue,te=(_=z.value)===null||_===void 0?void 0:_.arrayValue,Z=Ae(((w=q==null?void 0:q.values)===null||w===void 0?void 0:w.length)||0,((A=te==null?void 0:te.values)===null||A===void 0?void 0:A.length)||0);return Z!==0?Z:Jd(q,te)}(s.mapValue,t.mapValue);case 11:return function(c,p){if(c===fl.mapValue&&p===fl.mapValue)return 0;if(c===fl.mapValue)return 1;if(p===fl.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),w=p.fields||{},A=Object.keys(w);_.sort(),A.sort();for(let O=0;O<_.length&&O<A.length;++O){const z=Ae(_[O],A[O]);if(z!==0)return z;const q=As(g[_[O]],w[A[O]]);if(q!==0)return q}return Ae(_.length,A.length)}(s.mapValue,t.mapValue);default:throw me()}}function Xd(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ae(s,t);const r=zr(s),o=zr(t),l=Ae(r.seconds,o.seconds);return l!==0?l:Ae(r.nanos,o.nanos)}function Jd(s,t){const r=s.values||[],o=t.values||[];for(let l=0;l<r.length&&l<o.length;++l){const c=As(r[l],o[l]);if(c)return c}return Ae(r.length,o.length)}function Cs(s){return jc(s)}function jc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const o=zr(r);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return br(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return fe.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=jc(c);return o+"]"}(s.arrayValue):"mapValue"in s?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of o)c?c=!1:l+=",",l+=`${p}:${jc(r.fields[p])}`;return l+"}"}(s.mapValue):me()}function _l(s){switch(Ur(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ml(s);return t?16+_l(t):16;case 5:return 2*s.stringValue.length;case 6:return br(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((l,c)=>l+_l(c),0)}(s.arrayValue);case 10:case 11:return function(o){let l=0;return Ho(o.fields,(c,p)=>{l+=c.length+_l(p)}),l}(s.mapValue);default:throw me()}}function zc(s){return!!s&&"integerValue"in s}function rh(s){return!!s&&"arrayValue"in s}function Zd(s){return!!s&&"nullValue"in s}function ep(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kc(s){return!!s&&"mapValue"in s}function nv(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Lo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Ho(s.mapValue.fields,(r,o)=>t.mapValue.fields[r]=Lo(o)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Lo(s.arrayValue.values[r]);return t}return Object.assign({},s)}function rv(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.value=t}static empty(){return new zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!kc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lo(r)}setAll(t){let r=jt.emptyPath(),o={},l=[];t.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const _=this.getFieldsMap(r);this.applyChanges(_,o,l),o={},l=[],r=g.popLast()}p?o[g.lastSegment()]=Lo(p):l.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,l)}delete(t){const r=this.field(t.popLast());kc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Un(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let l=r.mapValue.fields[t.get(o)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,o){Ho(r,(l,c)=>t[l]=c);for(const l of o)delete t[l]}clone(){return new zn(Lo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,r,o,l,c,p,g){this.key=t,this.documentType=r,this.version=o,this.readTime=l,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(t){return new Dt(t,0,pe.min(),pe.min(),pe.min(),zn.empty(),0)}static newFoundDocument(t,r,o,l){return new Dt(t,1,r,pe.min(),o,l,0)}static newNoDocument(t,r){return new Dt(t,2,r,pe.min(),pe.min(),zn.empty(),0)}static newUnknownDocument(t,r){return new Dt(t,3,r,pe.min(),pe.min(),zn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Dt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,r){this.position=t,this.inclusive=r}}function tp(s,t,r){let o=0;for(let l=0;l<s.position.length;l++){const c=t[l],p=s.position[l];if(c.field.isKeyField()?o=fe.comparator(fe.fromName(p.referenceValue),r.key):o=As(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function np(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!Un(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,r="asc"){this.field=t,this.dir=r}}function iv(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{}class ht extends Yp{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new ov(t,r,o):r==="array-contains"?new uv(t,o):r==="in"?new cv(t,o):r==="not-in"?new hv(t,o):r==="array-contains-any"?new fv(t,o):new ht(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new av(t,o):new lv(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(As(r,this.value)):r!==null&&Ur(this.value)===Ur(r)&&this.matchesComparison(As(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends Yp{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new Bn(t,r)}matches(t){return Xp(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xp(s){return s.op==="and"}function Jp(s){return sv(s)&&Xp(s)}function sv(s){for(const t of s.filters)if(t instanceof Bn)return!1;return!0}function bc(s){if(s instanceof ht)return s.field.canonicalString()+s.op.toString()+Cs(s.value);if(Jp(s))return s.filters.map(t=>bc(t)).join(",");{const t=s.filters.map(r=>bc(r)).join(",");return`${s.op}(${t})`}}function Zp(s,t){return s instanceof ht?function(o,l){return l instanceof ht&&o.op===l.op&&o.field.isEqual(l.field)&&Un(o.value,l.value)}(s,t):s instanceof Bn?function(o,l){return l instanceof Bn&&o.op===l.op&&o.filters.length===l.filters.length?o.filters.reduce((c,p,g)=>c&&Zp(p,l.filters[g]),!0):!1}(s,t):void me()}function em(s){return s instanceof ht?function(r){return`${r.field.canonicalString()} ${r.op} ${Cs(r.value)}`}(s):s instanceof Bn?function(r){return r.op.toString()+" {"+r.getFilters().map(em).join(" ,")+"}"}(s):"Filter"}class ov extends ht{constructor(t,r,o){super(t,r,o),this.key=fe.fromName(o.referenceValue)}matches(t){const r=fe.comparator(t.key,this.key);return this.matchesComparison(r)}}class av extends ht{constructor(t,r){super(t,"in",r),this.keys=tm("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class lv extends ht{constructor(t,r){super(t,"not-in",r),this.keys=tm("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function tm(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>fe.fromName(o.referenceValue))}class uv extends ht{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return rh(r)&&$o(r.arrayValue,this.value)}}class cv extends ht{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&$o(this.value.arrayValue,r)}}class hv extends ht{constructor(t,r){super(t,"not-in",r)}matches(t){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!$o(this.value.arrayValue,r)}}class fv extends ht{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!rh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>$o(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t,r=null,o=[],l=[],c=null,p=null,g=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=c,this.startAt=p,this.endAt=g,this.ue=null}}function rp(s,t=null,r=[],o=[],l=null,c=null,p=null){return new dv(s,t,r,o,l,c,p)}function ih(s){const t=Ce(s);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>bc(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Ll(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Cs(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Cs(o)).join(",")),t.ue=r}return t.ue}function sh(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!iv(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!Zp(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!np(s.startAt,t.startAt)&&np(s.endAt,t.endAt)}function Uc(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,r=null,o=[],l=[],c=null,p="F",g=null,_=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pv(s,t,r,o,l,c,p,g){return new Ol(s,t,r,o,l,c,p,g)}function nm(s){return new Ol(s)}function ip(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mv(s){return s.collectionGroup!==null}function Mo(s){const t=Ce(s);if(t.ce===null){t.ce=[];const r=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),r.add(c.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new ft(jt.comparator);return p.filters.forEach(_=>{_.getFlattenedFilters().forEach(w=>{w.isInequality()&&(g=g.add(w.field))})}),g})(t).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Al(c,o))}),r.has(jt.keyField().canonicalString())||t.ce.push(new Al(jt.keyField(),o))}return t.ce}function bn(s){const t=Ce(s);return t.le||(t.le=gv(t,Mo(s))),t.le}function gv(s,t){if(s.limitType==="F")return rp(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Al(l.field,c)});const r=s.endAt?new kl(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new kl(s.startAt.position,s.startAt.inclusive):null;return rp(s.path,s.collectionGroup,t,s.filters,s.limit,r,o)}}function Bc(s,t,r){return new Ol(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function Fl(s,t){return sh(bn(s),bn(t))&&s.limitType===t.limitType}function rm(s){return`${ih(bn(s))}|lt:${s.limitType}`}function ys(s){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(l=>em(l)).join(", ")}]`),Ll(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(l=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(l)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(l=>Cs(l)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(l=>Cs(l)).join(",")),`Target(${o})`}(bn(s))}; limitType=${s.limitType})`}function jl(s,t){return t.isFoundDocument()&&function(o,l){const c=l.key.path;return o.collectionGroup!==null?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):fe.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(s,t)&&function(o,l){for(const c of Mo(o))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,t)&&function(o,l){for(const c of o.filters)if(!c.matches(l))return!1;return!0}(s,t)&&function(o,l){return!(o.startAt&&!function(p,g,_){const w=tp(p,g,_);return p.inclusive?w<=0:w<0}(o.startAt,Mo(o),l)||o.endAt&&!function(p,g,_){const w=tp(p,g,_);return p.inclusive?w>=0:w>0}(o.endAt,Mo(o),l))}(s,t)}function yv(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function im(s){return(t,r)=>{let o=!1;for(const l of Mo(s)){const c=_v(l,t,r);if(c!==0)return c;o=o||l.field.isKeyField()}return 0}}function _v(s,t,r){const o=s.field.isKeyField()?fe.comparator(t.key,r.key):function(c,p,g){const _=p.data.field(c),w=g.data.field(c);return _!==null&&w!==null?As(_,w):me()}(s.field,t,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[l,c]of o)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),l=this.inner[o];if(l===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return o.length===1?delete this.inner[r]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ho(this.inner,(r,o)=>{for(const[l,c]of o)t(l,c)})}isEmpty(){return Z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new nt(fe.comparator);function Br(){return vv}const sm=new nt(fe.comparator);function No(...s){let t=sm;for(const r of s)t=t.insert(r.key,r);return t}function wv(s){let t=sm;return s.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function _i(){return Oo()}function om(){return Oo()}function Oo(){return new Si(s=>s.toString(),(s,t)=>s.isEqual(t))}const Ev=new ft(fe.comparator);function Ve(...s){let t=Ev;for(const r of s)t=t.add(r);return t}const Tv=new ft(Ae);function Sv(){return Tv}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function kv(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this._=void 0}}function Av(s,t,r){return s instanceof $c?function(l,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&nh(c)&&(c=Ml(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,t):s instanceof Cl?am(s,t):s instanceof Rl?lm(s,t):function(l,c){const p=Rv(l,c),g=sp(p)+sp(l.Pe);return zc(p)&&zc(l.Pe)?kv(g):Iv(l.serializer,g)}(s,t)}function Cv(s,t,r){return s instanceof Cl?am(s,t):s instanceof Rl?lm(s,t):r}function Rv(s,t){return s instanceof Hc?function(o){return zc(o)||function(c){return!!c&&"doubleValue"in c}(o)}(t)?t:{integerValue:0}:null}class $c extends zl{}class Cl extends zl{constructor(t){super(),this.elements=t}}function am(s,t){const r=um(t);for(const o of s.elements)r.some(l=>Un(l,o))||r.push(o);return{arrayValue:{values:r}}}class Rl extends zl{constructor(t){super(),this.elements=t}}function lm(s,t){let r=um(t);for(const o of s.elements)r=r.filter(l=>!Un(l,o));return{arrayValue:{values:r}}}class Hc extends zl{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function sp(s){return tt(s.integerValue||s.doubleValue)}function um(s){return rh(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Pv(s,t){return s.field.isEqual(t.field)&&function(o,l){return o instanceof Cl&&l instanceof Cl||o instanceof Rl&&l instanceof Rl?ks(o.elements,l.elements,Un):o instanceof Hc&&l instanceof Hc?Un(o.Pe,l.Pe):o instanceof $c&&l instanceof $c}(s.transform,t.transform)}class Ei{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vl(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class oh{}function cm(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Vv(s.key,Ei.none()):new ah(s.key,s.data,Ei.none());{const r=s.data,o=zn.empty();let l=new ft(jt.comparator);for(let c of t.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),l=l.add(c)}return new bl(s.key,o,new Lr(l.toArray()),Ei.none())}}function xv(s,t,r){s instanceof ah?function(l,c,p){const g=l.value.clone(),_=ap(l.fieldTransforms,c,p.transformResults);g.setAll(_),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(s,t,r):s instanceof bl?function(l,c,p){if(!vl(l.precondition,c))return void c.convertToUnknownDocument(p.version);const g=ap(l.fieldTransforms,c,p.transformResults),_=c.data;_.setAll(hm(l)),_.setAll(g),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(s,t,r):function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,r)}function Fo(s,t,r,o){return s instanceof ah?function(c,p,g,_){if(!vl(c.precondition,p))return g;const w=c.value.clone(),A=lp(c.fieldTransforms,_,p);return w.setAll(A),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),null}(s,t,r,o):s instanceof bl?function(c,p,g,_){if(!vl(c.precondition,p))return g;const w=lp(c.fieldTransforms,_,p),A=p.data;return A.setAll(hm(c)),A.setAll(w),p.convertToFoundDocument(p.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(O=>O.field))}(s,t,r,o):function(c,p,g){return vl(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(s,t,r)}function op(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(o,l){return o===void 0&&l===void 0||!(!o||!l)&&ks(o,l,(c,p)=>Pv(c,p))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ah extends oh{constructor(t,r,o,l=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class bl extends oh{constructor(t,r,o,l,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hm(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);t.set(r,o)}}),t}function ap(s,t,r){const o=new Map;We(s.length===r.length);for(let l=0;l<r.length;l++){const c=s[l],p=c.transform,g=t.data.field(c.field);o.set(c.field,Cv(p,g,r[l]))}return o}function lp(s,t,r){const o=new Map;for(const l of s){const c=l.transform,p=r.data.field(l.field);o.set(l.field,Av(c,p,t))}return o}class Vv extends oh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,r,o,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&xv(c,t,o[l])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=Fo(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=Fo(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=om();return this.mutations.forEach(l=>{const c=t.get(l.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(l.key)?null:g;const _=cm(p,g);_!==null&&o.set(l.key,_),p.isValidDocument()||p.convertToNoDocument(pe.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ve())}isEqual(t){return this.batchId===t.batchId&&ks(this.mutations,t.mutations,(r,o)=>op(r,o))&&ks(this.baseMutations,t.baseMutations,(r,o)=>op(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ie;function fm(s){if(s===void 0)return lr("GRPC error has no .code"),Y.UNKNOWN;switch(s){case st.OK:return Y.OK;case st.CANCELLED:return Y.CANCELLED;case st.UNKNOWN:return Y.UNKNOWN;case st.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case st.INTERNAL:return Y.INTERNAL;case st.UNAVAILABLE:return Y.UNAVAILABLE;case st.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case st.NOT_FOUND:return Y.NOT_FOUND;case st.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case st.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case st.ABORTED:return Y.ABORTED;case st.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case st.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case st.DATA_LOSS:return Y.DATA_LOSS;default:return me()}}(Ie=st||(st={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new vi([4294967295,4294967295],0);function up(s){const t=Mv().encode(s),r=new Bp;return r.update(t),new Uint8Array(r.digest())}function cp(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new vi([r,o],0),new vi([l,c],0)]}class lh{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Do(`Invalid padding: ${r}`);if(o<0)throw new Do(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${o}`);if(t.length===0&&r!==0)throw new Do(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*t.length-r,this.Ie=vi.fromNumber(this.Te)}Ee(t,r,o){let l=t.add(r.multiply(vi.fromNumber(o)));return l.compare(Ov)===1&&(l=new vi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ie).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const r=up(t),[o,l]=cp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,l,c);if(!this.de(p))return!1}return!0}static create(t,r,o){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),p=new lh(c,l,r);return o.forEach(g=>p.insert(g)),p}insert(t){if(this.Te===0)return;const r=up(t),[o,l]=cp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,l,c);this.Ae(p)}}Ae(t){const r=Math.floor(t/8),o=t%8;this.bitmap[r]|=1<<o}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,r,o,l,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const l=new Map;return l.set(t,qo.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new Ul(pe.min(),l,new nt(Ae),Br(),Ve())}}class qo{constructor(t,r,o,l,c){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new qo(o,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,r,o,l){this.Re=t,this.removedTargetIds=r,this.key=o,this.Ve=l}}class dm{constructor(t,r){this.targetId=t,this.me=r}}class pm{constructor(t,r,o=It.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=l}}class hp{constructor(){this.fe=0,this.ge=fp(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ve(),r=Ve(),o=Ve();return this.ge.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:me()}}),new qo(this.pe,this.ye,t,r,o)}Ce(){this.we=!1,this.ge=fp()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Fv{constructor(t){this.Le=t,this.Be=new Map,this.ke=Br(),this.qe=dl(),this.Qe=dl(),this.Ke=new nt(Ae)}$e(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(r,t.Ve):this.We(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.We(r,t.key,t.Ve)}Ge(t){this.forEachTarget(t,r=>{const o=this.ze(r);switch(t.state){case 0:this.je(r)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.je(r)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.je(r)&&(this.He(r),o.De(t.resumeToken));break;default:me()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((o,l)=>{this.je(l)&&r(l)})}Je(t){const r=t.targetId,o=t.me.count,l=this.Ye(r);if(l){const c=l.target;if(Uc(c))if(o===0){const p=new fe(c.path);this.We(r,p,Dt.newNoDocument(p,pe.min()))}else We(o===1);else{const p=this.Ze(r);if(p!==o){const g=this.Xe(t),_=g?this.et(g,t,p):1;if(_!==0){this.He(r);const w=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,w)}}}}}Xe(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:c=0}=r;let p,g;try{p=br(o).toUint8Array()}catch(_){if(_ instanceof Gp)return Is("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new lh(p,l,c)}catch(_){return Is(_ instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Te===0?null:g}et(t,r,o){return r.me.count===o-this.rt(t,r.targetId)?0:2}rt(t,r){const o=this.Le.getRemoteKeysForTarget(r);let l=0;return o.forEach(c=>{const p=this.Le.nt(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.We(r,c,null),l++)}),l}it(t){const r=new Map;this.Be.forEach((c,p)=>{const g=this.Ye(p);if(g){if(c.current&&Uc(g.target)){const _=new fe(g.target.path);this.st(_).has(p)||this.ot(p,_)||this.We(p,_,Dt.newNoDocument(_,t))}c.be&&(r.set(p,c.ve()),c.Ce())}});let o=Ve();this.Qe.forEach((c,p)=>{let g=!0;p.forEachWhile(_=>{const w=this.Ye(_);return!w||w.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.ke.forEach((c,p)=>p.setReadTime(t));const l=new Ul(t,r,this.Ke,this.ke,o);return this.ke=Br(),this.qe=dl(),this.Qe=dl(),this.Ke=new nt(Ae),l}Ue(t,r){if(!this.je(t))return;const o=this.ot(t,r.key)?2:0;this.ze(t).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t)),this.Qe=this.Qe.insert(r.key,this._t(r.key).add(t))}We(t,r,o){if(!this.je(t))return;const l=this.ze(t);this.ot(t,r)?l.Fe(r,1):l.Me(r),this.Qe=this.Qe.insert(r,this._t(r).delete(t)),this.Qe=this.Qe.insert(r,this._t(r).add(t)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(t){this.Be.delete(t)}Ze(t){const r=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let r=this.Be.get(t);return r||(r=new hp,this.Be.set(t,r)),r}_t(t){let r=this.Qe.get(t);return r||(r=new ft(Ae),this.Qe=this.Qe.insert(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new ft(Ae),this.qe=this.qe.insert(t,r)),r}je(t){const r=this.Ye(t)!==null;return r||ee("WatchChangeAggregator","Detected inactive target",t),r}Ye(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new hp),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.We(t,r,null)})}ot(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function dl(){return new nt(fe.comparator)}function fp(){return new nt(fe.comparator)}const jv={asc:"ASCENDING",desc:"DESCENDING"},zv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bv={and:"AND",or:"OR"};class Uv{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function qc(s,t){return s.useProto3Json||Ll(t)?t:{value:t}}function Bv(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $v(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Es(s){return We(!!s),pe.fromTimestamp(function(r){const o=zr(r);return new Wt(o.seconds,o.nanos)}(s))}function Hv(s,t){return Qc(s,t).canonicalString()}function Qc(s,t){const r=function(l){return new Ye(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?r:r.child(t)}function mm(s){const t=Ye.fromString(s);return We(wm(t)),t}function Ac(s,t){const r=mm(t);if(r.get(1)!==s.databaseId.projectId)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new fe(ym(r))}function gm(s,t){return Hv(s.databaseId,t)}function qv(s){const t=mm(s);return t.length===4?Ye.emptyPath():ym(t)}function dp(s){return new Ye(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ym(s){return We(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Qv(s,t){let r;if("targetChange"in t){t.targetChange;const o=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:me()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(w,A){return w.useProto3Json?(We(A===void 0||typeof A=="string"),It.fromBase64String(A||"")):(We(A===void 0||A instanceof Buffer||A instanceof Uint8Array),It.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),p=t.targetChange.cause,g=p&&function(w){const A=w.code===void 0?Y.UNKNOWN:fm(w.code);return new he(A,w.message||"")}(p);r=new pm(o,l,c,g||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const l=Ac(s,o.document.name),c=Es(o.document.updateTime),p=o.document.createTime?Es(o.document.createTime):pe.min(),g=new zn({mapValue:{fields:o.document.fields}}),_=Dt.newFoundDocument(l,c,p,g),w=o.targetIds||[],A=o.removedTargetIds||[];r=new wl(w,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const l=Ac(s,o.document),c=o.readTime?Es(o.readTime):pe.min(),p=Dt.newNoDocument(l,c),g=o.removedTargetIds||[];r=new wl([],g,p.key,p)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const l=Ac(s,o.document),c=o.removedTargetIds||[];r=new wl([],c,l,null)}else{if(!("filter"in t))return me();{t.filter;const o=t.filter;o.targetId;const{count:l=0,unchangedNames:c}=o,p=new Lv(l,c),g=o.targetId;r=new dm(g,p)}}return r}function Kv(s,t){return{documents:[gm(s,t.path)]}}function Wv(s,t){const r={structuredQuery:{}},o=t.path;let l;t.collectionGroup!==null?(l=o,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=gm(s,l);const c=function(w){if(w.length!==0)return vm(Bn.create(w,"and"))}(t.filters);c&&(r.structuredQuery.where=c);const p=function(w){if(w.length!==0)return w.map(A=>function(z){return{field:_s(z.field),direction:Xv(z.dir)}}(A))}(t.orderBy);p&&(r.structuredQuery.orderBy=p);const g=qc(s,t.limit);return g!==null&&(r.structuredQuery.limit=g),t.startAt&&(r.structuredQuery.startAt=function(w){return{before:w.inclusive,values:w.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(t.endAt)),{ct:r,parent:l}}function Gv(s){let t=qv(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){We(o===1);const A=r.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];r.where&&(c=function(O){const z=_m(O);return z instanceof Bn&&Jp(z)?z.getFilters():[z]}(r.where));let p=[];r.orderBy&&(p=function(O){return O.map(z=>function(te){return new Al(vs(te.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction))}(z))}(r.orderBy));let g=null;r.limit&&(g=function(O){let z;return z=typeof O=="object"?O.value:O,Ll(z)?null:z}(r.limit));let _=null;r.startAt&&(_=function(O){const z=!!O.before,q=O.values||[];return new kl(q,z)}(r.startAt));let w=null;return r.endAt&&(w=function(O){const z=!O.before,q=O.values||[];return new kl(q,z)}(r.endAt)),pv(t,l,p,c,g,"F",_,w)}function Yv(s,t){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function _m(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=vs(r.unaryFilter.field);return ht.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=vs(r.unaryFilter.field);return ht.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=vs(r.unaryFilter.field);return ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=vs(r.unaryFilter.field);return ht.create(p,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(s):s.fieldFilter!==void 0?function(r){return ht.create(vs(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return Bn.create(r.compositeFilter.filters.map(o=>_m(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return me()}}(r.compositeFilter.op))}(s):me()}function Xv(s){return jv[s]}function Jv(s){return zv[s]}function Zv(s){return bv[s]}function _s(s){return{fieldPath:s.canonicalString()}}function vs(s){return jt.fromServerFormat(s.fieldPath)}function vm(s){return s instanceof ht?function(r){if(r.op==="=="){if(ep(r.value))return{unaryFilter:{field:_s(r.field),op:"IS_NAN"}};if(Zd(r.value))return{unaryFilter:{field:_s(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ep(r.value))return{unaryFilter:{field:_s(r.field),op:"IS_NOT_NAN"}};if(Zd(r.value))return{unaryFilter:{field:_s(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(r.field),op:Jv(r.op),value:r.value}}}(s):s instanceof Bn?function(r){const o=r.getFilters().map(l=>vm(l));return o.length===1?o[0]:{compositeFilter:{op:Zv(r.op),filters:o}}}(s):me()}function wm(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,r,o,l,c=pe.min(),p=pe.min(),g=It.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Mr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t){this.ht=t}}function tw(s){const t=Gv({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.ln=new rw}addToCollectionParentIndex(t,r){return this.ln.add(r),U.resolve()}getCollectionParents(t,r){return U.resolve(this.ln.getEntries(r))}addFieldIndex(t,r){return U.resolve()}deleteFieldIndex(t,r){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,r){return U.resolve()}getDocumentsMatchingTarget(t,r){return U.resolve(null)}getIndexType(t,r){return U.resolve(0)}getFieldIndexes(t,r){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,r){return U.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,r){return U.resolve(jr.min())}updateCollectionGroup(t,r,o){return U.resolve()}updateIndexEntries(t,r){return U.resolve()}}class rw{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),l=this.index[r]||new ft(Ye.comparator),c=!l.has(o);return this.index[r]=l.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(t){return(this.index[t]||new ft(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(t){return new Kt(t,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Rs(0)}static Qn(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp([s,t],[r,o]){const l=Ae(s,r);return l===0?Ae(t,o):l}class iw{constructor(t){this.Gn=t,this.buffer=new ft(mp),this.zn=0}jn(){return++this.zn}Hn(t){const r=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();mp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class sw{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){ee("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ns(r)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Nl(r)}await this.Yn(3e5)})}}class ow{constructor(t,r){this.Zn=t,this.params=r}calculateTargetCount(t,r){return this.Zn.Xn(t).next(o=>Math.floor(r/100*o))}nthSequenceNumber(t,r){if(r===0)return U.resolve(Dl.oe);const o=new iw(r);return this.Zn.forEachTarget(t,l=>o.Hn(l.sequenceNumber)).next(()=>this.Zn.er(t,l=>o.Hn(l))).next(()=>o.maxValue)}removeTargets(t,r,o){return this.Zn.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.Zn.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(pp)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pp):this.tr(t,r))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,r){let o,l,c,p,g,_,w;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(t,l))).next(O=>(o=O,g=Date.now(),this.removeTargets(t,o,r))).next(O=>(c=O,_=Date.now(),this.removeOrphanedDocuments(t,o))).next(O=>(w=Date.now(),gs()<=ke.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-A}ms
	Determined least recently used ${l} in `+(g-p)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${O} documents in `+(w-_)+`ms
Total Duration: ${w-A}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O})))}}function aw(s,t){return new ow(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.changes=new Si(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Dt.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?U.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,r,o,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=l}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(l=>(o=l,this.remoteDocumentCache.getEntry(t,r))).next(l=>(o!==null&&Fo(o.mutation,l,Lr.empty(),Wt.now()),l))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,Ve()).next(()=>o))}getLocalViewOfDocuments(t,r,o=Ve()){const l=_i();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,o).next(c=>{let p=No();return c.forEach((g,_)=>{p=p.insert(g,_.overlayedDocument)}),p}))}getOverlayedDocuments(t,r){const o=_i();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,Ve()))}populateOverlays(t,r,o){const l=[];return o.forEach(c=>{r.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(t,r,o,l){let c=Br();const p=Oo(),g=function(){return Oo()}();return r.forEach((_,w)=>{const A=o.get(w.key);l.has(w.key)&&(A===void 0||A.mutation instanceof bl)?c=c.insert(w.key,w):A!==void 0?(p.set(w.key,A.mutation.getFieldMask()),Fo(A.mutation,w,A.mutation.getFieldMask(),Wt.now())):p.set(w.key,Lr.empty())}),this.recalculateAndSaveOverlays(t,c).next(_=>(_.forEach((w,A)=>p.set(w,A)),r.forEach((w,A)=>{var O;return g.set(w,new uw(A,(O=p.get(w))!==null&&O!==void 0?O:null))}),g))}recalculateAndSaveOverlays(t,r){const o=Oo();let l=new nt((p,g)=>p-g),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(p=>{for(const g of p)g.keys().forEach(_=>{const w=r.get(_);if(w===null)return;let A=o.get(_)||Lr.empty();A=g.applyToLocalView(w,A),o.set(_,A);const O=(l.get(g.batchId)||Ve()).add(_);l=l.insert(g.batchId,O)})}).next(()=>{const p=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),w=_.key,A=_.value,O=om();A.forEach(z=>{if(!c.has(z)){const q=cm(r.get(z),o.get(z));q!==null&&O.set(z,q),c=c.add(z)}}),p.push(this.documentOverlayCache.saveOverlays(t,w,O))}return U.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,l){return function(p){return fe.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):mv(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,l):this.getDocumentsMatchingCollectionQuery(t,r,o,l)}getNextDocuments(t,r,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,l).next(c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,l-c.size):U.resolve(_i());let g=-1,_=c;return p.next(w=>U.forEach(w,(A,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),c.get(A)?U.resolve():this.remoteDocumentCache.getEntry(t,A).next(z=>{_=_.insert(A,z)}))).next(()=>this.populateOverlays(t,w,c)).next(()=>this.computeViews(t,_,w,Ve())).next(A=>({batchId:g,changes:wv(A)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new fe(r)).next(o=>{let l=No();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(t,r,o,l){const c=r.collectionGroup;let p=No();return this.indexManager.getCollectionParents(t,c).next(g=>U.forEach(g,_=>{const w=function(O,z){return new Ol(z,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(r,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,w,o,l).next(A=>{A.forEach((O,z)=>{p=p.insert(O,z)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,r,o,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,c,l))).next(p=>{c.forEach((_,w)=>{const A=w.getKey();p.get(A)===null&&(p=p.insert(A,Dt.newInvalidDocument(A)))});let g=No();return p.forEach((_,w)=>{const A=c.get(_);A!==void 0&&Fo(A.mutation,w,Lr.empty(),Wt.now()),jl(r,w)&&(g=g.insert(_,w))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,r){return U.resolve(this.Tr.get(r))}saveBundleMetadata(t,r){return this.Tr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:Es(l.createTime)}}(r)),U.resolve()}getNamedQuery(t,r){return U.resolve(this.Ir.get(r))}saveNamedQuery(t,r){return this.Ir.set(r.name,function(l){return{name:l.name,query:tw(l.bundledQuery),readTime:Es(l.readTime)}}(r)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.overlays=new nt(fe.comparator),this.Er=new Map}getOverlay(t,r){return U.resolve(this.overlays.get(r))}getOverlays(t,r){const o=_i();return U.forEach(r,l=>this.getOverlay(t,l).next(c=>{c!==null&&o.set(l,c)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((l,c)=>{this.Tt(t,r,c)}),U.resolve()}removeOverlaysForBatchId(t,r,o){const l=this.Er.get(o);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(o)),U.resolve()}getOverlaysForCollection(t,r,o){const l=_i(),c=r.length+1,p=new fe(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const _=g.getNext().value,w=_.getKey();if(!r.isPrefixOf(w.path))break;w.path.length===c&&_.largestBatchId>o&&l.set(_.getKey(),_)}return U.resolve(l)}getOverlaysForCollectionGroup(t,r,o,l){let c=new nt((w,A)=>w-A);const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===r&&w.largestBatchId>o){let A=c.get(w.largestBatchId);A===null&&(A=_i(),c=c.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const g=_i(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,A)=>g.set(w,A)),!(g.size()>=l)););return U.resolve(g)}Tt(t,r,o){const l=this.overlays.get(o.key);if(l!==null){const p=this.Er.get(l.largestBatchId).delete(o.key);this.Er.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Dv(r,o));let c=this.Er.get(r);c===void 0&&(c=Ve(),this.Er.set(r,c)),this.Er.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this.dr=new ft(_t.Ar),this.Rr=new ft(_t.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,r){const o=new _t(t,r);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.gr(new _t(t,r))}pr(t,r){t.forEach(o=>this.removeReference(o,r))}yr(t){const r=new fe(new Ye([])),o=new _t(r,t),l=new _t(r,t+1),c=[];return this.Rr.forEachInRange([o,l],p=>{this.gr(p),c.push(p.key)}),c}wr(){this.dr.forEach(t=>this.gr(t))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const r=new fe(new Ye([])),o=new _t(r,t),l=new _t(r,t+1);let c=Ve();return this.Rr.forEachInRange([o,l],p=>{c=c.add(p.key)}),c}containsKey(t){const r=new _t(t,0),o=this.dr.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class _t{constructor(t,r){this.key=t,this.br=r}static Ar(t,r){return fe.comparator(t.key,r.key)||Ae(t.br,r.br)}static Vr(t,r){return Ae(t.br,r.br)||fe.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new ft(_t.Ar)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,l){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new Nv(c,r,o,l);this.mutationQueue.push(p);for(const g of l)this.vr=this.vr.add(new _t(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return U.resolve(p)}lookupMutationBatch(t,r){return U.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,l=this.Fr(o),c=l<0?0:l;return U.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new _t(r,0),l=new _t(r,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([o,l],p=>{const g=this.Cr(p.br);c.push(g)}),U.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new ft(Ae);return r.forEach(l=>{const c=new _t(l,0),p=new _t(l,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,p],g=>{o=o.add(g.br)})}),U.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,l=o.length+1;let c=o;fe.isDocumentKey(c)||(c=c.child(""));const p=new _t(new fe(c),0);let g=new ft(Ae);return this.vr.forEachWhile(_=>{const w=_.key.path;return!!o.isPrefixOf(w)&&(w.length===l&&(g=g.add(_.br)),!0)},p),U.resolve(this.Mr(g))}Mr(t){const r=[];return t.forEach(o=>{const l=this.Cr(o);l!==null&&r.push(l)}),r}removeMutationBatch(t,r){We(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return U.forEach(r.mutations,l=>{const c=new _t(l.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.vr=o})}Ln(t){}containsKey(t,r){const o=new _t(r,0),l=this.vr.firstAfterOrEqual(o);return U.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}Or(t,r){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const r=this.Fr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t){this.Nr=t,this.docs=function(){return new nt(fe.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,l=this.docs.get(o),c=l?l.size:0,p=this.Nr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return U.resolve(o?o.document.mutableCopy():Dt.newInvalidDocument(r))}getEntries(t,r){let o=Br();return r.forEach(l=>{const c=this.docs.get(l);o=o.insert(l,c?c.document.mutableCopy():Dt.newInvalidDocument(l))}),U.resolve(o)}getDocumentsMatchingQuery(t,r,o,l){let c=Br();const p=r.path,g=new fe(p.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:w,value:{document:A}}=_.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||K_(Q_(A),o)<=0||(l.has(A.key)||jl(r,A))&&(c=c.insert(A.key,A.mutableCopy()))}return U.resolve(c)}getAllFromCollectionGroup(t,r,o,l){me()}Lr(t,r){return U.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new gw(this)}getSize(t){return U.resolve(this.size)}}class gw extends lw{constructor(t){super(),this.hr=t}applyChanges(t){const r=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?r.push(this.hr.addEntry(t,l)):this.hr.removeEntry(o)}),U.waitFor(r)}getFromCache(t,r){return this.hr.getEntry(t,r)}getAllFromCache(t,r){return this.hr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.persistence=t,this.Br=new Si(r=>ih(r),sh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new uh,this.targetCount=0,this.Qr=Rs.qn()}forEachTarget(t,r){return this.Br.forEach((o,l)=>r(l)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.kr&&(this.kr=r),U.resolve()}Un(t){this.Br.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Qr=new Rs(r),this.highestTargetId=r),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,r){return this.Un(r),this.targetCount+=1,U.resolve()}updateTargetData(t,r){return this.Un(r),U.resolve()}removeTargetData(t,r){return this.Br.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,r,o){let l=0;const c=[];return this.Br.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Br.delete(p),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),U.waitFor(c).next(()=>l)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,r){const o=this.Br.get(r)||null;return U.resolve(o)}addMatchingKeys(t,r,o){return this.qr.mr(r,o),U.resolve()}removeMatchingKeys(t,r,o){this.qr.pr(r,o);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach(p=>{c.push(l.markPotentiallyOrphaned(t,p))}),U.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.qr.yr(r),U.resolve()}getMatchingKeysForTargetId(t,r){const o=this.qr.Sr(r);return U.resolve(o)}containsKey(t,r){return U.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,r){this.Kr={},this.overlays={},this.$r=new Dl(0),this.Ur=!1,this.Ur=!0,this.Wr=new dw,this.referenceDelegate=t(this),this.Gr=new yw(this),this.indexManager=new nw,this.remoteDocumentCache=function(l){return new mw(l)}(o=>this.referenceDelegate.zr(o)),this.serializer=new ew(r),this.jr=new hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new fw,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.Kr[t.toKey()];return o||(o=new pw(r,this.referenceDelegate),this.Kr[t.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,r,o){ee("MemoryPersistence","Starting transaction:",t);const l=new _w(this.$r.next());return this.referenceDelegate.Hr(),o(l).next(c=>this.referenceDelegate.Jr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Yr(t,r){return U.or(Object.values(this.Kr).map(o=>()=>o.containsKey(t,r)))}}class _w extends G_{constructor(t){super(),this.currentSequenceNumber=t}}class ch{constructor(t){this.persistence=t,this.Zr=new uh,this.Xr=null}static ei(t){return new ch(t)}get ti(){if(this.Xr)return this.Xr;throw me()}addReference(t,r,o){return this.Zr.addReference(o,r),this.ti.delete(o.toString()),U.resolve()}removeReference(t,r,o){return this.Zr.removeReference(o,r),this.ti.add(o.toString()),U.resolve()}markPotentiallyOrphaned(t,r){return this.ti.add(r.toString()),U.resolve()}removeTarget(t,r){this.Zr.yr(r.targetId).forEach(l=>this.ti.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(l=>{l.forEach(c=>this.ti.add(c.toString()))}).next(()=>o.removeTargetData(t,r))}Hr(){this.Xr=new Set}Jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ti,o=>{const l=fe.fromPath(o);return this.ni(t,l).next(c=>{c||r.removeEntry(l,pe.min())})}).next(()=>(this.Xr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ni(t,r).next(o=>{o?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(t){return 0}ni(t,r){return U.or([()=>U.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Yr(t,r)])}}class Pl{constructor(t,r){this.persistence=t,this.ri=new Si(o=>X_(o.path),(o,l)=>o.isEqual(l)),this.garbageCollector=aw(this,r)}static ei(t,r){return new Pl(t,r)}Hr(){}Jr(t){return U.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}Xn(t){const r=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(o=>r.next(l=>o+l))}nr(t){let r=0;return this.er(t,o=>{r++}).next(()=>r)}er(t,r){return U.forEach(this.ri,(o,l)=>this.ir(t,o,l).next(c=>c?U.resolve():r(l)))}removeTargets(t,r,o){return this.persistence.getTargetCache().removeTargets(t,r,o)}removeOrphanedDocuments(t,r){let o=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Lr(t,p=>this.ir(t,p,r).next(g=>{g||(o++,c.removeEntry(p,pe.min()))})).next(()=>c.apply(t)).next(()=>o)}markPotentiallyOrphaned(t,r){return this.ri.set(r,t.currentSequenceNumber),U.resolve()}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),U.resolve()}removeReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,r){return this.ri.set(r,t.currentSequenceNumber),U.resolve()}zr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=_l(t.data.value)),r}ir(t,r,o){return U.or([()=>this.persistence.Yr(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.ri.get(r);return U.resolve(l!==void 0&&l>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,r,o,l){this.targetId=t,this.fromCache=r,this.Wi=o,this.Gi=l}static zi(t,r){let o=Ve(),l=Ve();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hh(t,r.fromCache,o,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return gy()?8:Y_(py())>0?6:4}()}initialize(t,r){this.Zi=t,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(t,r,o,l){const c={result:null};return this.Xi(t,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.es(t,r,l,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new vw;return this.ts(t,r,p).next(g=>{if(c.result=g,this.Hi)return this.ns(t,r,p,g.size)})}).next(()=>c.result)}ns(t,r,o,l){return o.documentReadCount<this.Ji?(gs()<=ke.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",ys(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),U.resolve()):(gs()<=ke.DEBUG&&ee("QueryEngine","Query:",ys(r),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.Yi*l?(gs()<=ke.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",ys(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bn(r))):U.resolve())}Xi(t,r){if(ip(r))return U.resolve(null);let o=bn(r);return this.indexManager.getIndexType(t,o).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=Bc(r,null,"F"),o=bn(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(c=>{const p=Ve(...c);return this.Zi.getDocuments(t,p).next(g=>this.indexManager.getMinOffset(t,o).next(_=>{const w=this.rs(r,g);return this.ss(r,w,p,_.readTime)?this.Xi(t,Bc(r,null,"F")):this.os(t,w,r,_)}))})))}es(t,r,o,l){return ip(r)||l.isEqual(pe.min())?U.resolve(null):this.Zi.getDocuments(t,o).next(c=>{const p=this.rs(r,c);return this.ss(r,p,o,l)?U.resolve(null):(gs()<=ke.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ys(r)),this.os(t,p,r,q_(l,-1)).next(g=>g))})}rs(t,r){let o=new ft(im(t));return r.forEach((l,c)=>{jl(t,c)&&(o=o.add(c))}),o}ss(t,r,o,l){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ts(t,r,o){return gs()<=ke.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",ys(r)),this.Zi.getDocumentsMatchingQuery(t,r,jr.min(),o)}os(t,r,o,l){return this.Zi.getDocumentsMatchingQuery(t,o,l).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,r,o,l){this.persistence=t,this._s=r,this.serializer=l,this.us=new nt(Ae),this.cs=new Si(c=>ih(c),sh),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(o)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cw(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.us))}}function Tw(s,t,r,o){return new Ew(s,t,r,o)}async function Tm(s,t){const r=Ce(s);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let l;return r.mutationQueue.getAllMutationBatches(o).next(c=>(l=c,r.Ps(t),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let _=Ve();for(const w of l){p.push(w.batchId);for(const A of w.mutations)_=_.add(A.key)}for(const w of c){g.push(w.batchId);for(const A of w.mutations)_=_.add(A.key)}return r.localDocuments.getDocuments(o,_).next(w=>({Ts:w,removedBatchIds:p,addedBatchIds:g}))})})}function Sm(s){const t=Ce(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Gr.getLastRemoteSnapshotVersion(r))}function Sw(s,t){const r=Ce(s),o=t.snapshotVersion;let l=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.hs.newChangeBuffer({trackRemovals:!0});l=r.us;const g=[];t.targetChanges.forEach((A,O)=>{const z=l.get(O);if(!z)return;g.push(r.Gr.removeMatchingKeys(c,A.removedDocuments,O).next(()=>r.Gr.addMatchingKeys(c,A.addedDocuments,O)));let q=z.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(O)!==null?q=q.withResumeToken(It.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,o)),l=l.insert(O,q),function(Z,K,De){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8?!0:De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0}(z,q,A)&&g.push(r.Gr.updateTargetData(c,q))});let _=Br(),w=Ve();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(Iw(c,p,t.documentUpdates).next(A=>{_=A.Is,w=A.Es})),!o.isEqual(pe.min())){const A=r.Gr.getLastRemoteSnapshotVersion(c).next(O=>r.Gr.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(A)}return U.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,_,w)).next(()=>_)}).then(c=>(r.us=l,c))}function Iw(s,t,r){let o=Ve(),l=Ve();return r.forEach(c=>o=o.add(c)),t.getEntries(s,o).next(c=>{let p=Br();return r.forEach((g,_)=>{const w=c.get(g);_.isFoundDocument()!==w.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(pe.min())?(t.removeEntry(g,_.readTime),p=p.insert(g,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||_.version.compareTo(w.version)===0&&w.hasPendingWrites?(t.addEntry(_),p=p.insert(g,_)):ee("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",_.version)}),{Is:p,Es:l}})}function kw(s,t){const r=Ce(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.Gr.getTargetData(o,t).next(c=>c?(l=c,U.resolve(l)):r.Gr.allocateTargetId(o).next(p=>(l=new Mr(t,p,"TargetPurposeListen",o.currentSequenceNumber),r.Gr.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.us.get(o.targetId);return(l===null||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.us=r.us.insert(o.targetId,o),r.cs.set(t,o.targetId)),o})}async function Kc(s,t,r){const o=Ce(s),l=o.us.get(t),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,l))}catch(p){if(!Ns(p))throw p;ee("LocalStore",`Failed to update sequence numbers for target ${t}: ${p}`)}o.us=o.us.remove(t),o.cs.delete(l.target)}function gp(s,t,r){const o=Ce(s);let l=pe.min(),c=Ve();return o.persistence.runTransaction("Execute query","readwrite",p=>function(_,w,A){const O=Ce(_),z=O.cs.get(A);return z!==void 0?U.resolve(O.us.get(z)):O.Gr.getTargetData(w,A)}(o,p,bn(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(p,g.targetId).next(_=>{c=_})}).next(()=>o._s.getDocumentsMatchingQuery(p,t,r?l:pe.min(),r?c:Ve())).next(g=>(Aw(o,yv(t),g),{documents:g,ds:c})))}function Aw(s,t,r){let o=s.ls.get(t)||pe.min();r.forEach((l,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),s.ls.set(t,o)}class yp{constructor(){this.activeTargetIds=Sv()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Cw{constructor(){this._o=new yp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,r,o){this.ao[t]=r}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new yp,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl=null;function Cc(){return pl===null?pl=function(){return 268435456+Math.round(2147483648*Math.random())}():pl++,"0x"+pl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class Vw extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+r.host,this.Mo=`projects/${l}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}Oo(r,o,l,c,p){const g=Cc(),_=this.No(r,o.toUriEncodedString());ee("RestConnection",`Sending RPC '${r}' ${g}:`,_,l);const w={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(w,c,p),this.Bo(r,_,w,l).then(A=>(ee("RestConnection",`Received RPC '${r}' ${g}: `,A),A),A=>{throw Is("RestConnection",`RPC '${r}' ${g} failed with error: `,A,"url: ",_,"request:",l),A})}ko(r,o,l,c,p,g){return this.Oo(r,o,l,c,p)}Lo(r,o,l){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>r[p]=c),l&&l.headers.forEach((c,p)=>r[p]=c)}No(r,o){const l=Pw[r];return`${this.Fo}/v1/${o}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,r,o,l){const c=Cc();return new Promise((p,g)=>{const _=new $p;_.setWithCredentials(!0),_.listenOnce(Hp.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case yl.NO_ERROR:const A=_.getResponseJson();ee(Vt,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),p(A);break;case yl.TIMEOUT:ee(Vt,`RPC '${t}' ${c} timed out`),g(new he(Y.DEADLINE_EXCEEDED,"Request time out"));break;case yl.HTTP_ERROR:const O=_.getStatus();if(ee(Vt,`RPC '${t}' ${c} failed with status:`,O,"response text:",_.getResponseText()),O>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const q=z==null?void 0:z.error;if(q&&q.status&&q.message){const te=function(K){const De=K.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(De)>=0?De:Y.UNKNOWN}(q.status);g(new he(te,q.message))}else g(new he(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new he(Y.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{ee(Vt,`RPC '${t}' ${c} completed.`)}});const w=JSON.stringify(l);ee(Vt,`RPC '${t}' ${c} sending request:`,l),_.send(r,"POST",w,o,15)})}qo(t,r,o){const l=Cc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=Kp(),g=Qp(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(_.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Lo(_.initMessageHeaders,r,o),_.encodeInitMessageHeaders=!0;const A=c.join("");ee(Vt,`Creating RPC '${t}' stream ${l}: ${A}`,_);const O=p.createWebChannel(A,_);let z=!1,q=!1;const te=new xw({Eo:K=>{q?ee(Vt,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(z||(ee(Vt,`Opening RPC '${t}' stream ${l} transport.`),O.open(),z=!0),ee(Vt,`RPC '${t}' stream ${l} sending:`,K),O.send(K))},Ao:()=>O.close()}),Z=(K,De,Re)=>{K.listen(De,ve=>{try{Re(ve)}catch(we){setTimeout(()=>{throw we},0)}})};return Z(O,Vo.EventType.OPEN,()=>{q||(ee(Vt,`RPC '${t}' stream ${l} transport opened.`),te.So())}),Z(O,Vo.EventType.CLOSE,()=>{q||(q=!0,ee(Vt,`RPC '${t}' stream ${l} transport closed`),te.Do())}),Z(O,Vo.EventType.ERROR,K=>{q||(q=!0,Is(Vt,`RPC '${t}' stream ${l} transport errored:`,K),te.Do(new he(Y.UNAVAILABLE,"The operation could not be completed")))}),Z(O,Vo.EventType.MESSAGE,K=>{var De;if(!q){const Re=K.data[0];We(!!Re);const ve=Re,we=(ve==null?void 0:ve.error)||((De=ve[0])===null||De===void 0?void 0:De.error);if(we){ee(Vt,`RPC '${t}' stream ${l} received error:`,we);const Xe=we.status;let Pe=function(I){const R=st[I];if(R!==void 0)return fm(R)}(Xe),P=we.message;Pe===void 0&&(Pe=Y.INTERNAL,P="Unknown error status: "+Xe+" with message "+we.message),q=!0,te.Do(new he(Pe,P)),O.close()}else ee(Vt,`RPC '${t}' stream ${l} received:`,Re),te.vo(Re)}}),Z(g,qp.STAT_EVENT,K=>{K.stat===Oc.PROXY?ee(Vt,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===Oc.NOPROXY&&ee(Vt,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{te.bo()},0),te}}function Rc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s){return new Uv(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,r,o=1e3,l=1.5,c=6e4){this.li=t,this.timerId=r,this.Qo=o,this.Ko=l,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const r=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),l=Math.max(0,r-o);l>0&&ee("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,l,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,r,o,l,c,p,g,_){this.li=t,this.Yo=o,this.Zo=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new km(t,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(lr(r.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(r)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Xo===r&&this.I_(o,l)},o=>{t(()=>{const l=new he(Y.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(l)})})}I_(t,r){const o=this.T_(this.Xo);this.stream=this.d_(t,r),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(l=>{o(()=>this.E_(l))}),this.stream.onMessage(l=>{o(()=>++this.n_==1?this.A_(l):this.onNext(l))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(t){return ee("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return r=>{this.li.enqueueAndForget(()=>this.Xo===t?r():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dw extends Nw{constructor(t,r,o,l,c,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,p),this.serializer=c}d_(t,r){return this.connection.qo("Listen",t,r)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const r=Qv(this.serializer,t),o=function(c){if(!("targetChange"in c))return pe.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?pe.min():p.readTime?Es(p.readTime):pe.min()}(t);return this.listener.R_(r,o)}V_(t){const r={};r.database=dp(this.serializer),r.addTarget=function(c,p){let g;const _=p.target;if(g=Uc(_)?{documents:Kv(c,_)}:{query:Wv(c,_).ct},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=$v(c,p.resumeToken);const w=qc(c,p.expectedCount);w!==null&&(g.expectedCount=w)}else if(p.snapshotVersion.compareTo(pe.min())>0){g.readTime=Bv(c,p.snapshotVersion.toTimestamp());const w=qc(c,p.expectedCount);w!==null&&(g.expectedCount=w)}return g}(this.serializer,t);const o=Yv(this.serializer,t);o&&(r.labels=o),this.c_(r)}m_(t){const r={};r.database=dp(this.serializer),r.removeTarget=t,this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends class{}{constructor(t,r,o,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=l,this.S_=!1}b_(){if(this.S_)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,r,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Oo(t,Qc(r,o),l,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Y.UNKNOWN,c.toString())})}ko(t,r,o,l,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.ko(t,Qc(r,o),l,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new he(Y.UNKNOWN,p.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Mw{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(lr(r),this.C_=!1):ee("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,r,o,l,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(p=>{o.enqueueAndForget(async()=>{Ko(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(_){const w=Ce(_);w.k_.add(4),await Qo(w),w.K_.set("Unknown"),w.k_.delete(4),await Bl(w)}(this))})}),this.K_=new Mw(o,l)}}async function Bl(s){if(Ko(s))for(const t of s.q_)await t(!0)}async function Qo(s){for(const t of s.q_)await t(!1)}function Am(s,t){const r=Ce(s);r.B_.has(t.targetId)||(r.B_.set(t.targetId,t),mh(r)?ph(r):Ds(r).s_()&&dh(r,t))}function fh(s,t){const r=Ce(s),o=Ds(r);r.B_.delete(t),o.s_()&&Cm(r,t),r.B_.size===0&&(o.s_()?o.a_():Ko(r)&&r.K_.set("Unknown"))}function dh(s,t){if(s.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pe.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Ds(s).V_(t)}function Cm(s,t){s.U_.xe(t),Ds(s).m_(t)}function ph(s){s.U_=new Fv({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>s.B_.get(t)||null,nt:()=>s.datastore.serializer.databaseId}),Ds(s).start(),s.K_.F_()}function mh(s){return Ko(s)&&!Ds(s).i_()&&s.B_.size>0}function Ko(s){return Ce(s).k_.size===0}function Rm(s){s.U_=void 0}async function Fw(s){s.K_.set("Online")}async function jw(s){s.B_.forEach((t,r)=>{dh(s,t)})}async function zw(s,t){Rm(s),mh(s)?(s.K_.O_(t),ph(s)):s.K_.set("Unknown")}async function bw(s,t,r){if(s.K_.set("Online"),t instanceof pm&&t.state===2&&t.cause)try{await async function(l,c){const p=c.cause;for(const g of c.targetIds)l.B_.has(g)&&(await l.remoteSyncer.rejectListen(g,p),l.B_.delete(g),l.U_.removeTarget(g))}(s,t)}catch(o){ee("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),await vp(s,o)}else if(t instanceof wl?s.U_.$e(t):t instanceof dm?s.U_.Je(t):s.U_.Ge(t),!r.isEqual(pe.min()))try{const o=await Sm(s.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.U_.it(p);return g.targetChanges.forEach((_,w)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.B_.get(w);A&&c.B_.set(w,A.withResumeToken(_.resumeToken,p))}}),g.targetMismatches.forEach((_,w)=>{const A=c.B_.get(_);if(!A)return;c.B_.set(_,A.withResumeToken(It.EMPTY_BYTE_STRING,A.snapshotVersion)),Cm(c,_);const O=new Mr(A.target,_,w,A.sequenceNumber);dh(c,O)}),c.remoteSyncer.applyRemoteEvent(g)}(s,r)}catch(o){ee("RemoteStore","Failed to raise snapshot:",o),await vp(s,o)}}async function vp(s,t,r){if(!Ns(t))throw t;s.k_.add(1),await Qo(s),s.K_.set("Offline"),r||(r=()=>Sm(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await r(),s.k_.delete(1),await Bl(s)})}async function wp(s,t){const r=Ce(s);r.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const o=Ko(r);r.k_.add(3),await Qo(r),o&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.k_.delete(3),await Bl(r)}async function Uw(s,t){const r=Ce(s);t?(r.k_.delete(2),await Bl(r)):t||(r.k_.add(2),await Qo(r),r.K_.set("Unknown"))}function Ds(s){return s.W_||(s.W_=function(r,o,l){const c=Ce(r);return c.b_(),new Dw(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{Ro:Fw.bind(null,s),mo:jw.bind(null,s),po:zw.bind(null,s),R_:bw.bind(null,s)}),s.q_.push(async t=>{t?(s.W_.__(),mh(s)?ph(s):s.K_.set("Unknown")):(await s.W_.stop(),Rm(s))})),s.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,r,o,l,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=c,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,l,c){const p=Date.now()+o,g=new gh(t,r,p,l,c);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(s,t){if(lr("AsyncQueue",`${t}: ${s}`),Ns(s))return new he(Y.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{static emptySet(t){return new Ts(t.comparator)}constructor(t){this.comparator=t?(r,o)=>t(r,o)||fe.comparator(r.key,o.key):(r,o)=>fe.comparator(r.key,o.key),this.keyedMap=No(),this.sortedSet=new nt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Ts)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const o=new Ts;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.z_=new nt(fe.comparator)}track(t){const r=t.doc.key,o=this.z_.get(r);o?t.type!==0&&o.type===3?this.z_=this.z_.insert(r,t):t.type===3&&o.type!==1?this.z_=this.z_.insert(r,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.z_=this.z_.insert(r,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.z_=this.z_.remove(r):t.type===1&&o.type===2?this.z_=this.z_.insert(r,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):me():this.z_=this.z_.insert(r,t)}j_(){const t=[];return this.z_.inorderTraversal((r,o)=>{t.push(o)}),t}}class Ps{constructor(t,r,o,l,c,p,g,_,w){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(t,r,o,l,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new Ps(t,r,Ts.emptySet(r),p,o,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class $w{constructor(){this.queries=Tp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,o){const l=Ce(r),c=l.queries;l.queries=Tp(),c.forEach((p,g)=>{for(const _ of g.J_)_.onError(o)})})(this,new he(Y.ABORTED,"Firestore shutting down"))}}function Tp(){return new Si(s=>rm(s),Fl)}async function Hw(s,t){const r=Ce(s);let o=3;const l=t.query;let c=r.queries.get(l);c?!c.Y_()&&t.Z_()&&(o=2):(c=new Bw,o=t.Z_()?0:1);try{switch(o){case 0:c.H_=await r.onListen(l,!0);break;case 1:c.H_=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const g=Pm(p,`Initialization of query '${ys(t.query)}' failed`);return void t.onError(g)}r.queries.set(l,c),c.J_.push(t),t.ea(r.onlineState),c.H_&&t.ta(c.H_)&&yh(r)}async function qw(s,t){const r=Ce(s),o=t.query;let l=3;const c=r.queries.get(o);if(c){const p=c.J_.indexOf(t);p>=0&&(c.J_.splice(p,1),c.J_.length===0?l=t.Z_()?0:1:!c.Y_()&&t.Z_()&&(l=2))}switch(l){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function Qw(s,t){const r=Ce(s);let o=!1;for(const l of t){const c=l.query,p=r.queries.get(c);if(p){for(const g of p.J_)g.ta(l)&&(o=!0);p.H_=l}}o&&yh(r)}function Kw(s,t,r){const o=Ce(s),l=o.queries.get(t);if(l)for(const c of l.J_)c.onError(r);o.queries.delete(t)}function yh(s){s.X_.forEach(t=>{t.next()})}var Wc,Sp;(Sp=Wc||(Wc={})).na="default",Sp.Cache="cache";class Ww{constructor(t,r,o){this.query=t,this.ra=r,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(t){if(!this.options.includeMetadataChanges){const o=[];for(const l of t.docChanges)l.type!==3&&o.push(l);t=new Ps(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ia?this.oa(t)&&(this.ra.next(t),r=!0):this._a(t,this.onlineState)&&(this.aa(t),r=!0),this.sa=t,r}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let r=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),r=!0),r}_a(t,r){if(!t.fromCache||!this.Z_())return!0;const o=r!=="Offline";return(!this.options.ua||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const r=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}aa(t){t=Ps.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==Wc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t){this.key=t}}class Vm{constructor(t){this.key=t}}class Gw{constructor(t,r){this.query=t,this.da=r,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=im(t),this.ma=new Ts(this.Va)}get fa(){return this.da}ga(t,r){const o=r?r.pa:new Ep,l=r?r.ma:this.ma;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,w=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,O)=>{const z=l.get(A),q=jl(this.query,O)?O:null,te=!!z&&this.mutatedKeys.has(z.key),Z=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let K=!1;z&&q?z.data.isEqual(q.data)?te!==Z&&(o.track({type:3,doc:q}),K=!0):this.ya(z,q)||(o.track({type:2,doc:q}),K=!0,(_&&this.Va(q,_)>0||w&&this.Va(q,w)<0)&&(g=!0)):!z&&q?(o.track({type:0,doc:q}),K=!0):z&&!q&&(o.track({type:1,doc:z}),K=!0,(_||w)&&(g=!0)),K&&(q?(p=p.add(q),c=Z?c.add(A):c.delete(A)):(p=p.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const A=this.query.limitType==="F"?p.last():p.first();p=p.delete(A.key),c=c.delete(A.key),o.track({type:1,doc:A})}return{ma:p,pa:o,ss:g,mutatedKeys:c}}ya(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o,l){const c=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const p=t.pa.j_();p.sort((A,O)=>function(q,te){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return Z(q)-Z(te)}(A.type,O.type)||this.Va(A.doc,O.doc)),this.wa(o),l=l!=null&&l;const g=r&&!l?this.Sa():[],_=this.Ra.size===0&&this.current&&!l?1:0,w=_!==this.Aa;return this.Aa=_,p.length!==0||w?{snapshot:new Ps(this.query,t.ma,c,p,t.mutatedKeys,_===0,w,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ep,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(r=>this.da=this.da.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.da=this.da.delete(r)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Ve(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const r=[];return t.forEach(o=>{this.Ra.has(o)||r.push(new Vm(o))}),this.Ra.forEach(o=>{t.has(o)||r.push(new xm(o))}),r}va(t){this.da=t.ds,this.Ra=Ve();const r=this.ga(t.documents);return this.applyChanges(r,!0)}Ca(){return Ps.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Yw{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class Xw{constructor(t){this.key=t,this.Fa=!1}}class Jw{constructor(t,r,o,l,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Ma={},this.xa=new Si(g=>rm(g),Fl),this.Oa=new Map,this.Na=new Set,this.La=new nt(fe.comparator),this.Ba=new Map,this.ka=new uh,this.qa={},this.Qa=new Map,this.Ka=Rs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Zw(s,t,r=!0){const o=Om(s);let l;const c=o.xa.get(t);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Ca()):l=await Nm(o,t,r,!0),l}async function eE(s,t){const r=Om(s);await Nm(r,t,!0,!1)}async function Nm(s,t,r,o){const l=await kw(s.localStore,bn(t)),c=l.targetId,p=s.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await tE(s,t,c,p==="current",l.resumeToken)),s.isPrimaryClient&&r&&Am(s.remoteStore,l),g}async function tE(s,t,r,o,l){s.Ua=(O,z,q)=>async function(Z,K,De,Re){let ve=K.view.ga(De);ve.ss&&(ve=await gp(Z.localStore,K.query,!1).then(({documents:P})=>K.view.ga(P,ve)));const we=Re&&Re.targetChanges.get(K.targetId),Xe=Re&&Re.targetMismatches.get(K.targetId)!=null,Pe=K.view.applyChanges(ve,Z.isPrimaryClient,we,Xe);return kp(Z,K.targetId,Pe.ba),Pe.snapshot}(s,O,z,q);const c=await gp(s.localStore,t,!0),p=new Gw(t,c.ds),g=p.ga(c.documents),_=qo.createSynthesizedTargetChangeForCurrentChange(r,o&&s.onlineState!=="Offline",l),w=p.applyChanges(g,s.isPrimaryClient,_);kp(s,r,w.ba);const A=new Yw(t,r,p);return s.xa.set(t,A),s.Oa.has(r)?s.Oa.get(r).push(t):s.Oa.set(r,[t]),w.snapshot}async function nE(s,t,r){const o=Ce(s),l=o.xa.get(t),c=o.Oa.get(l.targetId);if(c.length>1)return o.Oa.set(l.targetId,c.filter(p=>!Fl(p,t))),void o.xa.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||await Kc(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),r&&fh(o.remoteStore,l.targetId),Gc(o,l.targetId)}).catch(Nl)):(Gc(o,l.targetId),await Kc(o.localStore,l.targetId,!0))}async function rE(s,t){const r=Ce(s),o=r.xa.get(t),l=r.Oa.get(o.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),fh(r.remoteStore,o.targetId))}async function Dm(s,t){const r=Ce(s);try{const o=await Sw(r.localStore,t);t.targetChanges.forEach((l,c)=>{const p=r.Ba.get(c);p&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.Fa=!0:l.modifiedDocuments.size>0?We(p.Fa):l.removedDocuments.size>0&&(We(p.Fa),p.Fa=!1))}),await Mm(r,o,t)}catch(o){await Nl(o)}}function Ip(s,t,r){const o=Ce(s);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const l=[];o.xa.forEach((c,p)=>{const g=p.view.ea(t);g.snapshot&&l.push(g.snapshot)}),function(p,g){const _=Ce(p);_.onlineState=g;let w=!1;_.queries.forEach((A,O)=>{for(const z of O.J_)z.ea(g)&&(w=!0)}),w&&yh(_)}(o.eventManager,t),l.length&&o.Ma.R_(l),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function iE(s,t,r){const o=Ce(s);o.sharedClientState.updateQueryState(t,"rejected",r);const l=o.Ba.get(t),c=l&&l.key;if(c){let p=new nt(fe.comparator);p=p.insert(c,Dt.newNoDocument(c,pe.min()));const g=Ve().add(c),_=new Ul(pe.min(),new Map,new nt(Ae),p,g);await Dm(o,_),o.La=o.La.remove(c),o.Ba.delete(t),_h(o)}else await Kc(o.localStore,t,!1).then(()=>Gc(o,t,r)).catch(Nl)}function Gc(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const o of s.Oa.get(t))s.xa.delete(o),r&&s.Ma.Wa(o,r);s.Oa.delete(t),s.isPrimaryClient&&s.ka.yr(t).forEach(o=>{s.ka.containsKey(o)||Lm(s,o)})}function Lm(s,t){s.Na.delete(t.path.canonicalString());const r=s.La.get(t);r!==null&&(fh(s.remoteStore,r),s.La=s.La.remove(t),s.Ba.delete(r),_h(s))}function kp(s,t,r){for(const o of r)o instanceof xm?(s.ka.addReference(o.key,t),sE(s,o)):o instanceof Vm?(ee("SyncEngine","Document no longer in limbo: "+o.key),s.ka.removeReference(o.key,t),s.ka.containsKey(o.key)||Lm(s,o.key)):me()}function sE(s,t){const r=t.key,o=r.path.canonicalString();s.La.get(r)||s.Na.has(o)||(ee("SyncEngine","New document in limbo: "+r),s.Na.add(o),_h(s))}function _h(s){for(;s.Na.size>0&&s.La.size<s.maxConcurrentLimboResolutions;){const t=s.Na.values().next().value;s.Na.delete(t);const r=new fe(Ye.fromString(t)),o=s.Ka.next();s.Ba.set(o,new Xw(r)),s.La=s.La.insert(r,o),Am(s.remoteStore,new Mr(bn(nm(r.path)),o,"TargetPurposeLimboResolution",Dl.oe))}}async function Mm(s,t,r){const o=Ce(s),l=[],c=[],p=[];o.xa.isEmpty()||(o.xa.forEach((g,_)=>{p.push(o.Ua(_,t,r).then(w=>{var A;if((w||r)&&o.isPrimaryClient){const O=w?!w.fromCache:(A=r==null?void 0:r.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;o.sharedClientState.updateQueryState(_.targetId,O?"current":"not-current")}if(w){l.push(w);const O=hh.zi(_.targetId,w);c.push(O)}}))}),await Promise.all(p),o.Ma.R_(l),await async function(_,w){const A=Ce(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>U.forEach(w,z=>U.forEach(z.Wi,q=>A.persistence.referenceDelegate.addReference(O,z.targetId,q)).next(()=>U.forEach(z.Gi,q=>A.persistence.referenceDelegate.removeReference(O,z.targetId,q)))))}catch(O){if(!Ns(O))throw O;ee("LocalStore","Failed to update sequence numbers: "+O)}for(const O of w){const z=O.targetId;if(!O.fromCache){const q=A.us.get(z),te=q.snapshotVersion,Z=q.withLastLimboFreeSnapshotVersion(te);A.us=A.us.insert(z,Z)}}}(o.localStore,c))}async function oE(s,t){const r=Ce(s);if(!r.currentUser.isEqual(t)){ee("SyncEngine","User change. New user:",t.toKey());const o=await Tm(r.localStore,t);r.currentUser=t,function(c,p){c.Qa.forEach(g=>{g.forEach(_=>{_.reject(new he(Y.CANCELLED,p))})}),c.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await Mm(r,o.Ts)}}function aE(s,t){const r=Ce(s),o=r.Ba.get(t);if(o&&o.Fa)return Ve().add(o.key);{let l=Ve();const c=r.Oa.get(t);if(!c)return l;for(const p of c){const g=r.xa.get(p);l=l.unionWith(g.view.fa)}return l}}function Om(s){const t=Ce(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iE.bind(null,t),t.Ma.R_=Qw.bind(null,t.eventManager),t.Ma.Wa=Kw.bind(null,t.eventManager),t}class xl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Im(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return Tw(this.persistence,new ww,t.initialUser,this.serializer)}ja(t){return new Em(ch.ei,this.serializer)}za(t){return new Cw}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xl.provider={build:()=>new xl};class lE extends xl{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,r){We(this.persistence.referenceDelegate instanceof Pl);const o=this.persistence.referenceDelegate.garbageCollector;return new sw(o,t.asyncQueue,r)}ja(t){const r=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new Em(o=>Pl.ei(o,r),this.serializer)}}class Yc{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Ip(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=oE.bind(null,this.syncEngine),await Uw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new $w}()}createDatastore(t){const r=Im(t.databaseInfo.databaseId),o=function(c){return new Vw(c)}(t.databaseInfo);return function(c,p,g,_){return new Lw(c,p,g,_)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,l,c,p,g){return new Ow(o,l,c,p,g)}(this.localStore,this.datastore,t.asyncQueue,r=>Ip(this.syncEngine,r,0),function(){return _p.p()?new _p:new Rw}())}createSyncEngine(t,r){return function(l,c,p,g,_,w,A){const O=new Jw(l,c,p,g,_,w);return A&&(O.$a=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(l){const c=Ce(l);ee("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await Qo(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Yc.provider={build:()=>new Yc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,r,o,l,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=Nt.UNAUTHENTICATED,this.clientId=$_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{ee("FirestoreClient","Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(ee("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Pm(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function Pc(s,t){s.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(async l=>{o.isEqual(l)||(await Tm(t.localStore,l),o=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Ap(s,t){s.asyncQueue.verifyOperationInProgress();const r=await hE(s);ee("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(o=>wp(t.remoteStore,o)),s.setAppCheckTokenChangeListener((o,l)=>wp(t.remoteStore,l)),s._onlineComponents=t}async function hE(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pc(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;Is("Error using user provided cache. Falling back to memory cache: "+r),await Pc(s,new xl)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Pc(s,new lE(void 0));return s._offlineComponents}async function fE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Ap(s,s._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await Ap(s,new Yc))),s._onlineComponents}async function dE(s){const t=await fE(s),r=t.eventManager;return r.onListen=Zw.bind(null,t.syncEngine),r.onUnlisten=nE.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=eE.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=rE.bind(null,t.syncEngine),r}function pE(s,t,r={}){const o=new wi;return s.asyncQueue.enqueueAndForget(async()=>function(c,p,g,_,w){const A=new uE({next:z=>{A.eu(),p.enqueueAndForget(()=>qw(c,O)),z.fromCache&&_.source==="server"?w.reject(new he(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(z)},error:z=>w.reject(z)}),O=new Ww(g,A,{includeMetadataChanges:!0,ua:!0});return Hw(c,O)}(await dE(s),s.asyncQueue,t,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=new Map;function mE(s,t,r,o){if(t===!0&&o===!0)throw new he(Y.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Rp(s){if(fe.isDocumentKey(s))throw new he(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function gE(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":me()}function Xc(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new he(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=gE(s);throw new he(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new he(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new he(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fm((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,r,o,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new he(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(t),t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new M_;switch(o.type){case"firstParty":return new z_(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new he(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Cp.get(r);o&&(ee("ComponentProvider","Removing Datastore"),Cp.delete(r),o.terminate())}(this),Promise.resolve()}}function yE(s,t,r,o={}){var l;const c=(s=Xc(s,vh))._getSettings(),p=`${t}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==p&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let g,_;if(typeof o.mockUserToken=="string")g=o.mockUserToken,_=Nt.MOCK_USER;else{g=dy(o.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const w=o.mockUserToken.sub||o.mockUserToken.user_id;if(!w)throw new he(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Nt(w)}s._authCredentials=new O_(new Wp(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new $l(this.firestore,t,this._query)}}class Ls{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ls(this.firestore,t,this._key)}}class Ss extends $l{constructor(t,r,o){super(t,r,nm(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ls(this.firestore,null,new fe(t))}withConverter(t){return new Ss(this.firestore,t,this._path)}}function _E(s,t,...r){if(s=Ty(s),s instanceof vh){const o=Ye.fromString(t,...r);return Rp(o),new Ss(s,null,o)}{if(!(s instanceof Ls||s instanceof Ss))throw new he(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Ye.fromString(t,...r));return Rp(o),new Ss(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new km(this,"async_queue_retry"),this.fu=()=>{const o=Rc();o&&ee("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=t;const r=Rc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const r=Rc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise(()=>{});const r=new wi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Ns(t))throw t;ee("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const r=this.gu.then(()=>(this.Ru=!0,t().catch(o=>{this.Au=o,this.Ru=!1;const l=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(o);throw lr("INTERNAL UNHANDLED ERROR: ",l),o}).then(o=>(this.Ru=!1,o))));return this.gu=r,r}enqueueAfterDelay(t,r,o){this.pu(),this.mu.indexOf(t)>-1&&(r=0);const l=gh.createAndSchedule(this,t,r,o,c=>this.Su(c));return this.du.push(l),l}pu(){this.Au&&me()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const r of this.du)if(r.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const r=this.du.indexOf(t);this.du.splice(r,1)}}class jm extends vh{constructor(t,r,o,l){super(t,r,o,l),this.type="firestore",this._queue=new xp,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xp(t),this._firestoreClient=void 0,await t}}}function vE(s,t){const r=typeof s=="object"?s:S_(),o=typeof s=="string"?s:"(default)",l=v_(r,"firestore").getImmediate({identifier:o});if(!l._initialized){const c=hy("firestore");c&&yE(l,...c)}return l}function wE(s){if(s._terminated)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||EE(s),s._firestoreClient}function EE(s){var t,r,o;const l=s._freezeSettings(),c=function(g,_,w,A){return new tv(g,_,w,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Fm(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=l.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new cE(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vl(It.fromBase64String(t))}catch(r){throw new he(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Vl(It.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new he(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new he(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new he(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ae(this._lat,t._lat)||Ae(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,l){if(o.length!==l.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==l[c])return!1;return!0}(this._values,t._values)}}const IE=new RegExp("[~\\*/\\[\\]]");function kE(s,t,r){if(t.search(IE)>=0)throw Vp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new zm(...t.split("."))._internalPath}catch{throw Vp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Vp(s,t,r,o,l){let c=`Function ${t}() called with invalid data`;c+=". ";let p="";return new he(Y.INVALID_ARGUMENT,c+s+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,r,o,l,c){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Um("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class AE extends bm{data(){return super.data()}}function Um(s,t){return typeof t=="string"?kE(s,t):t instanceof zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RE{convertValue(t,r="none"){switch(Ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw me()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return Ho(t,(l,c)=>{o[l]=this.convertValue(c,r)}),o}convertVectorValue(t){var r,o,l;const c=(l=(o=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||l===void 0?void 0:l.map(p=>tt(p.doubleValue));return new SE(c)}convertGeoPoint(t){return new TE(tt(t.latitude),tt(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=Ml(t);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Uo(t));default:return null}}convertTimestamp(t){const r=zr(t);return new Wt(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=Ye.fromString(t);We(wm(o));const l=new Bo(o.get(1),o.get(3)),c=new fe(o.popFirst(5));return l.isEqual(r)||lr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class PE extends bm{constructor(t,r,o,l,c,p){super(t,r,o,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new El(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(Um("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class El extends PE{data(t={}){return super.data(t)}}class xE{constructor(t,r,o,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new El(this._firestore,this._userDataWriter,o.key,o,new ml(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new he(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(g=>{const _=new El(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:p++}})}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const _=new El(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,A=-1;return g.type!==0&&(w=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),A=p.indexOf(g.doc.key)),{type:VE(g.type),doc:_,oldIndex:w,newIndex:A}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function VE(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class NE extends RE{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vl(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ls(this.firestore,null,r)}}function DE(s){s=Xc(s,$l);const t=Xc(s.firestore,jm),r=wE(t),o=new NE(t);return CE(s._query),pE(r,s._query).then(l=>new xE(t,o,s,l))}(function(t,r=!0){(function(l){Vs=l})(T_),Il(new jo("firestore",(o,{instanceIdentifier:l,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new jm(new F_(o.getProvider("auth-internal")),new U_(o.getProvider("app-check-internal")),function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new he(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(w.options.projectId,A)}(p,l),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ws(Kd,"4.7.5",t),ws(Kd,"4.7.5","esm2017")})();const LE={apiKey:"AIzaSyAKa9RhQtZ8769amZmjD5rbOu88RodbqvY",authDomain:"votinnnnlowkeycool.firebaseapp.com",projectId:"votinnnnlowkeycool",storageBucket:"votinnnnlowkeycool.firebasestorage.app",messagingSenderId:"958563482597",appId:"1:958563482597:web:63a0d76812792ad2534d0c",measurementId:"G-MJJPWEHXPZ"},ME=zp(LE),OE=vE(ME);function FE(){const[s,t]=gl.useState("vote"),[r,o]=gl.useState([]);gl.useEffect(()=>{async function p(){try{const _=(await DE(_E(OE,"results"))).docs.map(w=>({id:w.id,...w.data()}));o(_)}catch(g){console.error("Error fetching collection:",g)}}p()},[]);const l=()=>{const p=[...r].sort((_,w)=>w.count-_.count),g=Math.max(...p.map(_=>_.count),1);return re.jsx("div",{className:"results-section",children:re.jsxs("div",{className:"results-grid",children:[p.map(_=>re.jsxs("div",{className:"result-card",children:[re.jsxs("div",{className:"result-header",children:[re.jsx("span",{children:_.option}),re.jsx("span",{children:_.count})]}),re.jsx("div",{className:"progress-bar-bg",children:re.jsx("div",{className:"progress-bar",style:{width:`${_.count/g*100}%`}})})]},_.option)),re.jsxs("p",{className:"total-votes",children:["Total votes:"," ",p.reduce((_,w)=>_+w.count,0)]})]})})},c=()=>re.jsx("div",{className:"card-grid",children:ty.map((p,g)=>re.jsx(Zg,{imageSrc:`https://raw.githubusercontent.com/Madiocre/vote-images/main/${p.imageSrc}`,name:p.name,description:p.description,youtubeLink:p.youtubeLink,facebookLink:p.facebookLink,onClick:()=>alert("Voting functionality will be implemented soon!")},g))});return re.jsxs("div",{className:"container",children:[re.jsx("div",{className:"background-container",children:[...Array(20)].map((p,g)=>re.jsx("div",{className:`background-line background-line-${g+1}`},g))}),re.jsxs("nav",{className:"navbar",children:[re.jsx("button",{className:`nav-link ${s==="vote"?"active":""}`,onClick:()=>t("vote"),children:"Vote"}),re.jsx("button",{className:`nav-link ${s==="results"?"active":""}`,onClick:()=>t("results"),children:"Results"})]}),re.jsxs("div",{className:"logo-container",children:[re.jsx("img",{className:"logo",src:"https://raw.githubusercontent.com/Madiocre/vote-images/main/thebest.png",alt:"Logo",width:300,height:300}),re.jsx(ey,{})]}),s==="vote"?re.jsx(c,{}):re.jsx(l,{}),re.jsx("footer",{children:re.jsx("div",{className:"footer-bottom",children:re.jsxs("div",{className:"footer-bottom-social-icons",children:[re.jsxs("ul",{id:"footer-social-links",children:[re.jsx("li",{children:re.jsx("a",{href:"https://github.com/Madiocre",target:"_blank",children:"GitHub"})})," ","|",re.jsx("li",{children:re.jsx("a",{href:"https://www.linkedin.com/in/ahmed-shalaby-31a03a235/",target:"_blank",children:"LinkedIn"})})]}),re.jsxs("div",{className:"footer-bottom-site-credit",children:["Powered By:"," ",re.jsx("span",{id:"site-credit",children:re.jsx("a",{href:"https://github.com/Madiocre",target:"_blank",children:"Madiocre (Ahmed Shalaby)"})})]})]})})})]})}Jg.createRoot(document.getElementById("root")).render(re.jsx(gl.StrictMode,{children:re.jsx(FE,{})}));
